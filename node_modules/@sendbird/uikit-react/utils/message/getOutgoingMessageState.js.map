{"version":3,"file":"getOutgoingMessageState.js","sources":["../../../src/utils/exports/getOutgoingMessageState.ts"],"sourcesContent":["import { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { OpenChannel } from '@sendbird/chat/openChannel';\nimport { Nullable } from '../../types';\nimport { SendableMessageType } from '../index';\n\nexport enum OutgoingMessageStates {\n  NONE = 'NONE',\n  PENDING = 'PENDING',\n  SENT = 'SENT',\n  FAILED = 'FAILED',\n  DELIVERED = 'DELIVERED',\n  READ = 'READ',\n}\n\nexport const getOutgoingMessageState = (\n  channel: Nullable<GroupChannel | OpenChannel>,\n  message: SendableMessageType,\n): string => {\n  if (message.sendingStatus === 'pending') {\n    return OutgoingMessageStates.PENDING;\n  }\n  if (message.sendingStatus === 'failed') {\n    return OutgoingMessageStates.FAILED;\n  }\n  if (channel?.isGroupChannel?.()) {\n    /* GroupChannel only */\n    if ((channel as GroupChannel).getUnreadMemberCount?.(message) === 0) {\n      return OutgoingMessageStates.READ;\n    } else if ((channel as GroupChannel).getUndeliveredMemberCount?.(message) === 0) {\n      return OutgoingMessageStates.DELIVERED;\n    }\n  }\n  if (message.sendingStatus === 'succeeded') {\n    return OutgoingMessageStates.SENT;\n  }\n  return OutgoingMessageStates.NONE;\n};\n"],"names":["OutgoingMessageStates","getOutgoingMessageState","channel","message","sendingStatus","PENDING","FAILED","_a","isGroupChannel","call","_c","_b","getUnreadMemberCount","READ","_e","_d","getUndeliveredMemberCount","DELIVERED","SENT","NONE"],"mappings":"IAKYA,sBAOX;AAPD,CAAA,UAAYA,qBAAqB,EAAA;AAC/BA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACbA,EAAAA,qBAAA,CAAA,SAAA,CAAA,GAAA,SAAmB,CAAA;AACnBA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACbA,EAAAA,qBAAA,CAAA,QAAA,CAAA,GAAA,QAAiB,CAAA;AACjBA,EAAAA,qBAAA,CAAA,WAAA,CAAA,GAAA,WAAuB,CAAA;AACvBA,EAAAA,qBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACf,CAAC,EAPWA,qBAAqB,KAArBA,qBAAqB,GAOhC,EAAA,CAAA,CAAA,CAAA;AAEM,IAAMC,uBAAuB,GAAG,UACrCC,OAA6C,EAC7CC,OAA4B,EAAA;;AAE5B,EAAA,IAAIA,OAAO,CAACC,aAAa,KAAK,SAAS,EAAE;IACvC,OAAOJ,qBAAqB,CAACK,OAAO,CAAA;AACrC,GAAA;AACD,EAAA,IAAIF,OAAO,CAACC,aAAa,KAAK,QAAQ,EAAE;IACtC,OAAOJ,qBAAqB,CAACM,MAAM,CAAA;AACpC,GAAA;AACD,EAAA,IAAI,CAAAC,EAAA,GAAAL,OAAO,KAAP,IAAA,IAAAA,OAAO,uBAAPA,OAAO,CAAEM,cAAc,MAAA,IAAA,IAAAD,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAE,IAAA,CAAAP,OAAA,CAAI,EAAE;AAC/B;AACA,IAAA,IAAI,CAAA,CAAAQ,EAAA,GAAA,CAAAC,EAAA,GAACT,OAAwB,EAACU,oBAAoB,MAAA,IAAA,IAAAF,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAD,IAAA,CAAAE,EAAA,EAAGR,OAAO,CAAC,MAAK,CAAC,EAAE;MACnE,OAAOH,qBAAqB,CAACa,IAAI,CAAA;AAClC,KAAA,MAAM,IAAI,CAAA,CAAAC,EAAA,GAAA,CAAAC,EAAA,GAACb,OAAwB,EAACc,yBAAyB,MAAA,IAAA,IAAAF,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAL,IAAA,CAAAM,EAAA,EAAGZ,OAAO,CAAC,MAAK,CAAC,EAAE;MAC/E,OAAOH,qBAAqB,CAACiB,SAAS,CAAA;AACvC,KAAA;AACF,GAAA;AACD,EAAA,IAAId,OAAO,CAACC,aAAa,KAAK,WAAW,EAAE;IACzC,OAAOJ,qBAAqB,CAACkB,IAAI,CAAA;AAClC,GAAA;EACD,OAAOlB,qBAAqB,CAACmB,IAAI,CAAA;AACnC;;;;"}