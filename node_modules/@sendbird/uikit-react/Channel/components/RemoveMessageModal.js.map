{"version":3,"file":"RemoveMessageModal.js","sources":["../../../src/modules/Channel/components/RemoveMessageModal.tsx"],"sourcesContent":["import React, { useContext } from 'react';\n\nimport Modal from '../../../ui/Modal';\nimport { ButtonTypes } from '../../../ui/Button';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { useChannelContext } from '../context/ChannelProvider';\nimport { EveryMessage } from '../../../types';\nimport { getModalDeleteMessageTitle } from '../../../ui/Label/stringFormatterUtils';\n\nexport interface RemoveMessageProps {\n  onSubmit?: () => void;\n  onCancel: () => void;\n  message: EveryMessage;\n}\n\nconst RemoveMessage: React.FC<RemoveMessageProps> = (props: RemoveMessageProps) => {\n  const {\n    onSubmit = () => { /* noop */ },\n    onCancel,\n    message,\n  } = props;\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    deleteMessage,\n  } = useChannelContext();\n  return (\n    <Modal\n      type={ButtonTypes.DANGER}\n      disabled={message?.threadInfo?.replyCount > 0}\n      onCancel={onCancel}\n      onSubmit={() => {\n        deleteMessage(message).then(() => {\n          // For other status such as PENDING, SCHEDULED, and CANCELED,\n          // invalid parameters error is thrown so nothing happens.\n          onSubmit();\n          onCancel();\n        });\n      }}\n      submitText={stringSet.MESSAGE_MENU__DELETE}\n      titleText={getModalDeleteMessageTitle(stringSet, message)}\n    />\n  );\n};\n\nexport default RemoveMessage;\n"],"names":["RemoveMessage","props","_b","onSubmit","onCancel","message","stringSet","useContext","LocalizationContext","deleteMessage","useChannelContext","React","createElement","Modal","type","ButtonTypes","DANGER","disabled","threadInfo","_a","replyCount","then","submitText","MESSAGE_MENU__DELETE","titleText","getModalDeleteMessageTitle"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,aAAa,GAAiC,UAACC,KAAyB,EAAA;;AAE1E,EAAA,IAAAC,KAGED,KAAK,CAAAE,QAHwB;IAA/BA,QAAQ,GAAAD,EAAA,KAAA,KAAA,CAAA,GAAG,cAAoB,GAAAA,EAAA;IAC/BE,QAAQ,GAENH,KAAK,CAFCG,QAAA;IACRC,OAAO,GACLJ,KAAK,QADA,CAAA;AAED,EAAA,IAAAK,SAAS,GAAKC,UAAU,CAACC,mBAAmB,CAAC,UAApC,CAAA;AAEf,EAAA,IAAAC,aAAa,GACXC,iBAAiB,EAAE,cADR,CAAA;AAEf,EAAA,oBACEC,cAAA,CAAAC,aAAA,CAACC,KAAK,EAAA;IACJC,IAAI,EAAEC,WAAW,CAACC,MAAO;AACzBC,IAAAA,QAAQ,EAAE,CAAA,MAAAZ,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAEa,UAAU,MAAE,IAAA,IAAAC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAAC,UAAU,IAAG,CAAE;AAC9ChB,IAAAA,QAAQ,EAAEA,QAAS;IACnBD,QAAQ,EAAE,YAAA;AACRM,MAAAA,aAAa,CAACJ,OAAO,CAAC,CAACgB,IAAI,CAAC,YAAA;AAC1B;AACA;AACAlB,QAAAA,QAAQ,EAAE,CAAA;AACVC,QAAAA,QAAQ,EAAE,CAAA;AACZ,OAAC,CAAC,CAAA;KACF;IACFkB,UAAU,EAAEhB,SAAS,CAACiB,oBAAqB;AAC3CC,IAAAA,SAAS,EAAEC,0BAA0B,CAACnB,SAAS,EAAED,OAAO,CAAA;AAAE,GAC1D,CAAA,CAAA;AAEN;;;;"}