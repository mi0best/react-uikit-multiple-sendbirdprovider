{"version":3,"file":"CreateOpenChannelUI.js","sources":["../../../../src/modules/CreateOpenChannel/components/CreateOpenChannelUI/index.tsx"],"sourcesContent":["import React, { useState, useRef, useContext } from 'react';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Avatar from '../../../../ui/Avatar';\nimport { ButtonTypes } from '../../../../ui/Button';\nimport Modal from '../../../../ui/Modal';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport Input, { InputLabel } from '../../../../ui/Input';\nimport Label, { LabelColors, LabelTypography } from '../../../../ui/Label';\nimport TextButton from '../../../../ui/TextButton';\nimport { useCreateOpenChannelContext } from '../../context/CreateOpenChannelProvider';\n\nexport interface CreateOpenChannelUIProps {\n  closeModal?: () => void;\n  renderHeader?: () => React.ReactElement;\n  renderProfileInput?: () => React.ReactElement;\n}\n\nfunction CreateOpenChannelUI({\n  closeModal,\n  renderHeader,\n  renderProfileInput,\n}: CreateOpenChannelUIProps): React.ReactElement {\n  const [newFile, setNewFile] = useState(null);\n  const [currentImage, setCurrentImg] = useState(null);\n  const inputFormRef = useRef(null);\n  const inputFileRef = useRef(null);\n  const inputTextRef = useRef(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    logger,\n    createNewOpenChannel,\n  } = useCreateOpenChannelContext();\n  return (\n    <div className=\"sendbird-create-open-channel-ui\">\n      <Modal\n        isFullScreenOnMobile\n        titleText={stringSet.CREATE_OPEN_CHANNEL_LIST__TITLE}\n        submitText={stringSet.CREATE_OPEN_CHANNEL_LIST__SUBMIT}\n        type={ButtonTypes.PRIMARY}\n        onCancel={closeModal}\n        renderHeader={renderHeader}\n        onSubmit={() => {\n          const channelName = inputTextRef?.current?.value;\n          if (!channelName) {\n            logger.warning('CreateOpenChannelUI: You should fill the channel name');\n            return;\n          }\n          createNewOpenChannel({\n            name: channelName,\n            coverUrlOrImage: newFile,\n          });\n          closeModal();\n        }}\n      >\n        <>\n          {renderProfileInput?.() || (\n            <form\n              className=\"sendbird-create-open-channel-ui__profile-input\"\n              ref={inputFormRef}\n              onSubmit={(e) => { e.preventDefault(); }}\n            >\n              <InputLabel>\n                {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION}\n              </InputLabel>\n              <div className=\"sendbird-create-open-channel-ui__profile-input__img-section\">\n                <div className=\"sendbird-create-open-channel-ui__profile-input__img-section__avatar\">\n                  {currentImage\n                    ? (\n                      <Avatar\n                        width=\"80px\"\n                        height=\"80px\"\n                        src={currentImage}\n                      />\n                    ) : (\n                      <div className=\"sendbird-create-open-channel-ui__profile-input__img-section__avatar--default\">\n                        <Icon\n                          type={IconTypes.CHANNELS}\n                          fillColor={IconColors.CONTENT}\n                          width=\"46px\"\n                          height=\"46px\"\n                        />\n                      </div>\n                    )}\n                </div>\n                <input\n                  className=\"sendbird-create-open-channel-ui__profile-input__img-section__input\"\n                  ref={inputFileRef}\n                  type=\"file\"\n                  accept=\"image/gif, image/jpeg, image/png\"\n                  style={{ display: 'none' }}\n                  onChange={(e) => {\n                    setCurrentImg(URL.createObjectURL(e.target.files[0]));\n                    setNewFile(e.target.files[0]);\n                    inputFileRef.current.value = '';\n                  }}\n                />\n                <TextButton\n                  className=\"sendbird-create-open-channel-ui__profile-input__img-section__button\"\n                  onClick={() => inputFileRef.current.click()}\n                  disableUnderline\n                >\n                  <Label\n                    type={LabelTypography.BUTTON_1}\n                    color={LabelColors.PRIMARY}\n                  >\n                    {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD}\n                  </Label>\n                </TextButton>\n              </div>\n              <div style={{ marginTop: '20px' }}>\n                <InputLabel>\n                  {stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION}\n                </InputLabel>\n              </div>\n              <div className=\"sendbird-create-open-channel-ui__profile-input__name-section\">\n                <Input\n                  name=\"sendbird-create-open-channel-ui__profile-input__name-section__input\"\n                  ref={inputTextRef}\n                  placeHolder={stringSet.CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER}\n                />\n              </div>\n            </form>\n          )}\n        </>\n      </Modal>\n    </div>\n  );\n}\n\nexport default CreateOpenChannelUI;\n"],"names":["CreateOpenChannelUI","_a","closeModal","renderHeader","renderProfileInput","_b","useState","newFile","setNewFile","_c","currentImage","setCurrentImg","inputFormRef","useRef","inputFileRef","inputTextRef","stringSet","useContext","LocalizationContext","_d","useCreateOpenChannelContext","logger","createNewOpenChannel","React","createElement","className","Modal","isFullScreenOnMobile","titleText","CREATE_OPEN_CHANNEL_LIST__TITLE","submitText","CREATE_OPEN_CHANNEL_LIST__SUBMIT","type","ButtonTypes","PRIMARY","onCancel","onSubmit","channelName","current","value","warning","name","coverUrlOrImage","Fragment","ref","e","preventDefault","InputLabel","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION","Avatar","width","height","src","Icon","IconTypes","CHANNELS","fillColor","IconColors","CONTENT","accept","style","display","onChange","URL","createObjectURL","target","files","TextButton","onClick","click","disableUnderline","Label","LabelTypography","BUTTON_1","color","LabelColors","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD","marginTop","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION","Input","placeHolder","CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER"],"mappings":"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"}