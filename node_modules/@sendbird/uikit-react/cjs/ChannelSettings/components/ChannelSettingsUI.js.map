{"version":3,"file":"ChannelSettingsUI.js","sources":["../../../../src/modules/ChannelSettings/components/ChannelSettingsUI/index.tsx"],"sourcesContent":["import './channel-settings-ui.scss';\n\nimport React, { useContext, useState } from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelProfile from '../ChannelProfile';\nimport ModerationPanel from '../ModerationPanel';\nimport LeaveChannelModal from '../LeaveChannel';\nimport UserPanel from '../UserPanel';\n\nexport interface ChannelSettingsUIProps {\n  renderPlaceholderError?: () => React.ReactElement;\n  renderChannelProfile?: () => React.ReactElement;\n  renderModerationPanel?: () => React.ReactElement;\n  renderLeaveChannel?: () => React.ReactElement;\n}\n\nconst ChannelSettingsUI: React.FC<ChannelSettingsUIProps> = (props: ChannelSettingsUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettingsContext();\n\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const isOnline = state?.config?.isOnline;\n  const logger = state?.config?.logger;\n\n  const {\n    channel,\n    invalidChannel,\n    onCloseClick,\n  } = channelSettingStore;\n\n  const {\n    renderPlaceholderError,\n    renderChannelProfile,\n    renderModerationPanel,\n    renderLeaveChannel,\n  } = props;\n\n  if (!channel || invalidChannel) {\n    return (\n      <div>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          />\n        </div>\n        <div>\n          {\n            renderPlaceholderError\n              ? renderPlaceholderError()\n              : (\n                <PlaceHolder type={PlaceHolderTypes.WRONG} />\n              )\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile?.() || (\n            <ChannelProfile />\n          )\n        }\n        {\n          renderModerationPanel?.() || (\n            channel?.myRole === 'operator'\n              ? (<ModerationPanel />)\n              : (<UserPanel />)\n          )\n        }\n        {\n          renderLeaveChannel?.() || (\n            <div\n              className={[\n                'sendbird-channel-settings__panel-item',\n                'sendbird-channel-settings__leave-channel',\n                !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n              ].join(' ')}\n              role=\"button\"\n              onKeyDown={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              onClick={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              tabIndex={0}\n            >\n              <Icon\n                className={[\n                  'sendbird-channel-settings__panel-icon-left',\n                  'sendbird-channel-settings__panel-icon__leave',\n                ].join(' ')}\n                type={IconTypes.LEAVE}\n                fillColor={IconColors.ERROR}\n                height=\"24px\"\n                width=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n              </Label>\n            </div>\n          )\n        }\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCancel={() => {\n                setShowLeaveChannelModal(false);\n              }}\n              onSubmit={() => {\n                setShowLeaveChannelModal(false);\n                onCloseClick?.();\n              }}\n            />\n          )\n        }\n      </div>\n    </>\n  );\n};\n\nexport default ChannelSettingsUI;\n"],"names":["ChannelSettingsUI","props","stringSet","useContext","LocalizationContext","state","useSendbirdStateContext","channelSettingStore","useChannelSettingsContext","_c","useState","showLeaveChannelModal","setShowLeaveChannelModal","isOnline","_a","config","logger","_b","channel","invalidChannel","onCloseClick","renderPlaceholderError","renderChannelProfile","renderModerationPanel","renderLeaveChannel","React","createElement","className","Label","type","LabelTypography","H_2","color","LabelColors","ONBACKGROUND_1","CHANNEL_SETTING__HEADER__TITLE","Icon","IconTypes","CLOSE","height","width","onClick","info","PlaceHolder","PlaceHolderTypes","WRONG","Fragment","IconButton","ChannelProfile","myRole","ModerationPanel","UserPanel","join","role","onKeyDown","tabIndex","LEAVE","fillColor","IconColors","ERROR","SUBTITLE_1","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal","onCancel","onSubmit"],"mappings":"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"}