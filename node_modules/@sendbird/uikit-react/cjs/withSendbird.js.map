{"version":3,"file":"withSendbird.js","sources":["../../src/lib/SendbirdSdkContext.tsx"],"sourcesContent":["import React from 'react';\nimport type { SendBirdState } from './types';\n\ntype ContextAwareComponentType = {\n  (props: any): JSX.Element;\n  displayName: string;\n};\n\nexport const SendbirdSdkContext = React.createContext<SendBirdState | null>(null);\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst withSendbirdContext = (OriginalComponent: any, mapStoreToProps: Record<string, any>): ContextAwareComponentType => {\n  const ContextAwareComponent = (props) => (\n    <SendbirdSdkContext.Consumer>\n      {(context) => {\n        if (mapStoreToProps && typeof mapStoreToProps !== 'function') {\n          // eslint-disable-next-line no-console\n          console.warn('Second parameter to withSendbirdContext must be a pure function');\n        }\n        const mergedProps = (mapStoreToProps && typeof mapStoreToProps === 'function')\n          ? { ...mapStoreToProps(context), ...props }\n          : { ...context, ...props };\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        return <OriginalComponent {...mergedProps} />;\n      }}\n    </SendbirdSdkContext.Consumer>\n  );\n\n  const componentName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = `SendbirdAware${componentName}`;\n\n  return ContextAwareComponent;\n};\n\nexport default withSendbirdContext;\n"],"names":["SendbirdSdkContext","React","createContext","withSendbirdContext","OriginalComponent","mapStoreToProps","ContextAwareComponent","props","createElement","Consumer","context","console","warn","mergedProps","__assign","componentName","displayName","name","concat"],"mappings":";;;;;;;;;;;AAQO,IAAMA,kBAAkB,gBAAGC,yBAAK,CAACC,aAAa,CAAuB,IAAI,EAAC;AAEjF;AACA,IAAMC,mBAAmB,GAAG,UAACC,iBAAsB,EAAEC,eAAoC,EAAA;AACvF,EAAA,IAAMC,qBAAqB,GAAG,UAACC,KAAK,EAAA;IAAK,oBACvCN,yBAAA,CAAAO,aAAA,CAACR,kBAAkB,CAACS,QAAQ,EAAA,IAAA,EACzB,UAACC,OAAO,EAAA;AACP,MAAA,IAAIL,eAAe,IAAI,OAAOA,eAAe,KAAK,UAAU,EAAE;AAC5D;AACAM,QAAAA,OAAO,CAACC,IAAI,CAAC,iEAAiE,CAAC,CAAA;AAChF,OAAA;AACD,MAAA,IAAMC,WAAW,GAAIR,eAAe,IAAI,OAAOA,eAAe,KAAK,UAAU,GACpES,kBAAA,CAAAA,kBAAA,CAAA,EAAA,EAAAT,eAAe,CAACK,OAAO,CAAC,CAAK,EAAAH,KAAK,CACzC,GAAOO,kBAAA,CAAAA,kBAAA,CAAA,EAAA,EAAAJ,OAAO,CAAK,EAAAH,KAAK,CAAE,CAAA;AAC5B;AACA,MAAA,oBAAON,yBAAA,CAAAO,aAAA,CAACJ,iBAAiB,EAAKS,YAAe,CAAA;AAC/C,KAC2B,CAAC,CAAA;GAC/B,CAAA;EAED,IAAME,aAAa,GAAGX,iBAAiB,CAACY,WAAW,IAAIZ,iBAAiB,CAACa,IAAI,IAAI,WAAW,CAAA;EAC5FX,qBAAqB,CAACU,WAAW,GAAG,eAAgB,CAAAE,MAAA,CAAAH,aAAa,CAAE,CAAA;AAEnE,EAAA,OAAOT,qBAAqB,CAAA;AAC9B;;;;;"}