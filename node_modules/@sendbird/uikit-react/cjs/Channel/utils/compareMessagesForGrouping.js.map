{"version":3,"file":"compareMessagesForGrouping.js","sources":["../../../../src/modules/Channel/context/compareMessagesForGrouping.ts"],"sourcesContent":["import { UserMessage } from '@sendbird/chat/message';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\n\nimport { isSameGroup } from './utils';\nimport { ReplyType } from '../../../types';\nimport { CoreMessageType } from '../../../utils';\n\n/**\n * exported, should be backward compatible\n */\nexport const compareMessagesForGrouping = (\n  prevMessage: CoreMessageType,\n  currMessage: CoreMessageType,\n  nextMessage: CoreMessageType,\n  currentChannel: GroupChannel,\n  replyType: ReplyType,\n): [\n  chainTop: boolean,\n  chainBottom: boolean,\n] => {\n  if (replyType === 'THREAD' && currMessage?.threadInfo) {\n    return [false, false];\n  }\n  const sendingStatus = (currMessage as UserMessage)?.sendingStatus || '';\n  const isAcceptable = sendingStatus !== 'pending' && sendingStatus !== 'failed';\n  return [\n    isSameGroup(prevMessage, currMessage, currentChannel) && isAcceptable,\n    isSameGroup(currMessage, nextMessage, currentChannel) && isAcceptable,\n  ];\n};\n"],"names":["compareMessagesForGrouping","prevMessage","currMessage","nextMessage","currentChannel","replyType","threadInfo","sendingStatus","isAcceptable","isSameGroup"],"mappings":";;;;;;;;;;;;;AAOA;;AAEG;AACUA,IAAAA,0BAA0B,GAAG,UACxCC,WAA4B,EAC5BC,WAA4B,EAC5BC,WAA4B,EAC5BC,cAA4B,EAC5BC,SAAoB,EAAA;EAKpB,IAAIA,SAAS,KAAK,QAAQ,KAAIH,WAAW,KAAA,IAAA,IAAXA,WAAW,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAXA,WAAW,CAAEI,UAAU,CAAA,EAAE;AACrD,IAAA,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;AACtB,GAAA;AACD,EAAA,IAAMC,aAAa,GAAG,CAACL,WAA2B,KAA3B,IAAA,IAAAA,WAAW,KAAX,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,WAAW,CAAkBK,aAAa,KAAI,EAAE,CAAA;EACvE,IAAMC,YAAY,GAAGD,aAAa,KAAK,SAAS,IAAIA,aAAa,KAAK,QAAQ,CAAA;EAC9E,OAAO,CACLE,iBAAW,CAACR,WAAW,EAAEC,WAAW,EAAEE,cAAc,CAAC,IAAII,YAAY,EACrEC,iBAAW,CAACP,WAAW,EAAEC,WAAW,EAAEC,cAAc,CAAC,IAAII,YAAY,CACtE,CAAA;AACH;;;;"}