{"version":3,"file":"ChannelUI.js","sources":["../../../../src/modules/Channel/components/ChannelUI/index.tsx"],"sourcesContent":["import './channel-ui.scss';\n\nimport React from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderCustomSeparatorProps, RenderMessageProps } from '../../../../types';\n\nexport interface ChannelUIProps {\n  isLoading?: boolean;\n  renderPlaceholderLoader?: () => React.ReactElement;\n  renderPlaceholderInvalid?: () => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderChannelHeader?: () => React.ReactElement;\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderMessageInput?: () => React.ReactElement;\n  renderFileUploadIcon?: () => React.ReactElement;\n  renderVoiceMessageIcon?: () => React.ReactElement;\n  renderSendMessageIcon?: () => React.ReactElement;\n  renderTypingIndicator?: () => React.ReactElement;\n  renderCustomSeparator?: (props: RenderCustomSeparatorProps) => React.ReactElement;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  isLoading,\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n  renderFileUploadIcon,\n  renderVoiceMessageIcon,\n  renderSendMessageIcon,\n}: ChannelUIProps) => {\n  const {\n    channelUrl,\n    isInvalid,\n  } = useChannelContext();\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (isLoading) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderLoader?.() || (\n          <PlaceHolder type={PlaceHolderTypes.LOADING} />\n        )\n      }\n    </div>);\n  }\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {renderChannelHeader?.() || (\n        <ChannelHeader className=\"sendbird-conversation__channel-header\" />\n      )}\n      <MessageList\n        className=\"sendbird-conversation__message-list\"\n        renderMessage={renderMessage}\n        renderPlaceholderEmpty={renderPlaceholderEmpty}\n        renderCustomSeparator={renderCustomSeparator}\n        renderPlaceholderLoader={renderPlaceholderLoader}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper\n              renderFileUploadIcon={renderFileUploadIcon}\n              renderVoiceMessageIcon={renderVoiceMessageIcon}\n              renderSendMessageIcon={renderSendMessageIcon}\n            />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.()\n              || globalStore?.config?.groupChannel?.enableTypingIndicator && (\n                <TypingIndicator />\n              )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelUI;\n"],"names":["ChannelUI","_a","isLoading","renderPlaceholderLoader","renderPlaceholderInvalid","renderPlaceholderEmpty","renderChannelHeader","renderMessage","renderMessageInput","renderTypingIndicator","renderCustomSeparator","renderFileUploadIcon","renderVoiceMessageIcon","renderSendMessageIcon","_h","useChannelContext","channelUrl","isInvalid","globalStore","useSendbirdStateContext","sdkError","_c","_b","stores","sdkStore","error","logger","_d","config","isOnline","_e","React","createElement","className","PlaceHolder","type","PlaceHolderTypes","LOADING","NO_CHANNELS","WRONG","retryToConnect","info","ChannelHeader","MessageList","MessageInputWrapper","_g","_f","groupChannel","enableTypingIndicator","TypingIndicator","ConnectionStatus"],"mappings":"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"}