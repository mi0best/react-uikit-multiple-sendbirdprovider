{"version":3,"file":"Modal.js","sources":["../../../src/ui/Modal/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { noop } from '../../utils/utils';\nimport { MODAL_ROOT } from '../../hooks/useModal';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\n\nimport IconButton from '../IconButton';\nimport Button, { ButtonTypes } from '../Button';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport interface ModalHeaderProps {\n  titleText: string;\n}\nexport const ModalHeader = ({ titleText }: ModalHeaderProps): ReactElement => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\n\nexport interface ModalBodyProps {\n  children?: ReactElement | ReactElement[] | null;\n}\nexport const ModalBody = ({ children }: ModalBodyProps): ReactElement => (\n  <div className=\"sendbird-modal__body\">\n    <Label\n      type={LabelTypography.SUBTITLE_1}\n      color={LabelColors.ONBACKGROUND_2}\n    >\n      {children}\n    </Label>\n  </div>\n);\n\nexport interface ModalFooterProps {\n  submitText: string;\n  disabled?: boolean;\n  type?: ButtonTypes;\n  onCancel: () => void;\n  onSubmit: () => void;\n  hideCancelButton?: boolean;\n}\nexport const ModalFooter = ({\n  submitText,\n  disabled = false,\n  hideCancelButton = false,\n  type = ButtonTypes.DANGER,\n  onSubmit,\n  onCancel,\n}: ModalFooterProps): ReactElement => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      {!hideCancelButton && (\n        <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n          <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.BUTTON__CANCEL}\n          </Label>\n        </Button>\n      )}\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nexport interface ModalProps {\n  children?: ReactElement | ReactElement[];\n  className?: string;\n  isCloseOnClickOutside?: boolean;\n  isFullScreenOnMobile?: boolean;\n  titleText?: string;\n  submitText?: string;\n  disabled?: boolean;\n  hideFooter?: boolean;\n  type?: ButtonTypes;\n  /**\n   * Do not use this! We will deprecate onCancel in v4.\n   */\n  onCancel?: () => void;\n  onClose?: () => void;\n  onSubmit?: (...args: any[]) => void;\n  renderHeader?: () => ReactElement;\n}\nexport function Modal(props: ModalProps): ReactElement {\n  const {\n    children = null,\n    className = '',\n    isCloseOnClickOutside = false,\n    isFullScreenOnMobile = false,\n    titleText,\n    submitText,\n    disabled = false,\n    hideFooter = false,\n    type = ButtonTypes.DANGER,\n    /**\n     * Do not use this! We will deprecate onCancel in v4.\n     */\n    onCancel = noop,\n    onClose,\n    onSubmit = noop,\n    renderHeader,\n  } = props;\n  const handleClose = onClose ?? onCancel;\n\n  const { isMobile } = useMediaQueryContext();\n  return createPortal((\n    <div className={`\n      sendbird-modal ${className}\n      ${(isFullScreenOnMobile && isMobile) ? 'sendbird-modal--full-mobile' : ''}\n    `}>\n      <div className=\"sendbird-modal__content\">\n        {renderHeader?.() || (\n          <ModalHeader titleText={titleText ?? ''} />\n        )}\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={handleClose}\n              onSubmit={onSubmit}\n              submitText={submitText ?? ''}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={handleClose}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div\n        className={`\n          sendbird-modal__backdrop\n          ${isCloseOnClickOutside && 'sendbird-modal__backdrop--clickoutside'}\n        `}\n        onClick={(e) => {\n          e?.stopPropagation();\n          if (isCloseOnClickOutside) {\n            handleClose();\n          }\n        }}\n      />\n    </div>\n  ), document.getElementById(MODAL_ROOT) as HTMLElement);\n}\nexport default Modal;\n"],"names":["ModalHeader","_a","titleText","React","createElement","className","Label","type","LabelTypography","H_1","color","LabelColors","ONBACKGROUND_1","ModalBody","children","SUBTITLE_1","ONBACKGROUND_2","ModalFooter","submitText","_b","disabled","_c","hideCancelButton","_d","ButtonTypes","DANGER","onSubmit","onCancel","stringSet","useContext","LocalizationContext","Button","SECONDARY","onClick","BUTTON_1","BUTTON__CANCEL","Modal","props","isCloseOnClickOutside","isFullScreenOnMobile","_e","_f","hideFooter","_g","_h","noop","onClose","_j","renderHeader","handleClose","isMobile","useMediaQueryContext","createPortal","concat","IconButton","width","height","Icon","IconTypes","CLOSE","fillColor","IconColors","DEFAULT","e","stopPropagation","document","getElementById","MODAL_ROOT"],"mappings":"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"}