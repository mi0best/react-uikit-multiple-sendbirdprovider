{"version":3,"file":"MessageSearchItem.js","sources":["../../../src/ui/MessageSearchItem/getCreatedAt.ts","../../../src/ui/MessageSearchItem/index.tsx"],"sourcesContent":["import type { Locale } from 'date-fns';\nimport format from 'date-fns/format';\nimport isToday from 'date-fns/isToday';\nimport isThisYear from 'date-fns/isThisYear';\nimport isYesterday from 'date-fns/isYesterday';\n\ninterface GetCreatedAtProps {\n  createdAt: number;\n  locale?: Locale;\n  stringSet?: Record<string, string>;\n}\n\n// getCreatedAt\nexport default function ({\n  createdAt,\n  locale,\n  stringSet,\n}: GetCreatedAtProps): string {\n  const optionalParam = locale ? { locale } : null;\n  if (!createdAt) {\n    return '';\n  }\n  if (isToday(createdAt)) {\n    return format(createdAt, 'p', optionalParam);\n  }\n  if (isYesterday(createdAt)) {\n    return stringSet?.MESSAGE_STATUS__YESTERDAY || 'Yesterday';\n  }\n  if (isThisYear(createdAt)) {\n    return format(createdAt, 'MMM d', optionalParam);\n  }\n  return format(createdAt, 'yyyy/M/d', optionalParam);\n}\n","import React from 'react';\nimport './index.scss';\nimport getCreatedAt from './getCreatedAt';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { UserMessage } from '@sendbird/chat/message';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  selected?: boolean;\n  onClick?: (message: UserMessage) => void;\n}\n\nexport default function MessageSearchItem({\n  className,\n  message,\n  selected,\n  onClick,\n}: Props): JSX.Element {\n  const { createdAt } = message;\n  const messageText = message.message;\n  const sender = message.sender || message._sender;\n  const { profileUrl, nickname } = sender;\n  const { stringSet, dateLocale } = useLocalization();\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-message-search-item',\n        selected ? 'sendbird-message-search-item--selected' : '',\n      ].join(' ')}\n      onClick={(e) => {\n        e.stopPropagation();\n        onClick(message);\n      }}\n    >\n      <div className=\"sendbird-message-search-item__left\">\n        <Avatar\n          className=\"sendbird-message-search-item__left__sender-avatar\"\n          src={profileUrl}\n          alt=\"profile image\"\n          width=\"56px\"\n          height=\"56px\"\n        />\n      </div>\n      <div className=\"sendbird-message-search-item__right\">\n        <Label\n          className=\"sendbird-message-search-item__right__sender-name\"\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {nickname || stringSet.NO_NAME}\n        </Label>\n        <Label\n          className=\"sendbird-message-search-item__right__message-text\"\n          type={LabelTypography.BODY_2}\n          color={LabelColors.ONBACKGROUND_3}\n        >\n          {messageText}\n        </Label>\n        <Label\n          className=\"sendbird-message-search-item__right__message-created-at\"\n          type={LabelTypography.CAPTION_3}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {getCreatedAt({ createdAt, locale: dateLocale, stringSet })}\n        </Label>\n      </div>\n      <div className=\"sendbird-message-search-item__right-footer\" />\n    </div>\n  );\n}\n"],"names":["_a","createdAt","locale","stringSet","optionalParam","isToday","format","isYesterday","MESSAGE_STATUS__YESTERDAY","isThisYear","MessageSearchItem","className","message","selected","onClick","messageText","sender","_sender","profileUrl","nickname","_b","useLocalization","dateLocale","React","createElement","__spreadArray","Array","isArray","join","e","stopPropagation","Avatar","src","alt","width","height","Label","type","LabelTypography","SUBTITLE_2","color","LabelColors","ONBACKGROUND_1","NO_NAME","BODY_2","ONBACKGROUND_3","CAPTION_3","ONBACKGROUND_2","getCreatedAt"],"mappings":"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"}