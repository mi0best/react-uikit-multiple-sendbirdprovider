{"version":3,"file":"OpenchannelFileMessage.js","sources":["../../../src/ui/OpenchannelFileMessage/utils.ts","../../../src/ui/OpenchannelFileMessage/index.tsx"],"sourcesContent":["import { IconTypes } from '../Icon';\n\nexport const checkFileType = (fileUrl: string): string => {\n  const audioFile = /(\\.mp3)$/i;\n  const gifFile = /(\\.gif)$/i;\n  if (audioFile.test(fileUrl)) {\n    return IconTypes.FILE_AUDIO;\n  }\n  if (gifFile.test(fileUrl)) {\n    return IconTypes.GIF;\n  }\n  return IconTypes.FILE_DOCUMENT;\n};\n\nexport const truncate = (fullStr:string, strLen: number): string => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n","import React, { useContext, useRef, useState } from 'react';\nimport { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport TextButton from '../TextButton';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { checkFileType, truncate } from './utils';\nimport {\n  checkIsPending,\n  checkIsFailed,\n  isFineDelete,\n  isFineResend,\n  showMenuTrigger,\n  getSenderFromMessage,\n} from '../../utils/openChannelUtils';\nimport { useMediaQueryContext } from '../../lib/MediaQueryContext';\nimport OpenChannelMobileMenu from '../OpenChannelMobileMenu';\nimport useLongPress from '../../hooks/useLongPress';\n\ninterface OpenChannelFileMessageProps {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isOperator?: boolean;\n  isEphemeral?: boolean;\n  userId: string;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  showRemove(bool: boolean): void;\n  resendMessage(message: FileMessage): void;\n}\n\nexport default function OpenchannelFileMessage({\n  className,\n  message,\n  isOperator,\n  isEphemeral = false,\n  userId,\n  disabled,\n  chainTop,\n  showRemove,\n  resendMessage,\n}: OpenChannelFileMessageProps): JSX.Element {\n  const status = message?.sendingStatus;\n  const { dateLocale, stringSet } = useLocalization();\n  const contextMenuRef = useRef(null);\n  const mobileMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n\n  const { isMobile } = useMediaQueryContext();\n  const openFileUrl = () => { window.open(message.url); };\n\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n  const [contextMenu, setContextMenu] = useState(false);\n  const longPress = useLongPress({\n    onLongPress: () => {\n      if (isMobile) {\n        setContextMenu(true);\n      }\n    },\n    onClick: openFileUrl,\n  }, { delay: 300 });\n  return (\n    <>\n      <div\n        className={[\n          ...(Array.isArray(className) ? className : [className]),\n          'sendbird-openchannel-file-message',\n        ].join(' ')}\n        ref={mobileMenuRef}\n      >\n        <div className=\"sendbird-openchannel-file-message__left\">\n          {\n            !chainTop && (\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <Avatar\n                    className=\"sendbird-openchannel-file-message__left__avatar\"\n                    src={sender.profileUrl || ''}\n                    ref={avatarRef}\n                    width=\"28px\"\n                    height=\"28px\"\n                    onClick={() => {\n                      if (!disableUserProfile) {\n                        toggleDropdown();\n                      }\n                    }}\n                  />\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={avatarRef}\n                    parentContainRef={avatarRef}\n                    closeDropdown={closeDropdown}\n                    style={{ paddingTop: '0px', paddingBottom: '0px' }}\n                  >\n                    {\n                      renderUserProfile\n                        ? (\n                          renderUserProfile({\n                            user: sender,\n                            close: closeDropdown,\n                            currentUserId: userId,\n                          })\n                        )\n                        : (\n                          <UserProfile\n                            user={sender}\n                            onSuccess={closeDropdown}\n                            disableMessaging\n                          />\n                        )\n                    }\n                  </MenuItems>\n                )}\n              />\n            )\n          }\n        </div>\n        <div className=\"sendbird-openchannel-file-message__right\">\n          {\n            !chainTop && (\n              <div className=\"sendbird-openchannel-file-message__right__title\">\n                <Label\n                  className=\"sendbird-openchannel-file-message__right__title__sender-name\"\n                  type={LabelTypography.CAPTION_2}\n                  color={isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n                >\n                  {\n                    sender && (\n                      sender.friendName\n                      || sender.nickname\n                      || sender.userId\n                    )\n                  }\n                </Label>\n                <Label\n                  className=\"sendbird-openchannel-file-message__right__title__sent-at\"\n                  type={LabelTypography.CAPTION_3}\n                  color={LabelColors.ONBACKGROUND_3}\n                >\n                  {\n                    message?.createdAt && (\n                      format(message.createdAt, 'p', {\n                        locale: dateLocale,\n                      })\n                    )\n                  }\n                </Label>\n              </div>\n            )\n          }\n          <div\n            className=\"sendbird-openchannel-file-message__right__body\"\n            {...(isMobile ? { ...longPress } : {})}\n          >\n            {\n              checkFileType(message.url) && (\n                <Icon\n                  className=\"sendbird-openchannel-file-message__right__body__icon\"\n                  type={checkFileType(message.url)}\n                  fillColor={IconColors.PRIMARY}\n                  width=\"48px\"\n                  height=\"48px\"\n                />\n              )\n            }\n            <TextButton\n              className=\"sendbird-openchannel-file-message__right__body__file-name\"\n              onClick={openFileUrl}\n            >\n              <Label\n                type={LabelTypography.BODY_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {truncate(message.name || message.url, 40)}\n              </Label>\n            </TextButton>\n          </div>\n          {\n            (isPending || isFailed) && (\n              <div className=\"sendbird-openchannel-file-message__right__tail\">\n                {\n                  isPending && (\n                    <Loader\n                      width=\"16px\"\n                      height=\"16px\"\n                    >\n                      <Icon\n                        className=\"sendbird-openchannel-file-message__right__tail__pending\"\n                        type={IconTypes.SPINNER}\n                        fillColor={IconColors.PRIMARY}\n                        width=\"16px\"\n                        height=\"16px\"\n                      />\n                    </Loader>\n                  )\n                }\n                {\n                  isFailed && (\n                    <Icon\n                      className=\"sendbird-openchannel-file-message__right__tail__failed\"\n                      type={IconTypes.ERROR}\n                      fillColor={IconColors.ERROR}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  )\n                }\n              </div>\n            )\n          }\n        </div>\n        {\n          !isMobile && (\n            <div\n              className=\"sendbird-openchannel-file-message__context-menu\"\n              ref={contextMenuRef}\n            >\n              {\n                (isFineResend({ message, userId, status }) || !isEphemeral) && (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      showMenuTrigger({ message, userId, status }) && (\n                        <IconButton\n                          className=\"sendbird-openchannel-file-message__context-menu__icon\"\n                          width=\"32px\"\n                          height=\"32px\"\n                          onClick={toggleDropdown}\n                        >\n                          <Icon\n                            type={IconTypes.MORE}\n                            width=\"24px\"\n                            height=\"24px\"\n                          />\n                        </IconButton>\n                      )\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentRef={contextMenuRef}\n                        parentContainRef={contextMenuRef}\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        {\n                          isFineResend({ message, userId, status }) && (\n                            <MenuItem\n                              onClick={() => {\n                                if (disabled) { return; }\n                                resendMessage(message);\n                                closeDropdown();\n                              }}\n                              dataSbId=\"open_channel_file_message_context_menu_resend\"\n                            >\n                              {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                            </MenuItem>\n                          )\n                        }\n                        {\n                          (!isEphemeral && isFineDelete({ message, userId, status })) && (\n                            <MenuItem\n                              onClick={() => {\n                                if (disabled) { return; }\n                                showRemove(true);\n                                closeDropdown();\n                              }}\n                              dataSbId=\"open_channel_file_message_context_menu_delete\"\n                            >\n                              {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                            </MenuItem>\n                          )\n                        }\n                      </MenuItems>\n                    )}\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      {\n        contextMenu && (\n          <OpenChannelMobileMenu\n            message={message}\n            hideMenu={() => {\n              setContextMenu(false);\n            }}\n            parentRef={mobileMenuRef}\n            showRemove={() => {\n              setContextMenu(false);\n              showRemove(true);\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n"],"names":["checkFileType","fileUrl","audioFile","gifFile","test","IconTypes","FILE_AUDIO","GIF","FILE_DOCUMENT","truncate","fullStr","strLen","undefined","length","separator","sepLen","charsToShow","frontChars","Math","ceil","backChars","floor","substr","OpenchannelFileMessage","_a","className","message","isOperator","_b","isEphemeral","userId","disabled","chainTop","showRemove","resendMessage","status","sendingStatus","_c","useLocalization","dateLocale","stringSet","contextMenuRef","useRef","mobileMenuRef","avatarRef","_d","useContext","UserProfileContext","disableUserProfile","renderUserProfile","isMobile","useMediaQueryContext","openFileUrl","window","open","url","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","_e","useState","contextMenu","setContextMenu","longPress","useLongPress","onLongPress","onClick","delay","React","createElement","Fragment","__spreadArray","Array","isArray","join","ref","ContextMenu","menuTrigger","toggleDropdown","Avatar","src","profileUrl","width","height","menuItems","closeDropdown","MenuItems","parentRef","parentContainRef","style","paddingTop","paddingBottom","user","close","currentUserId","UserProfile","onSuccess","disableMessaging","Label","type","LabelTypography","CAPTION_2","color","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","_extends","__assign","Icon","fillColor","IconColors","PRIMARY","TextButton","BODY_1","ONBACKGROUND_1","name","Loader","SPINNER","ERROR","isFineResend","showMenuTrigger","IconButton","MORE","openLeft","MenuItem","dataSbId","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE","OpenChannelMobileMenu","hideMenu"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,aAAa,GAAG,UAACC,OAAe,EAAA;EAC3C,IAAMC,SAAS,GAAG,WAAW,CAAA;EAC7B,IAAMC,OAAO,GAAG,WAAW,CAAA;AAC3B,EAAA,IAAID,SAAS,CAACE,IAAI,CAACH,OAAO,CAAC,EAAE;IAC3B,OAAOI,iBAAS,CAACC,UAAU,CAAA;AAC5B,GAAA;AACD,EAAA,IAAIH,OAAO,CAACC,IAAI,CAACH,OAAO,CAAC,EAAE;IACzB,OAAOI,iBAAS,CAACE,GAAG,CAAA;AACrB,GAAA;EACD,OAAOF,iBAAS,CAACG,aAAa,CAAA;AAChC,CAAC,CAAA;AAEM,IAAMC,QAAQ,GAAG,UAACC,OAAc,EAAEC,MAAc,EAAA;EACrD,IAAID,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAKE,SAAS,EAAE,OAAO,EAAE,CAAA;AACxD,EAAA,IAAIF,OAAO,CAACG,MAAM,IAAIF,MAAM,EAAE,OAAOD,OAAO,CAAA;EAC5C,IAAMI,SAAS,GAAG,KAAK,CAAA;AACvB,EAAA,IAAMC,MAAM,GAAGD,SAAS,CAACD,MAAM,CAAA;AAC/B,EAAA,IAAMG,WAAW,GAAGL,MAAM,GAAGI,MAAM,CAAA;EACnC,IAAME,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACH,WAAW,GAAG,CAAC,CAAC,CAAA;EAC7C,IAAMI,SAAS,GAAGF,IAAI,CAACG,KAAK,CAACL,WAAW,GAAG,CAAC,CAAC,CAAA;EAC7C,OAAON,OAAO,CAACY,MAAM,CAAC,CAAC,EAAEL,UAAU,CAAC,GAAGH,SAAS,GAAGJ,OAAO,CAACY,MAAM,CAACZ,OAAO,CAACG,MAAM,GAAGO,SAAS,CAAC,CAAA;AAC/F,CAAC;;ACmBuB,SAAAG,sBAAsBA,CAACC,EAUjB,EAAA;AAT5B,EAAA,IAAAC,SAAS,GAAAD,EAAA,CAAAC,SAAA;IACTC,OAAO,GAAAF,EAAA,CAAAE,OAAA;IACPC,UAAU,GAAAH,EAAA,CAAAG,UAAA;IACVC,EAAmB,GAAAJ,EAAA,CAAAK,WAAA;IAAnBA,WAAW,GAAAD,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAAA,EAAA;IACnBE,MAAM,GAAAN,EAAA,CAAAM,MAAA;IACNC,QAAQ,GAAAP,EAAA,CAAAO,QAAA;IACRC,QAAQ,GAAAR,EAAA,CAAAQ,QAAA;IACRC,UAAU,GAAAT,EAAA,CAAAS,UAAA;IACVC,aAAa,GAAAV,EAAA,CAAAU,aAAA,CAAA;AAEb,EAAA,IAAMC,MAAM,GAAGT,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAP,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,OAAO,CAAEU,aAAa,CAAA;AAC/B,EAAA,IAAAC,EAAA,GAA4BC,mCAAe,EAAE;IAA3CC,UAAU,GAAAF,EAAA,CAAAE,UAAA;IAAEC,SAAS,GAAAH,EAAA,CAAAG,SAAsB,CAAA;AACnD,EAAA,IAAMC,cAAc,GAAGC,YAAM,CAAC,IAAI,CAAC,CAAA;AACnC,EAAA,IAAMC,aAAa,GAAGD,YAAM,CAAC,IAAI,CAAC,CAAA;AAClC,EAAA,IAAME,SAAS,GAAGF,YAAM,CAAC,IAAI,CAAC,CAAA;AACxB,EAAA,IAAAG,EAAA,GAA4CC,gBAAU,CAACC,qCAAkB,CAAC;IAAxEC,kBAAkB,GAAAH,EAAA,CAAAG,kBAAA;IAAEC,iBAAiB,GAAAJ,EAAA,CAAAI,iBAAmC,CAAA;AAExE,EAAA,IAAAC,QAAQ,GAAKC,sCAAoB,EAAE,SAA3B,CAAA;AAChB,EAAA,IAAMC,WAAW,GAAG,YAAQ;AAAAC,IAAAA,MAAM,CAACC,IAAI,CAAC5B,OAAO,CAAC6B,GAAG,CAAC,CAAA;GAAG,CAAA;AAEvD,EAAA,IAAMC,SAAS,GAAGC,oBAAc,CAACtB,MAAM,CAAC,CAAA;AACxC,EAAA,IAAMuB,QAAQ,GAAGC,mBAAa,CAACxB,MAAM,CAAC,CAAA;AACtC,EAAA,IAAMyB,MAAM,GAAGC,0BAAoB,CAACnC,OAAO,CAAC,CAAA;AACtC,EAAA,IAAAoC,EAAA,GAAgCC,cAAQ,CAAC,KAAK,CAAC;AAA9CC,IAAAA,WAAW,GAAAF,EAAA,CAAA,CAAA,CAAA;AAAEG,IAAAA,cAAc,GAAAH,EAAA,CAAA,CAAA,CAAmB,CAAA;EACrD,IAAMI,SAAS,GAAGC,yBAAY,CAAC;IAC7BC,WAAW,EAAE,YAAA;AACX,MAAA,IAAIlB,QAAQ,EAAE;QACZe,cAAc,CAAC,IAAI,CAAC,CAAA;AACrB,OAAA;KACF;AACDI,IAAAA,OAAO,EAAEjB,WAAAA;AACV,GAAA,EAAE;AAAEkB,IAAAA,KAAK,EAAE,GAAA;AAAG,GAAE,CAAC,CAAA;EAClB,oBACEC,yBAAA,CAAAC,aAAA,CAAAD,yBAAA,CAAAE,QAAA,EAAA,IAAA,eACEF,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACE/C,IAAAA,SAAS,EAAEiD,uBACN,CAAAA,uBAAA,CAAA,EAAA,EAACC,KAAK,CAACC,OAAO,CAACnD,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC,EAAC,IAAA,CAAA,EAAA,CACvD,mCAAmC,UACnCoD,IAAI,CAAC,GAAG,CAAE;AACZC,IAAAA,GAAG,EAAEnC,aAAAA;GAEL4B,eAAAA,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAK/C,IAAAA,SAAS,EAAC,yCAAA;AAAyC,GAAA,EAEpD,CAACO,QAAQ,iBACPuC,yBAAA,CAAAC,aAAA,CAACO,yBAAW,EAAA;AACVC,IAAAA,WAAW,EAAE,UAACC,cAAc,EAAK;AAAA,MAAA,oBAC/BV,yBAAA,CAAAC,aAAA,CAACU,oBAAM,EAAA;AACLzD,QAAAA,SAAS,EAAC,iDAAiD;AAC3D0D,QAAAA,GAAG,EAAEvB,MAAM,CAACwB,UAAU,IAAI,EAAG;AAC7BN,QAAAA,GAAG,EAAElC,SAAU;AACfyC,QAAAA,KAAK,EAAC,MAAM;AACZC,QAAAA,MAAM,EAAC,MAAM;QACbjB,OAAO,EAAE,YAAA;UACP,IAAI,CAACrB,kBAAkB,EAAE;AACvBiC,YAAAA,cAAc,EAAE,CAAA;AACjB,WAAA;AACH,SAAA;AAAE,QACF,CAAA;KACF;AACFM,IAAAA,SAAS,EAAE,UAACC,aAAa,EAAK;AAAA,MAAA,oBAC5BjB,yBAAA,CAAAC,aAAA,CAACiB,wBAAS,EAAA;AACRC,QAAAA,SAAS,EAAE9C,SAAU;AACrB+C,QAAAA,gBAAgB,EAAE/C,SAAU;AAC5B4C,QAAAA,aAAa,EAAEA,aAAc;AAC7BI,QAAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE,KAAK;AAAEC,UAAAA,aAAa,EAAE,KAAA;AAAO,SAAA;OAGhD7C,EAAAA,iBAAiB,GAEbA,iBAAiB,CAAC;AAChB8C,QAAAA,IAAI,EAAEnC,MAAM;AACZoC,QAAAA,KAAK,EAAER,aAAa;AACpBS,QAAAA,aAAa,EAAEnE,MAAAA;AAChB,OAAA,CAAC,gBAGFyC,yBAAA,CAAAC,aAAA,CAAC0B,cAAW,EAAA;AACVH,QAAAA,IAAI,EAAEnC,MAAO;AACbuC,QAAAA,SAAS,EAAEX,aAAc;QACzBY,gBAAgB,EAAA,IAAA;AAAA,OAAA,CAIf,CAAC,CAAA;AAxBgB,KAAA;AAyB5B,GAAA,CAIL,CACL,eAAA7B,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAK/C,IAAAA,SAAS,EAAC,0CAAA;AAA0C,GAAA,EAErD,CAACO,QAAQ,iBACPuC,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAK/C,IAAAA,SAAS,EAAC,iDAAA;AAAiD,GAAA,eAC9D8C,yBAAA,CAAAC,aAAA,CAAC6B,cAAK,EAAA;AACJ5E,IAAAA,SAAS,EAAC,8DAA8D;IACxE6E,IAAI,EAAEC,wBAAe,CAACC,SAAU;IAChCC,KAAK,EAAE9E,UAAU,GAAG+E,oBAAW,CAACC,WAAW,GAAGD,oBAAW,CAACE,cAAAA;GAGxDhD,EAAAA,MAAM,KACJA,MAAM,CAACiD,UAAU,IACdjD,MAAM,CAACkD,QAAQ,IACflD,MAAM,CAAC9B,MAAM,CAGf,CACP,eAAAyC,yBAAA,CAAAC,aAAA,CAAC6B,cAAK,EAAA;AACJ5E,IAAAA,SAAS,EAAC,0DAA0D;IACpE6E,IAAI,EAAEC,wBAAe,CAACQ,SAAU;IAChCN,KAAK,EAAEC,oBAAW,CAACM,cAAAA;GAGjB,EAAA,CAAAtF,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAEuF,SAAS,KAChBC,cAAM,CAACxF,OAAO,CAACuF,SAAS,EAAE,GAAG,EAAE;AAC7BE,IAAAA,MAAM,EAAE5E,UAAAA;GACT,CAGA,CACJ,CACN,eAEHgC,yBAAA,CAAAC,aAAA,QAAA4C,kCAAA,CAAA;AACE3F,IAAAA,SAAS,EAAC,gDAAA;GACLyB,EAAAA,QAAQ,GAAEmE,kBAAA,CAAA,EAAA,EAAMnD,SAAS,CAAG,GAAE,EAAE,GAGnClE,aAAa,CAAC0B,OAAO,CAAC6B,GAAG,CAAC,iBACxBgB,yBAAA,CAAAC,aAAA,CAAC8C,kBAAI,EAAA;AACH7F,IAAAA,SAAS,EAAC,sDAAsD;AAChE6E,IAAAA,IAAI,EAAEtG,aAAa,CAAC0B,OAAO,CAAC6B,GAAG,CAAE;IACjCgE,SAAS,EAAEC,kBAAU,CAACC,OAAQ;AAC9BpC,IAAAA,KAAK,EAAC,MAAM;AACZC,IAAAA,MAAM,EAAC,MAAA;AAAM,GAAA,CAEhB,eAEHf,yBAAA,CAAAC,aAAA,CAACkD,aAAU,EAAA;AACTjG,IAAAA,SAAS,EAAC,2DAA2D;AACrE4C,IAAAA,OAAO,EAAEjB,WAAAA;AAAY,GAAA,eAErBmB,yBAAA,CAAAC,aAAA,CAAC6B,cAAK,EAAA;IACJC,IAAI,EAAEC,wBAAe,CAACoB,MAAO;IAC7BlB,KAAK,EAAEC,oBAAW,CAACkB,cAAAA;GAElBnH,EAAAA,QAAQ,CAACiB,OAAO,CAACmG,IAAI,IAAInG,OAAO,CAAC6B,GAAG,EAAE,EAAE,CACpC,CACG,CACT,CACL,EACE,CAACC,SAAS,IAAIE,QAAQ,kBACpBa,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAK/C,IAAAA,SAAS,EAAC,gDAAA;AAAgD,GAAA,EAE3D+B,SAAS,iBACPe,yBAAA,CAAAC,aAAA,CAACsD,SAAM,EAAA;AACLzC,IAAAA,KAAK,EAAC,MAAM;AACZC,IAAAA,MAAM,EAAC,MAAA;AAAM,GAAA,eAEbf,yBAAA,CAAAC,aAAA,CAAC8C,kBAAI,EAAA;AACH7F,IAAAA,SAAS,EAAC,yDAAyD;IACnE6E,IAAI,EAAEjG,iBAAS,CAAC0H,OAAQ;IACxBR,SAAS,EAAEC,kBAAU,CAACC,OAAQ;AAC9BpC,IAAAA,KAAK,EAAC,MAAM;AACZC,IAAAA,MAAM,EAAC,MAAA;GAEX,CAAQ,CACT,EAGD5B,QAAQ,iBACNa,yBAAA,CAAAC,aAAA,CAAC8C,kBAAI,EAAA;AACH7F,IAAAA,SAAS,EAAC,wDAAwD;IAClE6E,IAAI,EAAEjG,iBAAS,CAAC2H,KAAM;IACtBT,SAAS,EAAEC,kBAAU,CAACQ,KAAM;AAC5B3C,IAAAA,KAAK,EAAC,MAAM;AACZC,IAAAA,MAAM,EAAC,MAAA;GAAM,CAIhB,CAGN,CACL,EACE,CAACpC,QAAQ,iBACPqB,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACE/C,IAAAA,SAAS,EAAC,iDAAiD;AAC3DqD,IAAAA,GAAG,EAAErC,cAAAA;GAGH,EAAA,CAACwF,kBAAY,CAAC;AAAEvG,IAAAA,OAAO,EAAAA,OAAA;AAAEI,IAAAA,MAAM,EAAAA,MAAA;AAAEK,IAAAA,MAAM,EAAAA,MAAAA;GAAE,CAAC,IAAI,CAACN,WAAW,kBACxD0C,yBAAA,CAAAC,aAAA,CAACO,yBAAW,EAAA;AACVC,IAAAA,WAAW,EAAE,UAACC,cAAc,EAAK;AAAA,MAAA,OAC/BiD,qBAAe,CAAC;AAAExG,QAAAA,OAAO,EAAAA,OAAA;AAAEI,QAAAA,MAAM,EAAAA,MAAA;AAAEK,QAAAA,MAAM,EAAAA,MAAAA;AAAA,OAAE,CAAC,iBAC1CoC,yBAAA,CAAAC,aAAA,CAAC2D,aAAU,EAAA;AACT1G,QAAAA,SAAS,EAAC,uDAAuD;AACjE4D,QAAAA,KAAK,EAAC,MAAM;AACZC,QAAAA,MAAM,EAAC,MAAM;AACbjB,QAAAA,OAAO,EAAEY,cAAAA;AAAe,OAAA,eAExBV,yBAAA,CAAAC,aAAA,CAAC8C,kBAAI,EAAA;QACHhB,IAAI,EAAEjG,iBAAS,CAAC+H,IAAK;AACrB/C,QAAAA,KAAK,EAAC,MAAM;AACZC,QAAAA,MAAM,EAAC,MAAA;AAAM,OAEjB,CAAY,CACb,CAAA;KACD;AACFC,IAAAA,SAAS,EAAE,UAACC,aAAa;AAAK,MAAA,oBAC5BjB,yBAAA,CAAAC,aAAA,CAACiB,wBAAS,EAAA;AACRC,QAAAA,SAAS,EAAEjD,cAAe;AAC1BkD,QAAAA,gBAAgB,EAAElD,cAAe;AACjC+C,QAAAA,aAAa,EAAEA,aAAc;QAC7B6C,QAAQ,EAAA,IAAA;AAAA,OAAA,EAGNJ,kBAAY,CAAC;AAAEvG,QAAAA,OAAO,SAAA;AAAEI,QAAAA,MAAM,QAAA;AAAEK,QAAAA,MAAM;AAAE,OAAA,CAAC,iBACvCoC,yBAAA,CAAAC,aAAA,CAAC8D,uBAAQ,EAAA;QACPjE,OAAO,EAAE,YAAA;AACP,UAAA,IAAItC,QAAQ,EAAE;AAAE,YAAA,OAAA;AAAS,WAAA;UACzBG,aAAa,CAACR,OAAO,CAAC,CAAA;AACtB8D,UAAAA,aAAa,EAAE,CAAA;SACf;AACF+C,QAAAA,QAAQ,EAAC,+CAAA;OAER/F,EAAAA,SAAS,CAACgG,6BACH,CACX,EAGA,CAAC3G,WAAW,IAAI4G,kBAAY,CAAC;AAAE/G,QAAAA,OAAO,EAAAA,OAAA;AAAEI,QAAAA,MAAM,EAAAA,MAAA;AAAEK,QAAAA,MAAM,EAAAA,MAAAA;AAAE,OAAA,CAAC,iBACxDoC,yBAAA,CAAAC,aAAA,CAAC8D,uBAAQ,EAAA;QACPjE,OAAO,EAAE,YAAA;AACP,UAAA,IAAItC,QAAQ,EAAE;AAAE,YAAA,OAAA;AAAS,WAAA;UACzBE,UAAU,CAAC,IAAI,CAAC,CAAA;AAChBuD,UAAAA,aAAa,EAAE,CAAA;SACf;AACF+C,QAAAA,QAAQ,EAAC,+CAAA;AAA+C,OAAA,EAEvD/F,SAAS,CAACkG,6BACH,CAGL,CAAC,CAAA;AAnCgB,KAAA;GAoC5B,CAIL,CAGN,CACL,EACE1E,WAAW,iBACTO,yBAAA,CAAAC,aAAA,CAACmE,2BAAqB,EAAA;AACpBjH,IAAAA,OAAO,EAAEA,OAAQ;IACjBkH,QAAQ,EAAE,YAAA;MACR3E,cAAc,CAAC,KAAK,CAAC,CAAA;KACrB;AACFyB,IAAAA,SAAS,EAAE/C,aAAc;IACzBV,UAAU,EAAE,YAAA;MACVgC,cAAc,CAAC,KAAK,CAAC,CAAA;MACrBhC,UAAU,CAAC,IAAI,CAAC,CAAA;AAClB,KAAA;AAAE,GACF,CAGR,CAAG,CAAA;AAEP;;;;"}