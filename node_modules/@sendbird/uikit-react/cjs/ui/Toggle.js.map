{"version":3,"file":"Toggle.js","sources":["../../../src/ui/Toggle/ToggleContext.ts","../../../src/ui/Toggle/ToggleContainer.tsx","../../../src/ui/Toggle/utils.ts","../../../src/ui/Toggle/ToggleUI.tsx","../../../src/ui/Toggle/index.tsx"],"sourcesContent":["import React, { ChangeEventHandler } from 'react';\n\n/**\n * The default value of `checked` should be null\n * to support both case of controlled and uncontrolled component\n * ref: https://github.com/aaronshaf/react-toggle#props\n */\nconst noop = (): void => { /* noop */ };\nexport const TOGGLE_DEFAULT_VALUE = {\n  checked: null,\n  defaultChecked: false,\n  disabled: false,\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n};\n\nexport interface ToggleContextInterface {\n  checked?: boolean | null;\n  defaultChecked?: boolean;\n  disabled?: boolean;\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n  onFocus?: ChangeEventHandler<HTMLInputElement>;\n  onBlur?: ChangeEventHandler<HTMLInputElement>;\n}\n\nexport const ToggleContext = React.createContext<ToggleContextInterface>(TOGGLE_DEFAULT_VALUE);\n\nexport function useToggleContext(): ToggleContextInterface {\n  const context = React.useContext(ToggleContext);\n  if (context === undefined) {\n    throw new Error('@sendbird/uikit-react/ui/Toggle: useToggleContext must be used within a ToggleContainer.');\n  }\n  return context;\n}\n","import React, { ChangeEvent, useCallback, useState } from 'react';\n\nimport {\n  ToggleContext,\n  ToggleContextInterface,\n  TOGGLE_DEFAULT_VALUE as Dvalue,\n} from './ToggleContext';\n\nexport interface ToggleContainerProps extends ToggleContextInterface {\n  children?: React.ReactElement;\n}\n\n// Props Explanation https://github.com/aaronshaf/react-toggle#props\nexport function ToggleContainer({\n  checked = Dvalue.checked, // null\n  defaultChecked = Dvalue.defaultChecked,\n  disabled = Dvalue.disabled,\n  onChange = Dvalue.onChange,\n  onFocus = Dvalue.onFocus,\n  onBlur = Dvalue.onBlur,\n  children,\n}: ToggleContainerProps): React.ReactElement {\n  const [isChecked, setChecked] = useState(defaultChecked || false);\n  const handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    if (disabled) {\n      return;\n    }\n    if (checked === null) {\n      setChecked(e.currentTarget.checked);\n    }\n    onChange(e);\n  }, [onChange, checked]);\n\n  return (\n    <ToggleContext.Provider value={{\n      checked: checked !== null ? checked : isChecked,\n      disabled,\n      onChange: handleChange,\n      onFocus: (e) => {\n        if (!disabled) {\n          onFocus(e);\n        }\n      },\n      onBlur: (e) => {\n        if (!disabled) {\n          onBlur(e);\n        }\n      },\n    }}>\n      {children}\n    </ToggleContext.Provider>\n  );\n}\n","import useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\n\nexport function filterNumber(input: string | number): Array<number> {\n  if (typeof input !== 'string' && typeof input !== 'number') {\n    try {\n      const { config } = useSendbirdStateContext();\n      const { logger } = config;\n      logger.warning('@sendbird/uikit-react/ui/Toggle: TypeError - expected string or number.', input);\n    } catch (_) { /* noop */ }\n    return [];\n  }\n  if (typeof input === 'number') {\n    return [input];\n  }\n  const regex = /(-?\\d+)(\\.\\d+)?/g;\n  const numbers = input.match(regex) || [];\n  return numbers.map(parseFloat);\n}\n","import React, { useState } from 'react';\nimport { useToggleContext } from './ToggleContext';\nimport { filterNumber } from './utils';\n\nexport interface ToggleUIProps {\n  reversed?: boolean;\n  width?: string;\n  animationDuration?: string;\n  style?: Record<string, string>;\n  name?: string;\n  id?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n}\n\nexport function ToggleUI(props: ToggleUIProps): React.ReactElement {\n  const {\n    reversed = false,\n    width = '40px',\n    animationDuration = '0.5s',\n    style = {},\n    name = '',\n    id = '',\n    ariaLabel = '',\n    ariaLabelledby = '',\n  } = props;\n  const {\n    checked,\n    disabled,\n    onChange,\n    onFocus,\n    onBlur,\n  } = useToggleContext();\n\n  // animation should not be activated in the initialization step\n  const [animatedClassName, setAnimatedClassName] = useState('');\n\n  const toggleWidth = filterNumber(width)?.[0];\n  const toggleHeight = toggleWidth / 2;\n  // The size of dot should be 60% of toggle height\n  const dotSize = toggleHeight * 0.6;\n\n  return (\n    <label\n      className={[\n        'sendbird-input-toggle-button',\n        animatedClassName,\n        checked ? 'sendbird-input-toggle-button--checked' : 'sendbird-input-toggle-button--unchecked',\n        disabled ? 'sendbird-input-toggle-button--disabled' : [],\n        reversed ? 'sendbird-input-toggle-button--reversed' : [],\n      ].flat().join(' ')}\n      style={{\n        width: `${toggleWidth}px`,\n        height: `${toggleHeight}px`,\n        borderRadius: `${dotSize}px`,\n        ...style,\n      }}\n    >\n      <div\n        className={[\n          'sendbird-input-toggle-button__inner-dot',\n          checked\n            ? 'sendbird-input-toggle-button__inner-dot--activate'\n            : 'sendbird-input-toggle-button__inner-dot--inactivate',\n        ].join(' ')}\n        style={{\n          width: `${dotSize}px`,\n          height: `${dotSize}px`,\n          animationDuration,\n        }}\n      />\n      <input\n        type=\"checkbox\"\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        name={name}\n        id={id}\n        checked={checked}\n        disabled={disabled}\n        onChange={(e) => {\n          onChange(e);\n          setAnimatedClassName(e.currentTarget.checked ? 'sendbird-input-toggle-button--turned-on' : 'sendbird-input-toggle-button--turned-off');\n        }}\n        onFocus={onFocus}\n        onBlur={onBlur}\n      />\n    </label>\n  );\n}\n","import React from 'react';\nimport './index.scss';\n\nimport { ToggleContainer, ToggleContainerProps } from './ToggleContainer';\nimport { useToggleContext } from './ToggleContext';\nimport { ToggleUI, ToggleUIProps } from './ToggleUI';\n\nexport interface ToggleProps extends ToggleContainerProps, ToggleUIProps {\n  className?: string;\n}\nfunction Toggle(props: ToggleProps): React.ReactElement {\n  const {\n    // ToggleProvider\n    checked,\n    defaultChecked,\n    disabled,\n    onChange,\n    onFocus,\n    onBlur,\n    // ToggleUI\n    className,\n    reversed,\n    width,\n    // height will be half of width\n    animationDuration,\n    style,\n    name,\n    id,\n    ariaLabel,\n    ariaLabelledby,\n  } = props;\n  return (\n    <div className={`sendbird-ui-toggle ${className}`}>\n      <ToggleContainer\n        checked={checked}\n        defaultChecked={defaultChecked}\n        disabled={disabled}\n        onChange={onChange}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        >\n        <ToggleUI\n          reversed={reversed}\n          width={width}\n          animationDuration={animationDuration}\n          style={style}\n          name={name}\n          id={id}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n        />\n      </ToggleContainer>\n    </div>\n  );\n}\n\nexport type { ToggleContainerProps, ToggleUIProps };\nexport { Toggle, ToggleContainer, ToggleUI, useToggleContext };\n"],"names":["noop","TOGGLE_DEFAULT_VALUE","checked","defaultChecked","disabled","onChange","onFocus","onBlur","ToggleContext","React","createContext","useToggleContext","context","useContext","undefined","Error","ToggleContainer","_a","_b","Dvalue","_c","_d","_e","_f","_g","children","_h","useState","isChecked","setChecked","handleChange","useCallback","e","currentTarget","createElement","Provider","value","filterNumber","input","config","useSendbirdStateContext","logger","warning","_","regex","numbers","match","map","parseFloat","ToggleUI","props","reversed","width","animationDuration","style","name","id","ariaLabel","_j","ariaLabelledby","_k","_l","animatedClassName","setAnimatedClassName","toggleWidth","toggleHeight","dotSize","className","flat","join","__assign","concat","height","borderRadius","type","Toggle"],"mappings":";;;;;;;;;;;;;AAEA;;;;AAIG;AACH,IAAMA,IAAI,GAAG,YAAyB,EAAC,CAAA;AAChC,IAAMC,oBAAoB,GAAG;AAClCC,EAAAA,OAAO,EAAE,IAAI;AACbC,EAAAA,cAAc,EAAE,KAAK;AACrBC,EAAAA,QAAQ,EAAE,KAAK;AACfC,EAAAA,QAAQ,EAAEL,IAAI;AACdM,EAAAA,OAAO,EAAEN,IAAI;AACbO,EAAAA,MAAM,EAAEP,IAAAA;CACT,CAAA;AAWM,IAAMQ,aAAa,gBAAGC,yBAAK,CAACC,aAAa,CAAyBT,oBAAoB,CAAC,CAAA;SAE9EU,gBAAgBA,GAAA;AAC9B,EAAA,IAAMC,OAAO,GAAGH,yBAAK,CAACI,UAAU,CAACL,aAAa,CAAC,CAAA;EAC/C,IAAII,OAAO,KAAKE,SAAS,EAAE;AACzB,IAAA,MAAM,IAAIC,KAAK,CAAC,0FAA0F,CAAC,CAAA;AAC5G,GAAA;AACD,EAAA,OAAOH,OAAO,CAAA;AAChB;;ACtBA;AACM,SAAUI,eAAeA,CAACC,EAQT,EAAA;MAPrBC,EAAwB,GAAAD,EAAA,CAAAf,OAAA;IAAxBA,OAAO,GAAGgB,EAAA,KAAA,KAAA,CAAA,GAAAC,oBAAM,CAACjB,OAAO,GAAAgB,EAAA;AAAE;IAC1BE,EAAA,GAAAH,EAAA,CAAAd,cAAsC;AADZ;IAC1BA,cAAc,mBAAGgB,oBAAM,CAAChB,cAAc,GAAAiB,EAAA;IACtCC,gBAA0B;IAA1BjB,QAAQ,mBAAGe,oBAAM,CAACf,QAAQ,GAAAiB,EAAA;IAC1BC,gBAA0B;IAA1BjB,QAAQ,mBAAGc,oBAAM,CAACd,QAAQ,GAAAiB,EAAA;IAC1BC,eAAwB;IAAxBjB,OAAO,mBAAGa,oBAAM,CAACb,OAAO,GAAAiB,EAAA;IACxBC,cAAsB;IAAtBjB,MAAM,mBAAGY,oBAAM,CAACZ,MAAM,GAAAiB,EAAA;IACtBC,QAAQ,GAAAR,EAAA,CAAAQ,QAAA,CAAA;AAEF,EAAA,IAAAC,EAA0B,GAAAC,cAAQ,CAACxB,cAAc,IAAI,KAAK,CAAC;AAA1DyB,IAAAA,SAAS,GAAAF,EAAA,CAAA,CAAA,CAAA;AAAEG,IAAAA,UAAU,QAAqC,CAAA;AACjE,EAAA,IAAMC,YAAY,GAAGC,iBAAW,CAAC,UAACC,CAAgC,EAAA;AAChE,IAAA,IAAI5B,QAAQ,EAAE;AACZ,MAAA,OAAA;AACD,KAAA;IACD,IAAIF,OAAO,KAAK,IAAI,EAAE;AACpB2B,MAAAA,UAAU,CAACG,CAAC,CAACC,aAAa,CAAC/B,OAAO,CAAC,CAAA;AACpC,KAAA;IACDG,QAAQ,CAAC2B,CAAC,CAAC,CAAA;AACb,GAAC,EAAE,CAAC3B,QAAQ,EAAEH,OAAO,CAAC,CAAC,CAAA;AAEvB,EAAA,oBACEO,yBAAA,CAAAyB,aAAA,CAAC1B,aAAa,CAAC2B,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAE;AAC7BlC,MAAAA,OAAO,EAAEA,OAAO,KAAK,IAAI,GAAGA,OAAO,GAAG0B,SAAS;AAC/CxB,MAAAA,QAAQ,EAAAA,QAAA;AACRC,MAAAA,QAAQ,EAAEyB,YAAY;AACtBxB,MAAAA,OAAO,EAAE,UAAC0B,CAAC,EAAA;QACT,IAAI,CAAC5B,QAAQ,EAAE;UACbE,OAAO,CAAC0B,CAAC,CAAC,CAAA;AACX,SAAA;OACF;AACDzB,MAAAA,MAAM,EAAE,UAACyB,CAAC,EAAA;QACR,IAAI,CAAC5B,QAAQ,EAAE;UACbG,MAAM,CAACyB,CAAC,CAAC,CAAA;AACV,SAAA;AACH,OAAA;AACD,KAAA;AAAC,GAAA,EACCP,QACqB,CAAC,CAAA;AAE7B;;AClDM,SAAUY,YAAYA,CAACC,KAAsB,EAAA;EACjD,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC1D,IAAI;AACM,MAAA,IAAAC,MAAM,GAAKC,+CAAuB,EAAE,OAA9B,CAAA;AACN,MAAA,IAAAC,MAAM,GAAKF,MAAM,CAAAE,MAAX,CAAA;AACdA,MAAAA,MAAM,CAACC,OAAO,CAAC,yEAAyE,EAAEJ,KAAK,CAAC,CAAA;AACjG,KAAA,CAAC,OAAOK,CAAC,EAAE,YAAE;AACd,IAAA,OAAO,EAAE,CAAA;AACV,GAAA;AACD,EAAA,IAAI,OAAOL,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAO,CAACA,KAAK,CAAC,CAAA;AACf,GAAA;EACD,IAAMM,KAAK,GAAG,kBAAkB,CAAA;EAChC,IAAMC,OAAO,GAAGP,KAAK,CAACQ,KAAK,CAACF,KAAK,CAAC,IAAI,EAAE,CAAA;AACxC,EAAA,OAAOC,OAAO,CAACE,GAAG,CAACC,UAAU,CAAC,CAAA;AAChC;;ACFM,SAAUC,QAAQA,CAACC,KAAoB,EAAA;;AAEzC,EAAA,IAAAhC,EAQE,GAAAgC,KAAK,CARSC,QAAA;IAAhBA,QAAQ,GAAGjC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,GAAAA,EAAA;IAChBE,EAOE,GAAA8B,KAAK,CAPOE,KAAA;IAAdA,KAAK,GAAGhC,EAAA,KAAA,KAAA,CAAA,GAAA,MAAM,GAAAA,EAAA;IACdC,EAME,GAAA6B,KAAK,CANmBG,iBAAA;IAA1BA,iBAAiB,GAAGhC,EAAA,KAAA,KAAA,CAAA,GAAA,MAAM,GAAAA,EAAA;IAC1BC,KAKE4B,KAAK,CAAAI,KALG;IAAVA,KAAK,mBAAG,EAAE,GAAAhC,EAAA;IACVC,EAAA,GAIE2B,KAAK,CAAAK,IAJE;IAATA,IAAI,mBAAG,EAAE,GAAAhC,EAAA;IACTC,EAAA,GAGE0B,KAAK,CAHAM,EAAA;IAAPA,EAAE,GAAAhC,EAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAAA,EAAA;IACPE,EAEE,GAAAwB,KAAK,CAFOO,SAAA;IAAdA,SAAS,GAAA/B,EAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAAA,EAAA;IACdgC,EACE,GAAAR,KAAK,eADY;IAAnBS,cAAc,GAAGD,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,KAAA,CAAA;AAEf,EAAA,IAAAE,KAMFjD,gBAAgB,EAAE;IALpBT,OAAO,GAAA0D,EAAA,CAAA1D,OAAA;IACPE,QAAQ,GAAAwD,EAAA,CAAAxD,QAAA;IACRC,QAAQ,cAAA;IACRC,OAAO,aAAA;IACPC,MAAM,YACc,CAAA;AAEtB;AACM,EAAA,IAAAsD,EAAA,GAA4ClC,cAAQ,CAAC,EAAE,CAAC;AAAvDmC,IAAAA,iBAAiB,GAAAD,EAAA,CAAA,CAAA,CAAA;AAAEE,IAAAA,oBAAoB,GAAAF,EAAA,CAAA,CAAA,CAAgB,CAAA;EAE9D,IAAMG,WAAW,GAAG,CAAA/C,EAAA,GAAAoB,YAAY,CAACe,KAAK,CAAC,MAAA,IAAA,IAAAnC,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,EAAA,CAAG,CAAC,CAAC,CAAA;AAC5C,EAAA,IAAMgD,YAAY,GAAGD,WAAW,GAAG,CAAC,CAAA;AACpC;AACA,EAAA,IAAME,OAAO,GAAGD,YAAY,GAAG,GAAG,CAAA;EAElC,oBACExD,yBAAA,CAAAyB,aAAA,CAAA,OAAA,EAAA;AACEiC,IAAAA,SAAS,EAAE,CACT,8BAA8B,EAC9BL,iBAAiB,EACjB5D,OAAO,GAAG,uCAAuC,GAAG,yCAAyC,EAC7FE,QAAQ,GAAG,wCAAwC,GAAG,EAAE,EACxD+C,QAAQ,GAAG,wCAAwC,GAAG,EAAE,CACzD,CAACiB,IAAI,EAAE,CAACC,IAAI,CAAC,GAAG,CAAE;IACnBf,KAAK,EACHgB,kBAAA,CAAA;MAAAlB,KAAK,EAAE,EAAG,CAAAmB,MAAA,CAAAP,WAAW,EAAI,IAAA,CAAA;MACzBQ,MAAM,EAAE,EAAG,CAAAD,MAAA,CAAAN,YAAY,OAAI;AAC3BQ,MAAAA,YAAY,EAAE,EAAA,CAAAF,MAAA,CAAGL,OAAO,EAAA,IAAA,CAAA;AACrB,KAAA,EAAAZ,KAAK,CAAA;GAGV7C,eAAAA,yBAAA,CAAAyB,aAAA,CAAA,KAAA,EAAA;AACEiC,IAAAA,SAAS,EAAE,CACT,yCAAyC,EACzCjE,OAAO,GACH,mDAAmD,GACnD,qDAAqD,CAC1D,CAACmE,IAAI,CAAC,GAAG,CAAE;AACZf,IAAAA,KAAK,EAAE;MACLF,KAAK,EAAE,EAAG,CAAAmB,MAAA,CAAAL,OAAO,EAAI,IAAA,CAAA;MACrBM,MAAM,EAAE,EAAG,CAAAD,MAAA,CAAAL,OAAO,EAAI,IAAA,CAAA;AACtBb,MAAAA,iBAAiB,EAAAA,iBAAAA;AAClB,KAAA;AAAC,GAEJ,CAAA,eAAA5C,yBAAA,CAAAyB,aAAA,CAAA,OAAA,EAAA;AACEwC,IAAAA,IAAI,EAAC,UAAU;AACf,IAAA,YAAA,EAAYjB,SAAU;AACtB,IAAA,iBAAA,EAAiBE,cAAe;AAChCJ,IAAAA,IAAI,EAAEA,IAAK;AACXC,IAAAA,EAAE,EAAEA,EAAG;AACPtD,IAAAA,OAAO,EAAEA,OAAQ;AACjBE,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,QAAQ,EAAE,UAAC2B,CAAC,EAAA;MACV3B,QAAQ,CAAC2B,CAAC,CAAC,CAAA;MACX+B,oBAAoB,CAAC/B,CAAC,CAACC,aAAa,CAAC/B,OAAO,GAAG,yCAAyC,GAAG,0CAA0C,CAAC,CAAA;KACtI;AACFI,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,MAAM,EAAEA,MAAAA;AAAO,GAEnB,CAAO,CAAC,CAAA;AAEZ;;AC9EA,SAASoE,MAAMA,CAACzB,KAAkB,EAAA;AAG9B,EAAA;AADA;IACAhD,OAAO,GAiBLgD,KAAK,CAAAhD,OAjBA;IACPC,cAAc,GAgBZ+C,KAAK,CAhBO/C,cAAA;IACdC,QAAQ,GAeN8C,KAAK,CAAA9C,QAfC;IACRC,QAAQ,GAcN6C,KAAK,CAdC7C,QAAA;IACRC,OAAO,GAaL4C,KAAK,CAAA5C,OAbA;IACPC,MAAM,GAYJ2C,KAAK,CAZD3C,MAAA;AACN;IACA4D,SAAS,GAUPjB,KAAK,CAVEiB,SAAA;IACThB,QAAQ,GASND,KAAK,CAAAC,QATC;IACRC,KAAK,GAQHF,KAAK,CARFE,KAAA;AACL;IACAC,iBAAiB,GAMfH,KAAK,CANUG,iBAAA;IACjBC,KAAK,GAKHJ,KAAK,CAAAI,KALF;IACLC,IAAI,GAIFL,KAAK,CAJHK,IAAA;IACJC,EAAE,GAGAN,KAAK,CAAAM,EAHL;IACFC,SAAS,GAEPP,KAAK,CAFEO,SAAA;IACTE,cAAc,GACZT,KAAK,CAAAS,cADO,CAAA;EAEhB,oBACElD,yBAAA,CAAAyB,aAAA,CAAA,KAAA,EAAA;AAAKiC,IAAAA,SAAS,EAAE,qBAAsB,CAAAI,MAAA,CAAAJ,SAAS,CAAA;AAAG,GAAA,eAChD1D,yBAAA,CAAAyB,aAAA,CAAClB,eAAe,EAAA;AACdd,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,cAAc,EAAEA,cAAe;AAC/BC,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,MAAM,EAAEA,MAAAA;AAAO,GAAA,eAEfE,yBAAA,CAAAyB,aAAA,CAACe,QAAQ,EAAA;AACPE,IAAAA,QAAQ,EAAEA,QAAS;AACnBC,IAAAA,KAAK,EAAEA,KAAM;AACbC,IAAAA,iBAAiB,EAAEA,iBAAkB;AACrCC,IAAAA,KAAK,EAAEA,KAAM;AACbC,IAAAA,IAAI,EAAEA,IAAK;AACXC,IAAAA,EAAE,EAAEA,EAAG;AACPC,IAAAA,SAAS,EAAEA,SAAU;AACrBE,IAAAA,cAAc,EAAEA,cAAAA;GAEpB,CAAiB,CACd,CAAC,CAAA;AAEV;;;;;;;"}