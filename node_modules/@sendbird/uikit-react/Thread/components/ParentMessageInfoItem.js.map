{"version":3,"file":"ParentMessageInfoItem.js","sources":["../../../src/modules/Thread/components/ParentMessageInfo/ParentMessageInfoItem.tsx"],"sourcesContent":["import React, { ReactElement, useMemo, useState } from 'react';\nimport { FileMessage, MultipleFilesMessage, UserMessage } from '@sendbird/chat/message';\n\nimport './ParentMessageInfoItem.scss';\n\nimport { useLocalization } from '../../../../lib/LocalizationContext';\nimport {\n  getUIKitFileType,\n  getUIKitMessageType,\n  getUIKitMessageTypes,\n  isEditedMessage,\n  isVoiceMessage,\n  isGifMessage,\n  // isOGMessage,\n  isSentMessage,\n  isThumbnailMessage,\n  isUserMessage,\n  isVideoMessage,\n  truncateString,\n  SendableMessageType,\n  isMultipleFilesMessage,\n} from '../../../../utils';\n\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport ImageRenderer from '../../../../ui/ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport TextButton from '../../../../ui/TextButton';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport EmojiReactions from '../../../../ui/EmojiReactions';\nimport { useThreadContext } from '../../context/ThreadProvider';\nimport VoiceMessageItemBody from '../../../../ui/VoiceMessageItemBody';\nimport TextFragment from '../../../Message/components/TextFragment';\nimport { tokenizeMessage } from '../../../Message/utils/tokens/tokenize';\nimport MultipleFilesMessageItemBody, { ThreadMessageKind } from '../../../../ui/MultipleFilesMessageItemBody';\nimport { useMediaQueryContext } from '../../../../lib/MediaQueryContext';\nimport { useThreadMessageKindKeySelector } from '../../../Channel/context/hooks/useThreadMessageKindKeySelector';\nimport { useStatefulFileInfoList } from '../../../Channel/context/hooks/useStatefulFileInfoList';\n\nexport interface ParentMessageInfoItemProps {\n  className?: string;\n  message: SendableMessageType;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function ParentMessageInfoItem({\n  className,\n  message,\n  showFileViewer,\n}: ParentMessageInfoItemProps): ReactElement {\n  const { stores, config, eventHandlers } = useSendbirdStateContext?.() || {};\n  const onPressUserProfileHandler = eventHandlers?.reaction?.onPressUserProfile;\n  const {\n    replyType,\n    isMentionEnabled,\n    isReactionEnabled,\n  } = config;\n  const currentUserId = stores?.userStore?.user?.userId;\n  const { stringSet } = useLocalization();\n  const {\n    currentChannel,\n    emojiContainer,\n    nicknamesMap,\n    toggleReaction,\n  } = useThreadContext();\n  const { isMobile } = useMediaQueryContext();\n  const threadMessageKindKey = useThreadMessageKindKeySelector({\n    threadMessageKind: ThreadMessageKind.PARENT,\n    isMobile,\n  });\n  // For MultipleFilesMessage only.\n  const statefulFileInfoList = useStatefulFileInfoList(message);\n  const isMentionedMessage = isMentionEnabled\n    && message?.mentionedMessageTemplate?.length > 0\n    && message?.mentionedUsers?.length > 0;\n\n  // Emoji reactions\n  const isReactionActivated = isReactionEnabled\n    && replyType === 'THREAD'\n    && !currentChannel?.isSuper\n    && !currentChannel?.isBroadcast\n    && message?.reactions?.length > 0;\n\n  const tokens = useMemo(() => {\n    if (isMentionedMessage) {\n      return tokenizeMessage({\n        mentionedUsers: message?.mentionedUsers,\n        messageText: message?.mentionedMessageTemplate,\n      });\n    }\n    return tokenizeMessage({\n      messageText: (message as UserMessage)?.message,\n    });\n  }, [message?.updatedAt]);\n\n  // Thumbnail mesage\n  const [isImageRendered, setImageRendered] = useState(false);\n  const thumbnailUrl: string = (message as FileMessage)?.thumbnails?.length > 0\n    ? (message as FileMessage)?.thumbnails[0]?.url : '';\n\n  return (\n    <div className={`sendbird-parent-message-info-item ${className}`}>\n      {isUserMessage(message) && (\n        <Label\n          className=\"sendbird-parent-message-info-item__text-message\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          <TextFragment tokens={tokens} />\n          {isEditedMessage(message) && (\n            <Label\n              className=\"sendbird-parent-message-info-item__text-message edited\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {` ${stringSet.MESSAGE_EDITED} `}\n            </Label>\n          )}\n        </Label>\n      )}\n      {/* Will enable ogMessage after Server support - getMessage including og_tag */}\n      {/* {isOGMessage(message) && (\n        <div\n          className=\"sendbird-parent-message-info-item__og-field\"\n          onClick={openUrl}\n        >\n          <ImageRenderer\n            className=\"sendbird-parent-message-info-item__og-field__thumbnail\"\n            url={message?.ogMetaData?.defaultImage?.url || ''}\n            alt={message?.ogMetaData?.defaultImage?.alt || ''}\n            width=\"200px\"\n            height=\"148px\"\n            defaultComponent={() => (\n              <div className=\"sendbird-parent-message-info-item__og-field__thumbnail__placeholder\">\n                <Icon\n                  className=\"sendbird-parent-message-info-item__og-field__thumbnail__placeholder__icon\"\n                  type={IconTypes.THUMBNAIL_NONE}\n                  fillColor={IconColors.ON_BACKGROUND_2}\n                  width=\"56px\"\n                  height=\"56px\"\n                />\n              </div>\n            )}\n          />\n          <div className=\"sendbird-parent-message-info-item__og-field__content\">\n            {message?.ogMetaData?.title && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__title\"\n                type={LabelTypography.SUBTITLE_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {message.ogMetaData.title}\n              </Label>\n            )}\n            {message?.ogMetaData?.description && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__description\"\n                type={LabelTypography.BODY_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {message.ogMetaData.description}\n              </Label>\n            )}\n            {message?.ogMetaData?.url && (\n              <Label\n                className=\"sendbird-parent-message-info-item__og-field__content__url\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_2}\n              >\n                {message.ogMetaData.url}\n              </Label>\n            )}\n          </div>\n        </div>\n      )} */}\n      {\n        (getUIKitMessageType((message as FileMessage)) === getUIKitMessageTypes().FILE) && (\n          <div className=\"sendbird-parent-message-info-item__file-message\">\n            <div className=\"sendbird-parent-message-info-item__file-message__file-icon\">\n              <Icon\n                className=\"sendbird-parent-message-info-item__file-message__file-icon__icon\"\n                type={{\n                  IMAGE: IconTypes.PHOTO,\n                  VIDEO: IconTypes.PLAY,\n                  AUDIO: IconTypes.FILE_AUDIO,\n                  GIF: IconTypes.GIF,\n                  OTHERS: IconTypes.FILE_DOCUMENT,\n                }[getUIKitFileType((message as FileMessage)?.type)]}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </div>\n            <TextButton\n              className=\"sendbird-parent-message-info-item__file-message__file-name\"\n              onClick={() => { window.open((message as FileMessage)?.url); }}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              <Label\n                className=\"sendbird-parent-message-info-item__file-message__file-name__text\"\n                type={LabelTypography.BODY_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {truncateString((message as FileMessage)?.name || (message as FileMessage)?.url, 30)}\n              </Label>\n            </TextButton>\n          </div>\n        )\n      }\n      {\n        isMultipleFilesMessage(message) && (\n          <MultipleFilesMessageItemBody\n            className=\"sendbird-parent-message-info-item__multiple-files-message-wrapper\"\n            message={message as MultipleFilesMessage}\n            isByMe={false}\n            isReactionEnabled={isReactionEnabled}\n            threadMessageKindKey={threadMessageKindKey}\n            statefulFileInfoList={statefulFileInfoList}\n          />\n        )\n      }\n      {\n        isVoiceMessage(message as FileMessage) && (\n          <div className=\"sendbird-parent-message-info-item__voice-message\">\n            <VoiceMessageItemBody\n              className=\"sendbird-parent-message-info-item__voice-message__item\"\n              message={message as FileMessage}\n              channelUrl={currentChannel?.url}\n              isByMe={false}\n              isReactionEnabled={isReactionEnabled}\n            />\n          </div>\n        )\n      }\n      {isThumbnailMessage(message) && (\n        <div\n          className=\"sendbird-parent-message-info-item__thumbnail-message\"\n          onClick={() => {\n            if (isSentMessage(message)) {\n              showFileViewer(true);\n            }\n          }}\n        >\n          <ImageRenderer\n            className=\"sendbird-parent-message-info-item__thumbnail-message__thumbnail\"\n            url={thumbnailUrl || (message as FileMessage)?.url || (message as FileMessage)?.plainUrl}\n            alt={(message as FileMessage)?.type}\n            width=\"200px\"\n            height=\"148px\"\n            onLoad={() => { setImageRendered(true); }}\n            placeHolder={(style_: Record<string, any>) => (\n              <div\n                className=\"sendbird-parent-message-info-item__thumbnail-message__placeholder\"\n                style={style_}\n              >\n                <div className=\"sendbird-parent-message-info-item__thumbnail-message__placeholder__icon\">\n                  <Icon\n                    type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                    fillColor={IconColors.ON_BACKGROUND_2}\n                    width=\"34px\"\n                    height=\"34px\"\n                  />\n                </div>\n              </div>\n            )}\n          />\n          {(isVideoMessage(message) && !thumbnailUrl) && !isImageRendered && (\n            <video className=\"sendbird-parent-message-info-item__thumbnail-message__video\">\n              <source src={(message as FileMessage)?.url || (message as FileMessage)?.plainUrl} type={(message as FileMessage)?.type} />\n            </video>\n          )}\n          <div className=\"sendbird-parent-message-info-item__thumbnail-message__image-cover\" />\n          {(isVideoMessage(message) || isGifMessage(message)) && (\n            <div className=\"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper\">\n              <div className=\"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon\">\n                <Icon\n                  type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                  fillColor={IconColors.ON_BACKGROUND_2}\n                  width=\"34px\"\n                  height=\"34px\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n      {getUIKitMessageType(message) === getUIKitMessageTypes?.()?.UNKNOWN && (\n        <div className=\"sendbird-parent-message-info-item__unknown-message\">\n          <Label\n            className=\"sendbird-parent-message-info-item__unknown-message__header\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE}\n          </Label>\n          <Label\n            className=\"sendbird-parent-message-info-item__unknown-message__description\"\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {stringSet.UNKNOWN__CANNOT_READ_MESSAGE}\n          </Label>\n        </div>\n      )}\n\n      {/* reactions */}\n      {isReactionActivated && (\n        <div className=\"sendbird-parent-message-info__reactions\">\n          <EmojiReactions\n            userId={currentUserId}\n            message={message}\n            channel={currentChannel}\n            isByMe={false}\n            emojiContainer={emojiContainer}\n            memberNicknamesMap={nicknamesMap}\n            toggleReaction={toggleReaction}\n            onPressUserProfile={onPressUserProfileHandler}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["ParentMessageInfoItem","_a","className","message","showFileViewer","_l","useSendbirdStateContext","stores","config","eventHandlers","onPressUserProfileHandler","_b","reaction","onPressUserProfile","replyType","isMentionEnabled","isReactionEnabled","currentUserId","_d","_c","userStore","user","userId","stringSet","useLocalization","_m","useThreadContext","currentChannel","emojiContainer","nicknamesMap","toggleReaction","isMobile","useMediaQueryContext","threadMessageKindKey","useThreadMessageKindKeySelector","threadMessageKind","ThreadMessageKind","PARENT","statefulFileInfoList","useStatefulFileInfoList","isMentionedMessage","_e","mentionedMessageTemplate","length","_f","mentionedUsers","isReactionActivated","isSuper","isBroadcast","_g","reactions","tokens","useMemo","tokenizeMessage","messageText","updatedAt","_o","useState","isImageRendered","setImageRendered","thumbnailUrl","_h","thumbnails","_j","url","React","createElement","concat","isUserMessage","Label","type","LabelTypography","BODY_1","color","LabelColors","ONBACKGROUND_1","TextFragment","isEditedMessage","ONBACKGROUND_2","MESSAGE_EDITED","getUIKitMessageType","getUIKitMessageTypes","FILE","Icon","IMAGE","IconTypes","PHOTO","VIDEO","PLAY","AUDIO","FILE_AUDIO","GIF","OTHERS","FILE_DOCUMENT","getUIKitFileType","fillColor","IconColors","PRIMARY","width","height","TextButton","onClick","window","open","truncateString","name","isMultipleFilesMessage","MultipleFilesMessageItemBody","isByMe","isVoiceMessage","VoiceMessageItemBody","channelUrl","isThumbnailMessage","isSentMessage","ImageRenderer","plainUrl","alt","onLoad","placeHolder","style_","style","isVideoMessage","ON_BACKGROUND_2","src","isGifMessage","_k","UNKNOWN","UNKNOWN__UNKNOWN_MESSAGE_TYPE","UNKNOWN__CANNOT_READ_MESSAGE","EmojiReactions","channel","memberNicknamesMap"],"mappings":"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"}