{"version":3,"file":"SelectChannelType.js","sources":["../../../src/modules/CreateChannel/utils.ts","../../../src/modules/CreateChannel/components/SelectChannelType.tsx"],"sourcesContent":["import type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nexport const isBroadcastChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const isSuperGroupChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n","import React, { useContext } from 'react';\nimport type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nimport * as sendbirdSelectors from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\n\nimport { useCreateChannelContext } from '../context/CreateChannelProvider';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport Modal from '../../../ui/Modal';\n\nimport {\n  isBroadcastChannelEnabled,\n  isSuperGroupChannelEnabled,\n} from '../utils';\nimport { CHANNEL_TYPE } from '../types';\n\nexport interface SelectChannelTypeProps {\n  onCancel?(): void;\n}\n\nconst SelectChannelType: React.FC<SelectChannelTypeProps> = (props: SelectChannelTypeProps) => {\n  const { onCancel } = props;\n  const store = useSendbirdStateContext();\n\n  const sdk = sendbirdSelectors.getSdk(store) as SendbirdGroupChat;\n\n  const createChannelProps = useCreateChannelContext();\n  const {\n    setStep,\n    setType,\n  } = createChannelProps;\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  const isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n  const isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n\n  return (\n    <Modal\n      titleText={stringSet?.MODAL__CREATE_CHANNEL__TITLE}\n      hideFooter\n      onCancel={() => { onCancel(); }}\n      className=\"sendbird-add-channel__modal\"\n    >\n      <div className=\"sendbird-add-channel__rectangle-wrap\">\n        <div\n          className=\"sendbird-add-channel__rectangle\"\n          onClick={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n        >\n          <Icon\n            className=\"sendbird-add-channel__rectangle__chat-icon\"\n            type={IconTypes.CHAT}\n            fillColor={IconColors.PRIMARY}\n            width=\"28px\"\n            height=\"28px\"\n          />\n          <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.MODAL__CREATE_CHANNEL__GROUP}\n          </Label>\n        </div>\n        {\n          isSupergroupAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__supergroup-icon\"\n                type={IconTypes.SUPERGROUP}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__SUPER}\n              </Label>\n            </div>\n          )\n        }\n        {\n          isBroadcastAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__broadcast-icon\"\n                type={IconTypes.BROADCAST}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__BROADCAST}\n              </Label>\n            </div>\n          )\n        }\n      </div>\n    </Modal>\n  );\n};\n\nexport default SelectChannelType;\n"],"names":["isBroadcastChannelEnabled","sdk","ALLOW_BROADCAST_CHANNEL","applicationAttributes","_a","appInfo","Array","isArray","includes","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","SelectChannelType","props","onCancel","store","useSendbirdStateContext","sendbirdSelectors","createChannelProps","useCreateChannelContext","setStep","setType","stringSet","useContext","LocalizationContext","isBroadcastAvailable","isSupergroupAvailable","React","createElement","Modal","titleText","MODAL__CREATE_CHANNEL__TITLE","hideFooter","className","onClick","CHANNEL_TYPE","GROUP","role","tabIndex","onKeyDown","Icon","type","IconTypes","CHAT","fillColor","IconColors","PRIMARY","width","height","Label","LabelTypography","SUBTITLE_1","color","LabelColors","ONBACKGROUND_1","MODAL__CREATE_CHANNEL__GROUP","SUPERGROUP","MODAL__CREATE_CHANNEL__SUPER","BROADCAST","MODAL__CREATE_CHANNEL__BROADCAST"],"mappings":"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"}