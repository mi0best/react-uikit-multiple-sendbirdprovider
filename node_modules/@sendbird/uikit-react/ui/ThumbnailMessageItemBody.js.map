{"version":3,"file":"ThumbnailMessageItemBody.js","sources":["../../src/ui/ThumbnailMessageItemBody/index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isGifMessage, isSentMessage, isVideoMessage } from '../../utils';\nimport { noop } from '../../utils/utils';\nimport useLongPress from '../../hooks/useLongPress';\nimport { MultipleFilesMessage } from '@sendbird/chat/message';\nimport { getMessageFirstFileType, getMessageFirstFileUrl, getMessageFirstFileThumbnailUrl } from '../QuoteMessage/utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage | MultipleFilesMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isReactionEnabled?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n  style?: Record<string, any>;\n}\n\nexport default function ThumbnailMessageItemBody({\n  className = '',\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isReactionEnabled = false,\n  showFileViewer = noop,\n  style = {},\n}: Props): ReactElement {\n  const thumbnailUrl: string = getMessageFirstFileThumbnailUrl(message);\n  const [imageRendered, setImageRendered] = useState(false);\n\n  const onClickHandler = useLongPress({\n    onLongPress: noop,\n    onClick: () => {\n      if (isSentMessage(message)) {\n        showFileViewer?.(true);\n      }\n    },\n  });\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        (isReactionEnabled && (message.reactions?.length ?? 0) > 0) ? 'reactions' : '',\n      ])}\n      {...onClickHandler}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={thumbnailUrl || getMessageFirstFileUrl(message)}\n        alt={getMessageFirstFileType(message)}\n        width={style?.width || '360px'}\n        height={style?.height || '270px'}\n        onLoad={() => { setImageRendered(true); }}\n        placeHolder={(style_: Record<string, any>) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style_}\n          />\n        )}\n      />\n      {\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (\n          <video className=\"sendbird-thumbnail-message-item-body__video\">\n            <source src={getMessageFirstFileUrl(message)} type={getMessageFirstFileType(message)} />\n          </video>\n        )\n      }\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n      {\n        (isVideoMessage(message) || isGifMessage(message)) && (\n          <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper\">\n            <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                fillColor={IconColors.THUMBNAIL_ICON}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n"],"names":["ThumbnailMessageItemBody","_a","_d","className","message","_e","isByMe","_f","mouseHover","_g","isReactionEnabled","_h","showFileViewer","noop","_j","style","thumbnailUrl","getMessageFirstFileThumbnailUrl","_k","useState","imageRendered","setImageRendered","onClickHandler","useLongPress","onLongPress","onClick","isSentMessage","React","createElement","_extends","getClassName","_c","reactions","_b","length","ImageRenderer","url","getMessageFirstFileUrl","alt","getMessageFirstFileType","width","height","onLoad","placeHolder","style_","isVideoMessage","src","type","isGifMessage","Icon","IconTypes","PLAY","GIF","fillColor","IconColors","THUMBNAIL_ICON"],"mappings":"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"}