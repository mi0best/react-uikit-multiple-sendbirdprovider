{"version":3,"file":"Avatar.js","sources":["../../src/utils/pxToNumber.ts","../../src/ui/Avatar/index.tsx"],"sourcesContent":["export default (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { ReactElement, RefObject } from 'react';\n\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\nimport pxToNumber from '../../utils/pxToNumber';\n\nconst imageRendererClassName = 'sendbird-avatar-img';\n\ninterface DefaultComponentProps {\n  width: string | number,\n  height: string | number,\n}\n\nconst DefaultComponent = ({ width, height }: DefaultComponentProps): ReactElement => {\n  let iconWidth = pxToNumber(width);\n  let iconHeight = pxToNumber(height);\n  if (typeof iconWidth === 'number') {\n    iconWidth *= 0.575;\n  }\n  if (typeof iconHeight === 'number') {\n    iconHeight *= 0.575;\n  }\n\n  return (\n    <div className=\"sendbird-avatar-img--default\" style={{ width, height }}>\n      <Icon\n        type={IconTypes.USER}\n        fillColor={IconColors.CONTENT}\n        width={iconWidth}\n        height={iconHeight}\n      />\n    </div>\n  );\n};\n\nconst _defaultComponent = ({\n  width,\n  height,\n}: DefaultComponentProps) => (\n  <DefaultComponent width={width} height={height} />\n);\n\ninterface AvatarInnerProps {\n  height: string | number,\n  width: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nexport const AvatarInner = ({\n  src = '',\n  alt = '',\n  height,\n  width,\n  customDefaultComponent,\n}: AvatarInnerProps): ReactElement => {\n  const defaultComponent = () => customDefaultComponent ? customDefaultComponent({ width, height }) : _defaultComponent({ width, height });\n\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent}\n    />\n  );\n};\n\ninterface AvatarProps {\n  className?: string | Array<string>,\n  height?: string | number,\n  width?: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  onClick?(): void,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nfunction Avatar(\n  {\n    className = '',\n    src = '',\n    alt = '',\n    width = '56px',\n    height = '56px',\n    onClick,\n    customDefaultComponent,\n  }: AvatarProps,\n  ref: RefObject<HTMLDivElement>,\n): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-avatar',\n      ].join(' ')}\n      role=\"button\"\n      ref={ref}\n      style={{ height, width }}\n      onClick={onClick}\n      onKeyDown={onClick}\n      tabIndex={0}\n    >\n      <AvatarInner\n        src={src}\n        width={width}\n        height={height}\n        alt={alt}\n        customDefaultComponent={customDefaultComponent}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Avatar);\n"],"names":["px","parsed","Number","parseFloat","isNaN","imageRendererClassName","DefaultComponent","_a","width","height","iconWidth","pxToNumber","iconHeight","React","createElement","className","style","Icon","type","IconTypes","USER","fillColor","IconColors","CONTENT","_defaultComponent","AvatarInner","_b","src","_c","alt","customDefaultComponent","defaultComponent","ImageRenderer","url","length","Fragment","slice","map","i","key","uuidv4","Avatar","ref","_d","_e","_f","onClick","__spreadArray","Array","isArray","join","role","onKeyDown","tabIndex","forwardRef"],"mappings":"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"}