{"version":3,"file":"TextMessageItemBody.js","sources":["../../src/ui/TextMessageItemBody/index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useContext, useMemo } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName, isEditedMessage } from '../../utils';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { tokenizeMessage } from '../../modules/Message/utils/tokens/tokenize';\nimport TextFragment from '../../modules/Message/components/TextFragment';\nimport { TEXT_MESSAGE_BODY_CLASSNAME } from './consts';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isMentionEnabled?: boolean;\n  isReactionEnabled?: boolean;\n}\n\nexport default function TextMessageItemBody({\n  className = '',\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isMentionEnabled = false,\n  isReactionEnabled = false,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const isMessageMentioned = isMentionEnabled\n    && message?.mentionedMessageTemplate?.length > 0\n    && message?.mentionedUsers?.length > 0;\n  const tokens = useMemo(() => {\n    if (isMessageMentioned) {\n      return tokenizeMessage({\n        mentionedUsers: message?.mentionedUsers,\n        messageText: message?.mentionedMessageTemplate,\n      });\n    }\n    return tokenizeMessage({\n      messageText: message?.message,\n    });\n  }, [message?.updatedAt]);\n  return (\n    <Label\n      type={LabelTypography.BODY_1}\n      color={isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1}\n    >\n      <div className={getClassName([\n        className,\n        TEXT_MESSAGE_BODY_CLASSNAME,\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        (isReactionEnabled && message?.reactions?.length > 0) ? 'reactions' : '',\n      ])}>\n        <TextFragment tokens={tokens} />\n        {\n          isEditedMessage(message) && (\n            <Label\n              className=\"sendbird-text-message-item-body__message edited\"\n              type={LabelTypography.BODY_1}\n              color={isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2}\n            >\n              {` ${stringSet.MESSAGE_EDITED} `}\n            </Label>\n          )\n        }\n      </div>\n    </Label>\n  );\n}\n"],"names":["TextMessageItemBody","_a","_e","className","message","_f","isByMe","_g","mouseHover","_h","isMentionEnabled","_j","isReactionEnabled","stringSet","useContext","LocalizationContext","isMessageMentioned","_b","mentionedMessageTemplate","length","_c","mentionedUsers","tokens","useMemo","tokenizeMessage","messageText","updatedAt","React","createElement","Label","type","LabelTypography","BODY_1","color","LabelColors","ONCONTENT_1","ONBACKGROUND_1","getClassName","TEXT_MESSAGE_BODY_CLASSNAME","_d","reactions","TextFragment","isEditedMessage","ONCONTENT_2","ONBACKGROUND_2","concat","MESSAGE_EDITED"],"mappings":"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"}