{"version":3,"file":"utils-bfc0ab3b.js","sources":["../src/ui/QuoteMessage/utils.ts"],"sourcesContent":["import { CoreMessageType, isFileMessage, isMultipleFilesMessage } from '../../utils';\nimport { match } from 'ts-pattern';\nimport { FileMessage, MultipleFilesMessage, UploadedFileInfo } from '@sendbird/chat/message';\nimport { Thumbnail } from '@sendbird/chat/lib/__definition';\n\nexport function getMessageFirstFileType(message: CoreMessageType): string {\n  return match(message)\n    .when(isFileMessage, () => {\n      return (message as FileMessage)?.type ?? '';\n    })\n    .when(isMultipleFilesMessage, () => {\n      return getFirstFileInfo(message as MultipleFilesMessage)?.mimeType ?? '';\n    })\n    .otherwise(() => {\n      return '';\n    });\n}\n\nfunction getFirstFileInfo(message: MultipleFilesMessage): UploadedFileInfo | null {\n  const fileInfoList: UploadedFileInfo[] = message.fileInfoList;\n  return fileInfoList.length > 0 ? fileInfoList[0] : null;\n}\n\nexport function getMessageFirstFileName(message: CoreMessageType): string {\n  return match(message)\n    .when(isFileMessage, () => {\n      return (message as FileMessage)?.name ?? '';\n    })\n    .when(isMultipleFilesMessage, () => {\n      return getFirstFileInfo(message as MultipleFilesMessage)?.fileName ?? '';\n    })\n    .otherwise(() => {\n      return '';\n    });\n}\n\nexport function getMessageFirstFileUrl(message: CoreMessageType): string {\n  return match(message)\n    .when(isFileMessage, () => {\n      return (message as FileMessage)?.url ?? '';\n    })\n    .when(isMultipleFilesMessage, () => {\n      return getFirstFileInfo(message as MultipleFilesMessage)?.url ?? '';\n    })\n    .otherwise(() => {\n      return '';\n    });\n}\n\nexport function getMessageFirstFileThumbnails(message: CoreMessageType): Thumbnail[] {\n  return match(message)\n    .when(isFileMessage, () => {\n      return (message as FileMessage).thumbnails;\n    })\n    .when(isMultipleFilesMessage, () => {\n      return getFirstFileInfo(message as MultipleFilesMessage)?.thumbnails ?? [];\n    })\n    .otherwise(() => {\n      return [];\n    });\n}\n\nexport function getMessageFirstFileThumbnailUrl(message: CoreMessageType): string {\n  const thumbnails: Thumbnail[] = getMessageFirstFileThumbnails(message);\n  return (thumbnails && thumbnails.length > 0) ? thumbnails[0].url : '';\n}\n"],"names":["getMessageFirstFileType","message","match","when","isFileMessage","_a","type","isMultipleFilesMessage","_b","getFirstFileInfo","mimeType","otherwise","fileInfoList","length","getMessageFirstFileName","name","fileName","getMessageFirstFileUrl","url","getMessageFirstFileThumbnails","thumbnails","getMessageFirstFileThumbnailUrl"],"mappings":"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"}