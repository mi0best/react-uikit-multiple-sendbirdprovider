import {
  require_react_dom
} from "./chunk-OCHDJWGW.js";
import {
  require_react
} from "./chunk-ZVMIEU5R.js";
import {
  __commonJS,
  __toESM
} from "./chunk-UXIASGQL.js";

// node_modules/react-is/cjs/react-is.development.js
var require_react_is_development = __commonJS({
  "node_modules/react-is/cjs/react-is.development.js"(exports) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var hasSymbol = typeof Symbol === "function" && Symbol.for;
        var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
        var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
        var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
        var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
        var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
        var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
        var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
        var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
        var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
        var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
        var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
        var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
        var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
        var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
        var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
        var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
        var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
        var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
        function isValidElementType(type) {
          return typeof type === "string" || typeof type === "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
          type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
        }
        function typeOf(object) {
          if (typeof object === "object" && object !== null) {
            var $$typeof = object.$$typeof;
            switch ($$typeof) {
              case REACT_ELEMENT_TYPE:
                var type = object.type;
                switch (type) {
                  case REACT_ASYNC_MODE_TYPE:
                  case REACT_CONCURRENT_MODE_TYPE:
                  case REACT_FRAGMENT_TYPE:
                  case REACT_PROFILER_TYPE:
                  case REACT_STRICT_MODE_TYPE:
                  case REACT_SUSPENSE_TYPE:
                    return type;
                  default:
                    var $$typeofType = type && type.$$typeof;
                    switch ($$typeofType) {
                      case REACT_CONTEXT_TYPE:
                      case REACT_FORWARD_REF_TYPE:
                      case REACT_LAZY_TYPE:
                      case REACT_MEMO_TYPE:
                      case REACT_PROVIDER_TYPE:
                        return $$typeofType;
                      default:
                        return $$typeof;
                    }
                }
              case REACT_PORTAL_TYPE:
                return $$typeof;
            }
          }
          return void 0;
        }
        var AsyncMode = REACT_ASYNC_MODE_TYPE;
        var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
        var ContextConsumer = REACT_CONTEXT_TYPE;
        var ContextProvider = REACT_PROVIDER_TYPE;
        var Element = REACT_ELEMENT_TYPE;
        var ForwardRef = REACT_FORWARD_REF_TYPE;
        var Fragment = REACT_FRAGMENT_TYPE;
        var Lazy = REACT_LAZY_TYPE;
        var Memo = REACT_MEMO_TYPE;
        var Portal = REACT_PORTAL_TYPE;
        var Profiler = REACT_PROFILER_TYPE;
        var StrictMode = REACT_STRICT_MODE_TYPE;
        var Suspense = REACT_SUSPENSE_TYPE;
        var hasWarnedAboutDeprecatedIsAsyncMode = false;
        function isAsyncMode(object) {
          {
            if (!hasWarnedAboutDeprecatedIsAsyncMode) {
              hasWarnedAboutDeprecatedIsAsyncMode = true;
              console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
            }
          }
          return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
        }
        function isConcurrentMode(object) {
          return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
        }
        function isContextConsumer(object) {
          return typeOf(object) === REACT_CONTEXT_TYPE;
        }
        function isContextProvider(object) {
          return typeOf(object) === REACT_PROVIDER_TYPE;
        }
        function isElement(object) {
          return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
        }
        function isForwardRef(object) {
          return typeOf(object) === REACT_FORWARD_REF_TYPE;
        }
        function isFragment(object) {
          return typeOf(object) === REACT_FRAGMENT_TYPE;
        }
        function isLazy(object) {
          return typeOf(object) === REACT_LAZY_TYPE;
        }
        function isMemo(object) {
          return typeOf(object) === REACT_MEMO_TYPE;
        }
        function isPortal(object) {
          return typeOf(object) === REACT_PORTAL_TYPE;
        }
        function isProfiler(object) {
          return typeOf(object) === REACT_PROFILER_TYPE;
        }
        function isStrictMode(object) {
          return typeOf(object) === REACT_STRICT_MODE_TYPE;
        }
        function isSuspense(object) {
          return typeOf(object) === REACT_SUSPENSE_TYPE;
        }
        exports.AsyncMode = AsyncMode;
        exports.ConcurrentMode = ConcurrentMode;
        exports.ContextConsumer = ContextConsumer;
        exports.ContextProvider = ContextProvider;
        exports.Element = Element;
        exports.ForwardRef = ForwardRef;
        exports.Fragment = Fragment;
        exports.Lazy = Lazy;
        exports.Memo = Memo;
        exports.Portal = Portal;
        exports.Profiler = Profiler;
        exports.StrictMode = StrictMode;
        exports.Suspense = Suspense;
        exports.isAsyncMode = isAsyncMode;
        exports.isConcurrentMode = isConcurrentMode;
        exports.isContextConsumer = isContextConsumer;
        exports.isContextProvider = isContextProvider;
        exports.isElement = isElement;
        exports.isForwardRef = isForwardRef;
        exports.isFragment = isFragment;
        exports.isLazy = isLazy;
        exports.isMemo = isMemo;
        exports.isPortal = isPortal;
        exports.isProfiler = isProfiler;
        exports.isStrictMode = isStrictMode;
        exports.isSuspense = isSuspense;
        exports.isValidElementType = isValidElementType;
        exports.typeOf = typeOf;
      })();
    }
  }
});

// node_modules/react-is/index.js
var require_react_is = __commonJS({
  "node_modules/react-is/index.js"(exports, module) {
    "use strict";
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_react_is_development();
    }
  }
});

// node_modules/object-assign/index.js
var require_object_assign = __commonJS({
  "node_modules/object-assign/index.js"(exports, module) {
    "use strict";
    var getOwnPropertySymbols = Object.getOwnPropertySymbols;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var propIsEnumerable = Object.prototype.propertyIsEnumerable;
    function toObject(val) {
      if (val === null || val === void 0) {
        throw new TypeError("Object.assign cannot be called with null or undefined");
      }
      return Object(val);
    }
    function shouldUseNative() {
      try {
        if (!Object.assign) {
          return false;
        }
        var test1 = new String("abc");
        test1[5] = "de";
        if (Object.getOwnPropertyNames(test1)[0] === "5") {
          return false;
        }
        var test2 = {};
        for (var i3 = 0; i3 < 10; i3++) {
          test2["_" + String.fromCharCode(i3)] = i3;
        }
        var order2 = Object.getOwnPropertyNames(test2).map(function(n3) {
          return test2[n3];
        });
        if (order2.join("") !== "0123456789") {
          return false;
        }
        var test3 = {};
        "abcdefghijklmnopqrst".split("").forEach(function(letter) {
          test3[letter] = letter;
        });
        if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
          return false;
        }
        return true;
      } catch (err) {
        return false;
      }
    }
    module.exports = shouldUseNative() ? Object.assign : function(target, source) {
      var from;
      var to2 = toObject(target);
      var symbols;
      for (var s4 = 1; s4 < arguments.length; s4++) {
        from = Object(arguments[s4]);
        for (var key in from) {
          if (hasOwnProperty.call(from, key)) {
            to2[key] = from[key];
          }
        }
        if (getOwnPropertySymbols) {
          symbols = getOwnPropertySymbols(from);
          for (var i3 = 0; i3 < symbols.length; i3++) {
            if (propIsEnumerable.call(from, symbols[i3])) {
              to2[symbols[i3]] = from[symbols[i3]];
            }
          }
        }
      }
      return to2;
    };
  }
});

// node_modules/prop-types/lib/ReactPropTypesSecret.js
var require_ReactPropTypesSecret = __commonJS({
  "node_modules/prop-types/lib/ReactPropTypesSecret.js"(exports, module) {
    "use strict";
    var ReactPropTypesSecret = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
    module.exports = ReactPropTypesSecret;
  }
});

// node_modules/prop-types/lib/has.js
var require_has = __commonJS({
  "node_modules/prop-types/lib/has.js"(exports, module) {
    module.exports = Function.call.bind(Object.prototype.hasOwnProperty);
  }
});

// node_modules/prop-types/checkPropTypes.js
var require_checkPropTypes = __commonJS({
  "node_modules/prop-types/checkPropTypes.js"(exports, module) {
    "use strict";
    var printWarning = function() {
    };
    if (true) {
      ReactPropTypesSecret = require_ReactPropTypesSecret();
      loggedTypeFailures = {};
      has = require_has();
      printWarning = function(text) {
        var message = "Warning: " + text;
        if (typeof console !== "undefined") {
          console.error(message);
        }
        try {
          throw new Error(message);
        } catch (x2) {
        }
      };
    }
    var ReactPropTypesSecret;
    var loggedTypeFailures;
    var has;
    function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
      if (true) {
        for (var typeSpecName in typeSpecs) {
          if (has(typeSpecs, typeSpecName)) {
            var error;
            try {
              if (typeof typeSpecs[typeSpecName] !== "function") {
                var err = Error(
                  (componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
                );
                err.name = "Invariant Violation";
                throw err;
              }
              error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
            } catch (ex) {
              error = ex;
            }
            if (error && !(error instanceof Error)) {
              printWarning(
                (componentName || "React class") + ": type specification of " + location + " `" + typeSpecName + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof error + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
              );
            }
            if (error instanceof Error && !(error.message in loggedTypeFailures)) {
              loggedTypeFailures[error.message] = true;
              var stack = getStack ? getStack() : "";
              printWarning(
                "Failed " + location + " type: " + error.message + (stack != null ? stack : "")
              );
            }
          }
        }
      }
    }
    checkPropTypes.resetWarningCache = function() {
      if (true) {
        loggedTypeFailures = {};
      }
    };
    module.exports = checkPropTypes;
  }
});

// node_modules/prop-types/factoryWithTypeCheckers.js
var require_factoryWithTypeCheckers = __commonJS({
  "node_modules/prop-types/factoryWithTypeCheckers.js"(exports, module) {
    "use strict";
    var ReactIs = require_react_is();
    var assign = require_object_assign();
    var ReactPropTypesSecret = require_ReactPropTypesSecret();
    var has = require_has();
    var checkPropTypes = require_checkPropTypes();
    var printWarning = function() {
    };
    if (true) {
      printWarning = function(text) {
        var message = "Warning: " + text;
        if (typeof console !== "undefined") {
          console.error(message);
        }
        try {
          throw new Error(message);
        } catch (x2) {
        }
      };
    }
    function emptyFunctionThatReturnsNull() {
      return null;
    }
    module.exports = function(isValidElement, throwOnDirectAccess) {
      var ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
      var FAUX_ITERATOR_SYMBOL = "@@iterator";
      function getIteratorFn(maybeIterable) {
        var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
        if (typeof iteratorFn === "function") {
          return iteratorFn;
        }
      }
      var ANONYMOUS = "<<anonymous>>";
      var ReactPropTypes = {
        array: createPrimitiveTypeChecker("array"),
        bigint: createPrimitiveTypeChecker("bigint"),
        bool: createPrimitiveTypeChecker("boolean"),
        func: createPrimitiveTypeChecker("function"),
        number: createPrimitiveTypeChecker("number"),
        object: createPrimitiveTypeChecker("object"),
        string: createPrimitiveTypeChecker("string"),
        symbol: createPrimitiveTypeChecker("symbol"),
        any: createAnyTypeChecker(),
        arrayOf: createArrayOfTypeChecker,
        element: createElementTypeChecker(),
        elementType: createElementTypeTypeChecker(),
        instanceOf: createInstanceTypeChecker,
        node: createNodeChecker(),
        objectOf: createObjectOfTypeChecker,
        oneOf: createEnumTypeChecker,
        oneOfType: createUnionTypeChecker,
        shape: createShapeTypeChecker,
        exact: createStrictShapeTypeChecker
      };
      function is4(x2, y3) {
        if (x2 === y3) {
          return x2 !== 0 || 1 / x2 === 1 / y3;
        } else {
          return x2 !== x2 && y3 !== y3;
        }
      }
      function PropTypeError(message, data) {
        this.message = message;
        this.data = data && typeof data === "object" ? data : {};
        this.stack = "";
      }
      PropTypeError.prototype = Error.prototype;
      function createChainableTypeChecker(validate) {
        if (true) {
          var manualPropTypeCallCache = {};
          var manualPropTypeWarningCount = 0;
        }
        function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
          componentName = componentName || ANONYMOUS;
          propFullName = propFullName || propName;
          if (secret !== ReactPropTypesSecret) {
            if (throwOnDirectAccess) {
              var err = new Error(
                "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
              );
              err.name = "Invariant Violation";
              throw err;
            } else if (typeof console !== "undefined") {
              var cacheKey = componentName + ":" + propName;
              if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors
              manualPropTypeWarningCount < 3) {
                printWarning(
                  "You are manually calling a React.PropTypes validation function for the `" + propFullName + "` prop on `" + componentName + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
                );
                manualPropTypeCallCache[cacheKey] = true;
                manualPropTypeWarningCount++;
              }
            }
          }
          if (props[propName] == null) {
            if (isRequired) {
              if (props[propName] === null) {
                return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required " + ("in `" + componentName + "`, but its value is `null`."));
              }
              return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required in " + ("`" + componentName + "`, but its value is `undefined`."));
            }
            return null;
          } else {
            return validate(props, propName, componentName, location, propFullName);
          }
        }
        var chainedCheckType = checkType.bind(null, false);
        chainedCheckType.isRequired = checkType.bind(null, true);
        return chainedCheckType;
      }
      function createPrimitiveTypeChecker(expectedType) {
        function validate(props, propName, componentName, location, propFullName, secret) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== expectedType) {
            var preciseType = getPreciseType(propValue);
            return new PropTypeError(
              "Invalid " + location + " `" + propFullName + "` of type " + ("`" + preciseType + "` supplied to `" + componentName + "`, expected ") + ("`" + expectedType + "`."),
              { expectedType }
            );
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createAnyTypeChecker() {
        return createChainableTypeChecker(emptyFunctionThatReturnsNull);
      }
      function createArrayOfTypeChecker(typeChecker) {
        function validate(props, propName, componentName, location, propFullName) {
          if (typeof typeChecker !== "function") {
            return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside arrayOf.");
          }
          var propValue = props[propName];
          if (!Array.isArray(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an array."));
          }
          for (var i3 = 0; i3 < propValue.length; i3++) {
            var error = typeChecker(propValue, i3, componentName, location, propFullName + "[" + i3 + "]", ReactPropTypesSecret);
            if (error instanceof Error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createElementTypeChecker() {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          if (!isValidElement(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement."));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createElementTypeTypeChecker() {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          if (!ReactIs.isValidElementType(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement type."));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createInstanceTypeChecker(expectedClass) {
        function validate(props, propName, componentName, location, propFullName) {
          if (!(props[propName] instanceof expectedClass)) {
            var expectedClassName = expectedClass.name || ANONYMOUS;
            var actualClassName = getClassName2(props[propName]);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + actualClassName + "` supplied to `" + componentName + "`, expected ") + ("instance of `" + expectedClassName + "`."));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createEnumTypeChecker(expectedValues) {
        if (!Array.isArray(expectedValues)) {
          if (true) {
            if (arguments.length > 1) {
              printWarning(
                "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
              );
            } else {
              printWarning("Invalid argument supplied to oneOf, expected an array.");
            }
          }
          return emptyFunctionThatReturnsNull;
        }
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          for (var i3 = 0; i3 < expectedValues.length; i3++) {
            if (is4(propValue, expectedValues[i3])) {
              return null;
            }
          }
          var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
            var type = getPreciseType(value);
            if (type === "symbol") {
              return String(value);
            }
            return value;
          });
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of value `" + String(propValue) + "` " + ("supplied to `" + componentName + "`, expected one of " + valuesString + "."));
        }
        return createChainableTypeChecker(validate);
      }
      function createObjectOfTypeChecker(typeChecker) {
        function validate(props, propName, componentName, location, propFullName) {
          if (typeof typeChecker !== "function") {
            return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside objectOf.");
          }
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an object."));
          }
          for (var key in propValue) {
            if (has(propValue, key)) {
              var error = typeChecker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
              if (error instanceof Error) {
                return error;
              }
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createUnionTypeChecker(arrayOfTypeCheckers) {
        if (!Array.isArray(arrayOfTypeCheckers)) {
          true ? printWarning("Invalid argument supplied to oneOfType, expected an instance of array.") : void 0;
          return emptyFunctionThatReturnsNull;
        }
        for (var i3 = 0; i3 < arrayOfTypeCheckers.length; i3++) {
          var checker = arrayOfTypeCheckers[i3];
          if (typeof checker !== "function") {
            printWarning(
              "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + getPostfixForTypeWarning(checker) + " at index " + i3 + "."
            );
            return emptyFunctionThatReturnsNull;
          }
        }
        function validate(props, propName, componentName, location, propFullName) {
          var expectedTypes = [];
          for (var i4 = 0; i4 < arrayOfTypeCheckers.length; i4++) {
            var checker2 = arrayOfTypeCheckers[i4];
            var checkerResult = checker2(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
            if (checkerResult == null) {
              return null;
            }
            if (checkerResult.data && has(checkerResult.data, "expectedType")) {
              expectedTypes.push(checkerResult.data.expectedType);
            }
          }
          var expectedTypesMessage = expectedTypes.length > 0 ? ", expected one of type [" + expectedTypes.join(", ") + "]" : "";
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`" + expectedTypesMessage + "."));
        }
        return createChainableTypeChecker(validate);
      }
      function createNodeChecker() {
        function validate(props, propName, componentName, location, propFullName) {
          if (!isNode(props[propName])) {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`, expected a ReactNode."));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function invalidValidatorError(componentName, location, propFullName, key, type) {
        return new PropTypeError(
          (componentName || "React class") + ": " + location + " type `" + propFullName + "." + key + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + type + "`."
        );
      }
      function createShapeTypeChecker(shapeTypes) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
          }
          for (var key in shapeTypes) {
            var checker = shapeTypes[key];
            if (typeof checker !== "function") {
              return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
            }
            var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
            if (error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function createStrictShapeTypeChecker(shapeTypes) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
          }
          var allKeys = assign({}, props[propName], shapeTypes);
          for (var key in allKeys) {
            var checker = shapeTypes[key];
            if (has(shapeTypes, key) && typeof checker !== "function") {
              return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
            }
            if (!checker) {
              return new PropTypeError(
                "Invalid " + location + " `" + propFullName + "` key `" + key + "` supplied to `" + componentName + "`.\nBad object: " + JSON.stringify(props[propName], null, "  ") + "\nValid keys: " + JSON.stringify(Object.keys(shapeTypes), null, "  ")
              );
            }
            var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
            if (error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }
      function isNode(propValue) {
        switch (typeof propValue) {
          case "number":
          case "string":
          case "undefined":
            return true;
          case "boolean":
            return !propValue;
          case "object":
            if (Array.isArray(propValue)) {
              return propValue.every(isNode);
            }
            if (propValue === null || isValidElement(propValue)) {
              return true;
            }
            var iteratorFn = getIteratorFn(propValue);
            if (iteratorFn) {
              var iterator = iteratorFn.call(propValue);
              var step;
              if (iteratorFn !== propValue.entries) {
                while (!(step = iterator.next()).done) {
                  if (!isNode(step.value)) {
                    return false;
                  }
                }
              } else {
                while (!(step = iterator.next()).done) {
                  var entry = step.value;
                  if (entry) {
                    if (!isNode(entry[1])) {
                      return false;
                    }
                  }
                }
              }
            } else {
              return false;
            }
            return true;
          default:
            return false;
        }
      }
      function isSymbol(propType, propValue) {
        if (propType === "symbol") {
          return true;
        }
        if (!propValue) {
          return false;
        }
        if (propValue["@@toStringTag"] === "Symbol") {
          return true;
        }
        if (typeof Symbol === "function" && propValue instanceof Symbol) {
          return true;
        }
        return false;
      }
      function getPropType(propValue) {
        var propType = typeof propValue;
        if (Array.isArray(propValue)) {
          return "array";
        }
        if (propValue instanceof RegExp) {
          return "object";
        }
        if (isSymbol(propType, propValue)) {
          return "symbol";
        }
        return propType;
      }
      function getPreciseType(propValue) {
        if (typeof propValue === "undefined" || propValue === null) {
          return "" + propValue;
        }
        var propType = getPropType(propValue);
        if (propType === "object") {
          if (propValue instanceof Date) {
            return "date";
          } else if (propValue instanceof RegExp) {
            return "regexp";
          }
        }
        return propType;
      }
      function getPostfixForTypeWarning(value) {
        var type = getPreciseType(value);
        switch (type) {
          case "array":
          case "object":
            return "an " + type;
          case "boolean":
          case "date":
          case "regexp":
            return "a " + type;
          default:
            return type;
        }
      }
      function getClassName2(propValue) {
        if (!propValue.constructor || !propValue.constructor.name) {
          return ANONYMOUS;
        }
        return propValue.constructor.name;
      }
      ReactPropTypes.checkPropTypes = checkPropTypes;
      ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
      ReactPropTypes.PropTypes = ReactPropTypes;
      return ReactPropTypes;
    };
  }
});

// node_modules/prop-types/index.js
var require_prop_types = __commonJS({
  "node_modules/prop-types/index.js"(exports, module) {
    if (true) {
      ReactIs = require_react_is();
      throwOnDirectAccess = true;
      module.exports = require_factoryWithTypeCheckers()(ReactIs.isElement, throwOnDirectAccess);
    } else {
      module.exports = null();
    }
    var ReactIs;
    var throwOnDirectAccess;
  }
});

// node_modules/@sendbird/uikit-react/tslib.es6-c2fb729e.js
var extendStatics = function(d3, b4) {
  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d4, b5) {
    d4.__proto__ = b5;
  } || function(d4, b5) {
    for (var p5 in b5)
      if (Object.prototype.hasOwnProperty.call(b5, p5))
        d4[p5] = b5[p5];
  };
  return extendStatics(d3, b4);
};
function __extends(d3, b4) {
  if (typeof b4 !== "function" && b4 !== null)
    throw new TypeError("Class extends value " + String(b4) + " is not a constructor or null");
  extendStatics(d3, b4);
  function __() {
    this.constructor = d3;
  }
  d3.prototype = b4 === null ? Object.create(b4) : (__.prototype = b4.prototype, new __());
}
var __assign = function() {
  __assign = Object.assign || function __assign2(t6) {
    for (var s4, i3 = 1, n3 = arguments.length; i3 < n3; i3++) {
      s4 = arguments[i3];
      for (var p5 in s4)
        if (Object.prototype.hasOwnProperty.call(s4, p5))
          t6[p5] = s4[p5];
    }
    return t6;
  };
  return __assign.apply(this, arguments);
};
function __awaiter(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e3) {
        reject(e3);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e3) {
        reject(e3);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _2 = { label: 0, sent: function() {
    if (t6[0] & 1)
      throw t6[1];
    return t6[1];
  }, trys: [], ops: [] }, f4, y3, t6, g4;
  return g4 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g4[Symbol.iterator] = function() {
    return this;
  }), g4;
  function verb(n3) {
    return function(v5) {
      return step([n3, v5]);
    };
  }
  function step(op) {
    if (f4)
      throw new TypeError("Generator is already executing.");
    while (g4 && (g4 = 0, op[0] && (_2 = 0)), _2)
      try {
        if (f4 = 1, y3 && (t6 = op[0] & 2 ? y3["return"] : op[0] ? y3["throw"] || ((t6 = y3["return"]) && t6.call(y3), 0) : y3.next) && !(t6 = t6.call(y3, op[1])).done)
          return t6;
        if (y3 = 0, t6)
          op = [op[0] & 2, t6.value];
        switch (op[0]) {
          case 0:
          case 1:
            t6 = op;
            break;
          case 4:
            _2.label++;
            return { value: op[1], done: false };
          case 5:
            _2.label++;
            y3 = op[1];
            op = [0];
            continue;
          case 7:
            op = _2.ops.pop();
            _2.trys.pop();
            continue;
          default:
            if (!(t6 = _2.trys, t6 = t6.length > 0 && t6[t6.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _2 = 0;
              continue;
            }
            if (op[0] === 3 && (!t6 || op[1] > t6[0] && op[1] < t6[3])) {
              _2.label = op[1];
              break;
            }
            if (op[0] === 6 && _2.label < t6[1]) {
              _2.label = t6[1];
              t6 = op;
              break;
            }
            if (t6 && _2.label < t6[2]) {
              _2.label = t6[2];
              _2.ops.push(op);
              break;
            }
            if (t6[2])
              _2.ops.pop();
            _2.trys.pop();
            continue;
        }
        op = body.call(thisArg, _2);
      } catch (e3) {
        op = [6, e3];
        y3 = 0;
      } finally {
        f4 = t6 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
function __spreadArray(to2, from, pack) {
  if (pack || arguments.length === 2)
    for (var i3 = 0, l3 = from.length, ar4; i3 < l3; i3++) {
      if (ar4 || !(i3 in from)) {
        if (!ar4)
          ar4 = Array.prototype.slice.call(from, 0, i3);
        ar4[i3] = from[i3];
      }
    }
  return to2.concat(ar4 || Array.prototype.slice.call(from));
}

// node_modules/@sendbird/chat/lib/__bundle-30814fe9.js
var e = function(t6, n3) {
  return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, t7) {
    e3.__proto__ = t7;
  } || function(e3, t7) {
    for (var n4 in t7)
      Object.prototype.hasOwnProperty.call(t7, n4) && (e3[n4] = t7[n4]);
  }, e(t6, n3);
};
function t(t6, n3) {
  if ("function" != typeof n3 && null !== n3)
    throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
  function i3() {
    this.constructor = t6;
  }
  e(t6, n3), t6.prototype = null === n3 ? Object.create(n3) : (i3.prototype = n3.prototype, new i3());
}
var n = function() {
  return n = Object.assign || function(e3) {
    for (var t6, n3 = 1, i3 = arguments.length; n3 < i3; n3++)
      for (var r3 in t6 = arguments[n3])
        Object.prototype.hasOwnProperty.call(t6, r3) && (e3[r3] = t6[r3]);
    return e3;
  }, n.apply(this, arguments);
};
function i(e3, t6) {
  var n3 = {};
  for (var i3 in e3)
    Object.prototype.hasOwnProperty.call(e3, i3) && t6.indexOf(i3) < 0 && (n3[i3] = e3[i3]);
  if (null != e3 && "function" == typeof Object.getOwnPropertySymbols) {
    var r3 = 0;
    for (i3 = Object.getOwnPropertySymbols(e3); r3 < i3.length; r3++)
      t6.indexOf(i3[r3]) < 0 && Object.prototype.propertyIsEnumerable.call(e3, i3[r3]) && (n3[i3[r3]] = e3[i3[r3]]);
  }
  return n3;
}
function r(e3, t6, n3, i3) {
  return new (n3 || (n3 = Promise))(function(r3, o3) {
    function s4(e4) {
      try {
        c3(i3.next(e4));
      } catch (e5) {
        o3(e5);
      }
    }
    function a3(e4) {
      try {
        c3(i3.throw(e4));
      } catch (e5) {
        o3(e5);
      }
    }
    function c3(e4) {
      var t7;
      e4.done ? r3(e4.value) : (t7 = e4.value, t7 instanceof n3 ? t7 : new n3(function(e5) {
        e5(t7);
      })).then(s4, a3);
    }
    c3((i3 = i3.apply(e3, t6 || [])).next());
  });
}
function o(e3, t6) {
  var n3, i3, r3, o3, s4 = { label: 0, sent: function() {
    if (1 & r3[0])
      throw r3[1];
    return r3[1];
  }, trys: [], ops: [] };
  return o3 = { next: a3(0), throw: a3(1), return: a3(2) }, "function" == typeof Symbol && (o3[Symbol.iterator] = function() {
    return this;
  }), o3;
  function a3(a4) {
    return function(c3) {
      return function(a5) {
        if (n3)
          throw new TypeError("Generator is already executing.");
        for (; o3 && (o3 = 0, a5[0] && (s4 = 0)), s4; )
          try {
            if (n3 = 1, i3 && (r3 = 2 & a5[0] ? i3.return : a5[0] ? i3.throw || ((r3 = i3.return) && r3.call(i3), 0) : i3.next) && !(r3 = r3.call(i3, a5[1])).done)
              return r3;
            switch (i3 = 0, r3 && (a5 = [2 & a5[0], r3.value]), a5[0]) {
              case 0:
              case 1:
                r3 = a5;
                break;
              case 4:
                return s4.label++, { value: a5[1], done: false };
              case 5:
                s4.label++, i3 = a5[1], a5 = [0];
                continue;
              case 7:
                a5 = s4.ops.pop(), s4.trys.pop();
                continue;
              default:
                if (!(r3 = s4.trys, (r3 = r3.length > 0 && r3[r3.length - 1]) || 6 !== a5[0] && 2 !== a5[0])) {
                  s4 = 0;
                  continue;
                }
                if (3 === a5[0] && (!r3 || a5[1] > r3[0] && a5[1] < r3[3])) {
                  s4.label = a5[1];
                  break;
                }
                if (6 === a5[0] && s4.label < r3[1]) {
                  s4.label = r3[1], r3 = a5;
                  break;
                }
                if (r3 && s4.label < r3[2]) {
                  s4.label = r3[2], s4.ops.push(a5);
                  break;
                }
                r3[2] && s4.ops.pop(), s4.trys.pop();
                continue;
            }
            a5 = t6.call(e3, s4);
          } catch (e4) {
            a5 = [6, e4], i3 = 0;
          } finally {
            n3 = r3 = 0;
          }
        if (5 & a5[0])
          throw a5[1];
        return { value: a5[0] ? a5[1] : void 0, done: true };
      }([a4, c3]);
    };
  }
}
function s(e3) {
  var t6 = "function" == typeof Symbol && Symbol.iterator, n3 = t6 && e3[t6], i3 = 0;
  if (n3)
    return n3.call(e3);
  if (e3 && "number" == typeof e3.length)
    return { next: function() {
      return e3 && i3 >= e3.length && (e3 = void 0), { value: e3 && e3[i3++], done: !e3 };
    } };
  throw new TypeError(t6 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function a(e3, t6) {
  var n3 = "function" == typeof Symbol && e3[Symbol.iterator];
  if (!n3)
    return e3;
  var i3, r3, o3 = n3.call(e3), s4 = [];
  try {
    for (; (void 0 === t6 || t6-- > 0) && !(i3 = o3.next()).done; )
      s4.push(i3.value);
  } catch (e4) {
    r3 = { error: e4 };
  } finally {
    try {
      i3 && !i3.done && (n3 = o3.return) && n3.call(o3);
    } finally {
      if (r3)
        throw r3.error;
    }
  }
  return s4;
}
function c(e3, t6, n3) {
  if (n3 || 2 === arguments.length)
    for (var i3, r3 = 0, o3 = t6.length; r3 < o3; r3++)
      !i3 && r3 in t6 || (i3 || (i3 = Array.prototype.slice.call(t6, 0, r3)), i3[r3] = t6[r3]);
  return e3.concat(i3 || Array.prototype.slice.call(t6));
}
var u;
var l = "4.10.1";
var h = function() {
  function e3() {
  }
  return Object.defineProperty(e3, "OS_VERSION", { get: function() {
    return "undefined" != typeof navigator && navigator.userAgent ? navigator.userAgent.replace(/,/g, ".") : "noAgent";
  }, enumerable: false, configurable: true }), Object.defineProperty(e3, "SDK_VERSION", { get: function() {
    return l;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3, "SDK_MAJOR_VERSION", { get: function() {
    return e3.SDK_VERSION.split(".")[0];
  }, enumerable: false, configurable: true }), Object.defineProperty(e3, "DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL", { get: function() {
    return 100;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3, "INTERNAL_CALL", { get: function() {
    return "ic";
  }, enumerable: false, configurable: true }), e3;
}();
!function(e3) {
  e3[e3.STAT_LOG_NOT_ALLOWED = 400108] = "STAT_LOG_NOT_ALLOWED", e3[e3.NON_AUTHORIZED = 400108] = "NON_AUTHORIZED", e3[e3.INVALID_TOKEN = 400111] = "INVALID_TOKEN", e3[e3.NOT_FOUND_IN_DATABASE = 400201] = "NOT_FOUND_IN_DATABASE", e3[e3.USER_AUTH_DEACTIVATED = 400300] = "USER_AUTH_DEACTIVATED", e3[e3.USER_AUTH_DELETED_OR_NOT_FOUND = 400301] = "USER_AUTH_DELETED_OR_NOT_FOUND", e3[e3.SESSION_TOKEN_EXPIRED = 400302] = "SESSION_TOKEN_EXPIRED", e3[e3.APPLICATION_NOT_FOUND = 400304] = "APPLICATION_NOT_FOUND", e3[e3.SESSION_KEY_EXPIRED = 400309] = "SESSION_KEY_EXPIRED", e3[e3.SESSION_REVOKED = 400310] = "SESSION_REVOKED", e3[e3.INVALID_SESSION_TYPE = 400312] = "INVALID_SESSION_TYPE", e3[e3.STAT_UPLOAD_NOT_ALLOWED = 403200] = "STAT_UPLOAD_NOT_ALLOWED", e3[e3.NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE = 400940] = "NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE", e3[e3.INTERNAL_SERVER_ERROR = 500901] = "INTERNAL_SERVER_ERROR", e3[e3.RATE_LIMIT_EXCEEDED = 500910] = "RATE_LIMIT_EXCEEDED", e3[e3.INVALID_FORM_KEY = 400111] = "INVALID_FORM_KEY", e3[e3.INVALID_REQUIRED_FORM_VALUE = 400105] = "INVALID_REQUIRED_FORM_VALUE", e3[e3.UNKNOWN_SERVER_ERROR = 900200] = "UNKNOWN_SERVER_ERROR", e3[e3.NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE = 901500] = "NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE", e3[e3.DEBUG_MODE_REQUIRED = 7e5] = "DEBUG_MODE_REQUIRED", e3[e3.LOST_INSTANCE = 700100] = "LOST_INSTANCE", e3[e3.CONNECTION_RENEW = 700102] = "CONNECTION_RENEW", e3[e3.INVALID_CONNECTION_STATE_TRANSITION = 700200] = "INVALID_CONNECTION_STATE_TRANSITION", e3[e3.INVALID_COMMAND = 700700] = "INVALID_COMMAND", e3[e3.UNKNOWN_ERROR = 77e4] = "UNKNOWN_ERROR", e3[e3.INVALID_INITIALIZATION = 800100] = "INVALID_INITIALIZATION", e3[e3.CONNECTION_REQUIRED = 800101] = "CONNECTION_REQUIRED", e3[e3.CONNECTION_CANCELED = 800102] = "CONNECTION_CANCELED", e3[e3.INVALID_PARAMETER = 800110] = "INVALID_PARAMETER", e3[e3.NOT_SUPPORTED_ERROR = 800111] = "NOT_SUPPORTED_ERROR", e3[e3.NETWORK_ERROR = 800120] = "NETWORK_ERROR", e3[e3.NETWORK_ROUTING_ERROR = 800121] = "NETWORK_ROUTING_ERROR", e3[e3.MALFORMED_DATA = 800130] = "MALFORMED_DATA", e3[e3.MALFORMED_ERROR_DATA = 800140] = "MALFORMED_ERROR_DATA", e3[e3.WRONG_CHANNEL_TYPE = 800150] = "WRONG_CHANNEL_TYPE", e3[e3.MARK_AS_READ_RATE_LIMIT_EXCEEDED = 800160] = "MARK_AS_READ_RATE_LIMIT_EXCEEDED", e3[e3.QUERY_IN_PROGRESS = 800170] = "QUERY_IN_PROGRESS", e3[e3.ACK_TIMEOUT = 800180] = "ACK_TIMEOUT", e3[e3.LOGIN_TIMEOUT = 800190] = "LOGIN_TIMEOUT", e3[e3.WEBSOCKET_CONNECTION_CLOSED = 800200] = "WEBSOCKET_CONNECTION_CLOSED", e3[e3.WEBSOCKET_CONNECTION_FAILED = 800210] = "WEBSOCKET_CONNECTION_FAILED", e3[e3.REQUEST_FAILED = 800220] = "REQUEST_FAILED", e3[e3.FILE_UPLOAD_CANCEL_FAILED = 800230] = "FILE_UPLOAD_CANCEL_FAILED", e3[e3.REQUEST_CANCELED = 800240] = "REQUEST_CANCELED", e3[e3.REQUEST_DUPLICATED = 800250] = "REQUEST_DUPLICATED", e3[e3.FILE_SIZE_LIMIT_EXCEEDED = 800260] = "FILE_SIZE_LIMIT_EXCEEDED", e3[e3.SESSION_TOKEN_REQUEST_FAILED = 800500] = "SESSION_TOKEN_REQUEST_FAILED", e3[e3.SESSION_TOKEN_REFRESHED = 800501] = "SESSION_TOKEN_REFRESHED", e3[e3.SESSION_TOKEN_REFRESH_FAILED = 800502] = "SESSION_TOKEN_REFRESH_FAILED", e3[e3.COLLECTION_DISPOSED = 800600] = "COLLECTION_DISPOSED", e3[e3.DATABASE_ERROR = 800700] = "DATABASE_ERROR";
}(u || (u = {}));
var d;
var _;
var f;
var p;
var E;
var v = function(e3) {
  return !(e3 instanceof g && !e3.shouldThrowOutside);
};
var g = function(e3) {
  function n3(t6) {
    var i3 = t6.code, r3 = void 0 === i3 ? 0 : i3, o3 = t6.message, s4 = void 0 === o3 ? "" : o3, a3 = e3.call(this, s4) || this;
    return a3.shouldThrowOutside = false, a3.name = "SendbirdError", a3.code = r3, Object.setPrototypeOf(a3, n3.prototype), a3;
  }
  return t(n3, e3), Object.defineProperty(n3.prototype, "isInvalidTokenError", { get: function() {
    return this.code === u.INVALID_TOKEN;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionExpiredError", { get: function() {
    return this.isSessionTokenExpiredError || this.isSessionKeyExpiredError;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionTokenExpiredError", { get: function() {
    return this.code === u.SESSION_TOKEN_EXPIRED;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionKeyExpiredError", { get: function() {
    return this.code === u.SESSION_KEY_EXPIRED;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionInvalidatedError", { get: function() {
    return this.isSessionRevokedError || this.isUserAuthDeactivedError || this.isUserAuthDeletedOrNotFoundError;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionRevokedError", { get: function() {
    return this.code === u.SESSION_REVOKED;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isUserAuthDeactivedError", { get: function() {
    return this.code === u.USER_AUTH_DEACTIVATED;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isUserAuthDeletedOrNotFoundError", { get: function() {
    return this.code === u.USER_AUTH_DELETED_OR_NOT_FOUND;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isNetworkError", { get: function() {
    return this.code === u.NETWORK_ERROR || this.code === u.NETWORK_ROUTING_ERROR;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "debugModeRequired", { get: function() {
    return new n3({ code: u.DEBUG_MODE_REQUIRED, message: "Cannot run this operation in production mode." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "lostInstance", { get: function() {
    return new n3({ code: u.LOST_INSTANCE, message: "Instance ID is missing. It should belong to an instance." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "invalidCommand", { get: function() {
    return new n3({ code: u.INVALID_COMMAND, message: "Cannot send invalid command." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "unknown", { get: function() {
    return new n3({ code: u.UNKNOWN_ERROR, message: "Unknown error occurred." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "connectionRenew", { get: function() {
    return new n3({ code: u.CONNECTION_RENEW, message: "Connection restarts." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "invalidConnectionStateTransition", { get: function() {
    return new n3({ code: u.INVALID_CONNECTION_STATE_TRANSITION, message: "Invalid connection state transition." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "connectionRequired", { get: function() {
    return new n3({ code: u.CONNECTION_REQUIRED, message: "Connection is required." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "connectionCanceled", { get: function() {
    return new n3({ code: u.CONNECTION_CANCELED, message: "Connection is canceled." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "invalidParameters", { get: function() {
    return new n3({ code: u.INVALID_PARAMETER, message: "Invalid parameters." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "notSupportedError", { get: function() {
    return new n3({ code: u.NOT_SUPPORTED_ERROR, message: "Given parameters are not supported." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "channelTypeNotSupportedError", { get: function() {
    return new n3({ code: u.NOT_SUPPORTED_ERROR, message: "Called method is not supported in the current channel's channel type." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "networkError", { get: function() {
    return new n3({ code: u.NETWORK_ERROR, message: "There was a network error." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "markAsReadAllRateLimitExceeded", { get: function() {
    return new n3({ code: u.MARK_AS_READ_RATE_LIMIT_EXCEEDED, message: "markAsRead rate limit exceeded." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "queryInProgress", { get: function() {
    return new n3({ code: u.QUERY_IN_PROGRESS, message: "Query in progress." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "noAckTimeout", { get: function() {
    return new n3({ code: u.ACK_TIMEOUT, message: "Command received no ack." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "loginTimeout", { get: function() {
    return new n3({ code: u.LOGIN_TIMEOUT, message: "Connection timeout." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "connectionClosed", { get: function() {
    return new n3({ code: u.WEBSOCKET_CONNECTION_CLOSED, message: "Connection is closed. Please reconnect." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "requestFailed", { get: function() {
    return new n3({ code: u.REQUEST_FAILED, message: "Request failed." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "alreadyConnectedAsAnotherUser", { get: function() {
    return new n3({ code: u.REQUEST_FAILED, message: "Already logged in as a different user. Call disconnect() first." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "fileUploadCanceled", { get: function() {
    return new n3({ code: u.FILE_UPLOAD_CANCEL_FAILED, message: "File upload has been canceled." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "requestCanceled", { get: function() {
    return new n3({ code: u.REQUEST_CANCELED, message: "Request has been canceled." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "sessionTokenRefreshFailed", { get: function() {
    return new n3({ code: u.SESSION_TOKEN_REFRESH_FAILED, message: "Failed to refresh the session key." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "sessionTokenRequestFailed", { get: function() {
    return new n3({ code: u.SESSION_TOKEN_REQUEST_FAILED, message: "Failed to get the session token." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "databaseError", { get: function() {
    return new n3({ code: u.DATABASE_ERROR, message: "Database error." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "fileSizeLimitExceededError", { get: function() {
    return new n3({ code: u.FILE_SIZE_LIMIT_EXCEEDED, message: "File size exceeds the file size limit." });
  }, enumerable: false, configurable: true }), n3.prototype.throwOutside = function() {
    throw this.shouldThrowOutside = true, this;
  }, n3;
}(Error);
var b = [u.CONNECTION_REQUIRED, u.NETWORK_ERROR, u.ACK_TIMEOUT, u.WEBSOCKET_CONNECTION_CLOSED, u.WEBSOCKET_CONNECTION_FAILED, u.FILE_UPLOAD_CANCEL_FAILED, u.REQUEST_CANCELED, u.INTERNAL_SERVER_ERROR, u.RATE_LIMIT_EXCEEDED, u.UNKNOWN_SERVER_ERROR];
var m = [u.WEBSOCKET_CONNECTION_CLOSED, u.WEBSOCKET_CONNECTION_FAILED, u.CONNECTION_REQUIRED];
var y = function(e3, t6) {
  if (e3 !== t6) {
    var i3 = n({}, e3), r3 = n({}, t6);
    return (!i3.hasOwnProperty("messageId") || !r3.hasOwnProperty("messageId") || i3.messageId === r3.messageId) && ((!i3.hasOwnProperty("reqId") || !r3.hasOwnProperty("reqId") || i3.reqId === r3.reqId) && (i3.hasOwnProperty("messageId") && delete i3.messageId, i3.hasOwnProperty("reqId") && delete i3.reqId, r3.hasOwnProperty("messageId") && delete r3.messageId, r3.hasOwnProperty("reqId") && delete r3.reqId, JSON.stringify(i3) === JSON.stringify(r3)));
  }
  return true;
};
var w = function(e3, t6, n3) {
  return void 0 === n3 && (n3 = false), !(!n3 || null != t6) || ("string" != typeof e3 ? "object" == typeof e3 ? N(e3, t6) : T(e3, t6) : typeof t6 === e3);
};
var N = function(e3, t6, n3) {
  return void 0 === n3 && (n3 = false), !(!n3 || null != t6) || Object.values(e3).includes(t6);
};
var T = function(e3, t6) {
  return t6 instanceof e3;
};
var S = function(e3, t6, n3) {
  return void 0 === n3 && (n3 = false), !(!n3 || null != t6) || Array.isArray(t6) && t6.every(function(t7) {
    return w(e3, t7);
  });
};
var A = function(e3, t6) {
  return void 0 === t6 && (t6 = false), !(!t6 || void 0 !== e3) || "number" == typeof e3 && 13 === e3.toString().length;
};
var C = function(e3) {
  return e3 > 0 && b.indexOf(e3) >= 0;
};
var O = function(e3) {
  return e3 > 0 && m.indexOf(e3) >= 0;
};
var k = function(e3, t6) {
  if (void 0 === t6 && (t6 = false), t6 && null == e3)
    return true;
  var n3 = "object" == typeof e3 && null !== e3 && e3.hasOwnProperty("name") && "string" == typeof e3.name && e3.hasOwnProperty("uri") && "string" == typeof e3.uri && e3.hasOwnProperty("type") && "string" == typeof e3.type;
  if (!n3) {
    if ("undefined" != typeof Blob)
      return e3 instanceof Blob;
    if ("undefined" != typeof File)
      return e3 instanceof File;
  }
  return n3;
};
var I = function(e3, t6) {
  if (e3 === t6)
    return true;
  if (null == e3 || null == t6)
    return false;
  if (e3.length !== t6.length)
    return false;
  for (var n3 = c([], a(e3), false).sort(), i3 = c([], a(t6), false).sort(), r3 = 0; r3 < n3.length; ++r3)
    if (n3[r3] !== i3[r3])
      return false;
  return true;
};
var R = function() {
  function e3(e4) {
    var t6 = void 0 === e4 ? {} : e4, n3 = t6.useMemberInfoInMessage, i3 = void 0 === n3 || n3, r3 = t6.typingIndicatorInvalidateTime, o3 = void 0 === r3 ? 1e4 : r3, s4 = t6.typingIndicatorThrottle, a3 = void 0 === s4 ? 1e3 : s4, c3 = t6.websocketResponseTimeout, u3 = void 0 === c3 ? 1e4 : c3, l3 = t6.websocketPayloadDecompression, h3 = void 0 === l3 || l3, d3 = t6.sessionTokenRefreshTimeout, _2 = void 0 === d3 ? 60 : d3;
    this._useMemberInfoInMessage = true, this._typingIndicatorInvalidateTime = 1e4, this._typingIndicatorThrottle = 1e3, this._websocketResponseTimeout = 1e4, this._sessionTokenRefreshTimeout = 60, this._useMemberInfoInMessage = i3, this._typingIndicatorInvalidateTime = o3, this._typingIndicatorThrottle = a3, this._websocketResponseTimeout = u3, this._sessionTokenRefreshTimeout = _2, this.websocketPayloadDecompression = h3;
  }
  return Object.defineProperty(e3.prototype, "useMemberInfoInMessage", { get: function() {
    return this._useMemberInfoInMessage;
  }, set: function(e4) {
    w("boolean", e4) && (this._useMemberInfoInMessage = e4);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "typingIndicatorInvalidateTime", { get: function() {
    return this._typingIndicatorInvalidateTime;
  }, set: function(e4) {
    w("number", e4) && (this._typingIndicatorInvalidateTime = e4);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "typingIndicatorThrottle", { get: function() {
    return this._typingIndicatorThrottle;
  }, set: function(e4) {
    w("number", e4) && e4 >= 1e3 && e4 <= 9e3 && (this._typingIndicatorThrottle = e4);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "websocketResponseTimeout", { get: function() {
    return this._websocketResponseTimeout;
  }, set: function(e4) {
    w("number", e4) && e4 >= 5e3 && e4 <= 3e4 && (this._websocketResponseTimeout = e4);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "sessionTokenRefreshTimeout", { get: function() {
    return this._sessionTokenRefreshTimeout;
  }, set: function(e4) {
    w("number", e4) && (e4 < 60 ? e4 = 60 : e4 > 1800 && (e4 = 1800), this._sessionTokenRefreshTimeout = e4);
  }, enumerable: false, configurable: true }), e3;
}();
var D = { encrypt: function(e3) {
  return e3;
}, decrypt: function(e3) {
  return e3;
} };
var L = function() {
  function e3(e4) {
    var t6 = e4.store;
    this._preference = /* @__PURE__ */ new Map(), this._store = t6;
  }
  return e3.prototype._savePreferenceKeys = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._store.set({ key: this._keysAddress, value: c([], a(this._preference.keys()), false) })];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, e3.prototype.init = function(e4, t6) {
    var n3;
    return void 0 === t6 && (t6 = 1), r(this, void 0, void 0, function() {
      var i3, r3, a3, c3, u3, l3, h3, d3, _2, f4;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this._version = t6, this._keysAddress = e4, i3 = "".concat(e4, ".metadata.version"), [4, this._store.get(i3)];
          case 1:
            return r3 = o3.sent(), [4, this._store.get(e4)];
          case 2:
            return a3 = null !== (n3 = o3.sent()) && void 0 !== n3 ? n3 : [], !r3 || r3.version < this._version ? [4, this._resetPreferenceData(a3, i3)] : [3, 4];
          case 3:
            return o3.sent(), [3, 11];
          case 4:
            o3.trys.push([4, 9, 10, 11]), c3 = s(a3), u3 = c3.next(), o3.label = 5;
          case 5:
            return u3.done ? [3, 8] : (l3 = u3.value, [4, this._store.get(l3)]);
          case 6:
            (h3 = o3.sent()) && this._preference.set(l3, h3), o3.label = 7;
          case 7:
            return u3 = c3.next(), [3, 5];
          case 8:
            return [3, 11];
          case 9:
            return d3 = o3.sent(), _2 = { error: d3 }, [3, 11];
          case 10:
            try {
              u3 && !u3.done && (f4 = c3.return) && f4.call(c3);
            } finally {
              if (_2)
                throw _2.error;
            }
            return [7];
          case 11:
            return [2];
        }
      });
    });
  }, e3.prototype._resetPreferenceData = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this._preference = /* @__PURE__ */ new Map(), [4, this._store.removeMany(e4)];
          case 1:
            return n3.sent(), [4, this._store.set({ key: t6, value: { version: this._version } })];
          case 2:
            return n3.sent(), [2];
        }
      });
    });
  }, e3.prototype.get = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        return [2, this._preference.get(e4)];
      });
    });
  }, e3.prototype.set = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return n3 = !this._preference.has(e4), [4, this._store.set({ key: e4, value: t6 })];
          case 1:
            return i3.sent(), this._preference.set(e4, t6), n3 ? [4, this._savePreferenceKeys()] : [3, 3];
          case 2:
            i3.sent(), i3.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, e3.prototype.remove = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._store.remove(e4)];
          case 1:
            return t6.sent(), this._preference.delete(e4), [4, this._savePreferenceKeys()];
          case 2:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._store.removeMany(c([], a(this._preference.keys()), false))];
          case 1:
            return e4.sent(), this._preference.clear(), [4, this._savePreferenceKeys()];
          case 2:
            return e4.sent(), [2];
        }
      });
    });
  }, e3;
}();
var x = function() {
  function e3(e4) {
    var t6 = e4.encryption, n3 = e4.store, i3 = e4.localCacheEnabled, r3 = e4.localCacheConfig;
    this.store = n3, this.preference = new L({ store: n3 }), this.encryption = null != t6 ? t6 : D, this.localCacheEnabled = i3, this.localCacheConfig = r3;
  }
  return e3.prototype.replaceStore = function(e4) {
    this.store = e4, this.preference = new L({ store: e4 });
  }, e3;
}();
!function(e3) {
  e3.SUCCESS = "success", e3.PENDING = "pending", e3.ERROR = "error";
}(d || (d = {})), function(e3) {
  e3.DEFAULT = "default", e3.ALL = "all", e3.MENTION_ONLY = "mention_only", e3.OFF = "off";
}(_ || (_ = {})), function(e3) {
  e3.FCM = "gcm", e3.APNS = "apns", e3.UNKNOWN = "unknown";
}(f || (f = {})), function(e3) {
  e3.ALTERNATIVE = "alternative", e3.DEFAULT = "default";
}(p || (p = {})), function(e3) {
  e3.CUSTOM = "custom", e3.MESSAGE_COLLECTION_ACCESSED_AT = "messagecollection_accessed_at";
}(E || (E = {}));
var U;
var P = function() {
  function e3(e4) {
    var t6 = e4.channel, n3 = e4.cachedMessageCount;
    this._cachedMessageCount = 0, this._channel = t6, this._cachedMessageCount = n3;
  }
  return Object.defineProperty(e3.prototype, "channel", { get: function() {
    return this._channel;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "cachedMessageCount", { get: function() {
    return this._cachedMessageCount;
  }, enumerable: false, configurable: true }), e3;
}();
var M = function() {
  function e3(e4) {
    var t6 = void 0 === e4 ? {} : e4, n3 = t6.maxSize, i3 = void 0 === n3 ? 256 : n3, r3 = t6.clearOrder, o3 = void 0 === r3 ? E.MESSAGE_COLLECTION_ACCESSED_AT : r3, s4 = t6.customClearOrderComparator, a3 = t6.enableAutoResend, c3 = void 0 === a3 || a3;
    this._clearOrderComparatorUseMessageCollectionAccessedAt = function(e5, t7) {
      return e5.channel.messageCollectionLastAccessedAt === t7.channel.messageCollectionLastAccessedAt ? e5.channel.lastMessage && !t7.channel.lastMessage ? 1 : !e5.channel.lastMessage && t7.channel.lastMessage ? -1 : e5.channel.lastMessage || t7.channel.lastMessage ? e5.channel.lastMessage.createdAt - t7.channel.lastMessage.createdAt : 0 : e5.channel.messageCollectionLastAccessedAt > t7.channel.messageCollectionLastAccessedAt ? 1 : -1;
    }, this._maxSize = Math.max(i3, 64), s4 ? (this._clearOrder = o3, this._customClearOrderComparator = s4) : this._clearOrder = E.MESSAGE_COLLECTION_ACCESSED_AT, this._enableAutoResend = c3;
  }
  return Object.defineProperty(e3.prototype, "maxSize", { get: function() {
    return this._maxSize;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "clearOrder", { get: function() {
    return this._clearOrder;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "clearOrderComparator", { get: function() {
    var e4;
    return this._clearOrder === E.MESSAGE_COLLECTION_ACCESSED_AT ? this._clearOrderComparatorUseMessageCollectionAccessedAt : null !== (e4 = this._customClearOrderComparator) && void 0 !== e4 ? e4 : this._clearOrderComparatorUseMessageCollectionAccessedAt;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "enableAutoResend", { get: function() {
    return this._enableAutoResend;
  }, enumerable: false, configurable: true }), e3;
}();
!function(e3) {
  e3.FEED = "feed", e3.CHAT = "chat";
}(U || (U = {}));
var F;
var z;
var V;
var H;
var G;
var q;
var j;
var K;
var B;
var W;
var Q;
var Z = function() {
  function e3() {
    this.isRefreshing = false;
  }
  return Object.defineProperty(e3.prototype, "hasSession", { get: function() {
    return !!this.sessionKey;
  }, enumerable: false, configurable: true }), e3.prototype.clear = function() {
    this.authToken = void 0, this.sessionKey = void 0, this.services = [];
  }, e3.prototype.hasLessServiceScopeThan = function(e4) {
    var t6;
    return !this.sessionKey || !(null === (t6 = this.services) || void 0 === t6 ? void 0 : t6.includes(U.CHAT)) || e4.includes(U.CHAT);
  }, e3;
}();
var Y = function() {
  var e3 = (/* @__PURE__ */ new Date()).getTime();
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t6) {
    var n3 = (e3 + 16 * Math.random()) % 16 | 0;
    return e3 = Math.floor(e3 / 16), ("x" === t6 ? n3 : 3 & n3 | 8).toString(16);
  });
};
var X = function() {
  function e3(e4) {
    var t6 = e4.container;
    this._container = {}, this._container = t6, this.key = Y();
  }
  return e3.prototype._register = function(e4, t6, n3) {
    var i3;
    return e4 in this._container || (this._container[e4] = /* @__PURE__ */ new Map()), null === (i3 = this._container[e4]) || void 0 === i3 || i3.set(this.key, { occurence: t6, handler: n3 }), this;
  }, e3.prototype.on = function(e4, t6) {
    return this._register(e4, -1, t6);
  }, e3.prototype.once = function(e4, t6) {
    return this._register(e4, 1, t6);
  }, e3.prototype.close = function() {
    var e4;
    for (var t6 in this._container)
      null === (e4 = this._container[t6]) || void 0 === e4 || e4.delete(this.key);
  }, e3;
}();
var J = function() {
  function e3() {
    this._container = {};
  }
  return e3.prototype.on = function(e4, t6) {
    return new X({ container: this._container }).on(e4, t6);
  }, e3.prototype.once = function(e4, t6) {
    return new X({ container: this._container }).once(e4, t6);
  }, e3.prototype.dispatch = function(e4, t6) {
    var n3, i3, r3 = this._container[e4];
    if (r3) {
      var o3 = [];
      try {
        for (var a3 = s(r3.keys()), c3 = a3.next(); !c3.done; c3 = a3.next()) {
          var u3 = c3.value, l3 = r3.get(u3);
          l3.handler(t6), l3.occurence > 0 && (l3.occurence--, 0 === l3.occurence && o3.push(u3));
        }
      } catch (e5) {
        n3 = { error: e5 };
      } finally {
        try {
          c3 && !c3.done && (i3 = a3.return) && i3.call(a3);
        } finally {
          if (n3)
            throw n3.error;
        }
      }
      o3.forEach(function(e5) {
        return r3.delete(e5);
      });
    }
  }, e3;
}();
var $ = function() {
  function e3() {
    this._dispatcher = new J();
  }
  return e3.prototype.on = function(e4) {
    return this._dispatcher.on("event", e4);
  }, e3.prototype.once = function(e4) {
    return this._dispatcher.once("event", e4);
  }, e3.prototype.dispatch = function(e4) {
    this._dispatcher.dispatch("event", e4);
  }, e3;
}();
var ee = function() {
};
var te = function(e3) {
  var t6 = {};
  return e3 && Object.keys(e3).forEach(function(n3) {
    void 0 === e3[n3] || Number.isNaN(e3[n3]) || null === e3[n3] || (t6[n3] = e3[n3]);
  }), t6;
};
var ne = function(e3) {
  if (null != e3) {
    if ("object" == typeof e3) {
      if (Array.isArray(e3)) {
        var t6 = c([], a(e3), false);
        for (var n3 in t6)
          t6[n3] = ne(t6[n3]);
        return t6;
      }
      for (var i3 in e3)
        null === e3[i3] && delete e3[i3];
      return e3;
    }
    return e3;
  }
};
!function(e3) {
  e3.BASE = "base", e3.GROUP = "group", e3.OPEN = "open", e3.FEED = "feed";
}(F || (F = {})), function(e3) {
  e3.OPERATOR = "operator", e3.NONE = "none";
}(z || (z = {})), function(e3) {
  e3.MUTED = "muted", e3.UNMUTED = "unmuted";
}(V || (V = {})), function(e3) {
  e3.BASE = "base", e3.USER = "user", e3.FILE = "file", e3.ADMIN = "admin";
}(H || (H = {})), function(e3) {
  e3.ALL = "", e3.USER = "MESG", e3.FILE = "FILE", e3.ADMIN = "ADMM";
}(G || (G = {})), function(e3) {
  e3.USER = "MESG", e3.FILE = "FILE", e3.ADMIN = "ADMM";
}(q || (q = {})), function(e3) {
  e3.USERS = "users", e3.CHANNEL = "channel";
}(j || (j = {})), function(e3) {
  e3.ALL = "all", e3.NONE = "none", e3.ONLY_REPLY_TO_CHANNEL = "only_reply_to_channel";
}(K || (K = {})), function(e3) {
  e3.DEFAULT = "default", e3.SUPPRESS = "suppress";
}(B || (B = {})), function(e3) {
  e3.PENDING = "pending", e3.SCHEDULED = "scheduled", e3.SUCCEEDED = "succeeded", e3.FAILED = "failed", e3.CANCELED = "canceled";
}(W || (W = {})), function(e3) {
  e3.INREVIEW = "InReview", e3.APPROVED = "Approved";
}(Q || (Q = {}));
var ie;
var re = "v3";
var oe = "/".concat(re, "/users");
var se = "/".concat(re, "/storage/file");
var ae = "/".concat(re, "/group_channels");
var ce = "/".concat(re, "/sdk/group_channels");
var ue = "/".concat(re, "/open_channels");
var le = "/".concat(re, "/sdk/open_channels");
var he = "/".concat(re, "/search");
var de = "/".concat(re, "/report");
var _e = "/".concat(re, "/emojis");
var fe = "/".concat(re, "/emoji_categories");
var pe = "/".concat(re, "/polls");
var Ee = "/".concat(re, "/scheduled_messages");
var ve = "/".concat(re, "/sdk/ui_kit/configuration");
var ge = "/".concat(re, "/sdk/statistics");
var be = "/".concat(re, "/notifications");
var me = function(e3, t6) {
  return "/".concat(re, "/group_channels/").concat(e3, "/messages/").concat(t6, "/submit_forms");
};
var ye = function(e3) {
  switch (e3) {
    case F.FEED:
    case F.GROUP:
      return ae;
    case F.OPEN:
      return ue;
    default:
      return null;
  }
};
var we = function(e3) {
  switch (e3) {
    case F.GROUP:
      return "".concat(de, "/group_channels");
    case F.OPEN:
      return "".concat(de, "/open_channels");
    default:
      return null;
  }
};
var Ne = function(e3, t6, n3) {
  var i3, r3;
  switch (e3) {
    case j.CHANNEL:
      return true;
    case j.USERS:
      if (t6)
        try {
          for (var o3 = s(t6), a3 = o3.next(); !a3.done; a3 = o3.next()) {
            if (a3.value === n3)
              return true;
          }
        } catch (e4) {
          i3 = { error: e4 };
        } finally {
          try {
            a3 && !a3.done && (r3 = o3.return) && r3.call(o3);
          } finally {
            if (i3)
              throw i3.error;
          }
        }
  }
  return false;
};
var Te = function(e3, t6, n3) {
  var i3, r3, o3, s4, a3 = Ne(null !== (i3 = e3.mentionType) && void 0 !== i3 ? i3 : null, null !== (r3 = e3.mentionedUserIds) && void 0 !== r3 ? r3 : [], n3), c3 = Ne(null !== (o3 = t6.mentionType) && void 0 !== o3 ? o3 : null, null !== (s4 = t6.mentionedUserIds) && void 0 !== s4 ? s4 : [], n3);
  return !a3 && c3 ? 1 : a3 && !c3 ? -1 : 0;
};
var Se = function(e3, t6, n3) {
  var i3, r3 = t6 || new FormData();
  for (var o3 in e3)
    if (e3.hasOwnProperty(o3)) {
      var s4 = e3[o3], a3 = n3 ? "".concat(n3, "[").concat(o3, "]") : o3;
      k(s4) ? r3.append(a3, s4, null !== (i3 = s4.name) && void 0 !== i3 ? i3 : "filename") : "object" != typeof s4 || null === s4 || Array.isArray(s4) || s4 instanceof Blob ? r3.append(a3, String(s4)) : r3 = Se(s4, r3, a3);
    }
  return r3;
};
!function(e3) {
  e3.GET = "GET", e3.POST = "POST", e3.PUT = "PUT", e3.DELETE = "DELETE";
}(ie || (ie = {}));
var Ae;
var Ce = function(e3) {
  function n3() {
    var t6 = null !== e3 && e3.apply(this, arguments) || this;
    return t6.params = {}, t6.requireAuth = true, t6.headers = {}, t6.requestId = Y(), t6;
  }
  return t(n3, e3), n3.prototype.encodeParams = function(e4) {
    var t6 = this;
    return null == e4 || "" === e4 ? encodeURIComponent("") : Array.isArray(e4) ? e4.map(function(e5) {
      return t6.encodeParams(e5);
    }).join(",") : "object" == typeof e4 ? encodeURIComponent(JSON.stringify(e4)) : encodeURIComponent(String(e4));
  }, Object.defineProperty(n3.prototype, "query", { get: function() {
    var e4 = this, t6 = te(this.params);
    return "?".concat(Object.keys(t6).map(function(n4) {
      return "".concat(encodeURIComponent(n4), "=").concat(e4.encodeParams(t6[n4]));
    }).join("&"));
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "payload", { get: function() {
    var e4 = te(this.params);
    return Object.keys(e4).some(function(t6) {
      return k(e4[t6]);
    }) ? Se(e4) : JSON.stringify(e4);
  }, enumerable: false, configurable: true }), n3;
}(ee);
var Oe = function(e3) {
  function i3(t6, n3) {
    var i4 = e3.call(this) || this;
    return i4._iid = t6, i4._payload = n3, i4;
  }
  return t(i3, e3), Object.defineProperty(i3.prototype, "payload", { get: function() {
    return n({}, this._payload);
  }, enumerable: false, configurable: true }), i3.prototype.as = function(e4) {
    return new e4(this._iid, this.payload);
  }, i3;
}(ee);
var ke = function(e3) {
  function n3(t6) {
    var n4 = e3.call(this) || this;
    return n4.requestId = t6, n4;
  }
  return t(n3, e3), n3;
}(ee);
var Ie = function(e3) {
  function n3(t6) {
    var n4 = t6.expires_in, i3 = t6.reason, r3 = void 0 === i3 ? u.SESSION_KEY_EXPIRED : i3, o3 = e3.call(this) || this;
    switch (o3.expiresIn = null != n4 ? n4 : 0, r3) {
      case u.SESSION_KEY_EXPIRED:
      case u.SESSION_TOKEN_EXPIRED:
      case u.SESSION_REVOKED:
      case u.USER_AUTH_DEACTIVATED:
      case u.USER_AUTH_DELETED_OR_NOT_FOUND:
        o3.error = new g({ code: r3 });
    }
    return o3;
  }
  return t(n3, e3), Object.defineProperty(n3.prototype, "invalidateSessionToken", { get: function() {
    var e4;
    return !!(null === (e4 = this.error) || void 0 === e4 ? void 0 : e4.isSessionTokenExpiredError);
  }, enumerable: false, configurable: true }), n3;
}(ee);
var Re = function(e3) {
  function n3(t6, n4, i3, r3) {
    void 0 === r3 && (r3 = "");
    var o3, s4 = this;
    return (s4 = e3.call(this) || this)._iid = t6, s4.code = n4, s4.payload = i3, s4.requestId = null !== (o3 = i3.req_id) && void 0 !== o3 ? o3 : r3, s4;
  }
  return t(n3, e3), n3.createFromRawMessage = function(e4, t6) {
    var i3 = t6.substring(0, 4), r3 = {};
    try {
      r3 = JSON.parse(t6.substring(4));
    } catch (e5) {
      i3 = "NOOP";
    } finally {
      return new n3(e4, i3, r3);
    }
  }, n3.prototype.convertToMessage = function() {
    return "".concat(this.code).concat(JSON.stringify(this.payload), "\n");
  }, n3.prototype.as = function(e4) {
    return new e4(this._iid, this.code, this.payload);
  }, n3;
}(ee);
var De = function(e3) {
  function n3(t6) {
    var n4, i3 = t6.code, r3 = t6.ackRequired, o3 = t6.payload, s4 = void 0 === o3 ? {} : o3, a3 = this;
    return (a3 = e3.call(this) || this).code = i3, a3.payload = s4, a3.requestId = null !== (n4 = a3.payload.req_id) && void 0 !== n4 ? n4 : Y(), a3.ackRequired = r3, a3.payload.req_id = a3.requestId, a3;
  }
  return t(n3, e3), n3.prototype.convertToMessage = function() {
    return "".concat(this.code).concat(JSON.stringify(this.payload), "\n");
  }, n3;
}(ee);
var Le = function(e3) {
  function n3(t6) {
    var n4 = t6.userId, i3 = t6.authToken, r3 = t6.services, o3 = void 0 === r3 ? [U.CHAT] : r3, s4 = t6.expiringSession, a3 = void 0 === s4 || s4, c3 = e3.call(this) || this;
    return c3.path = "".concat(oe, "/").concat(n4, "/session_key"), c3.method = ie.POST, c3.params = te({ token: i3, services: o3, expiring_session: !!a3 }), c3.requireAuth = false, c3;
  }
  return t(n3, e3), n3;
}(Ce);
var xe = function(e3) {
  function n3(t6) {
    var n4 = t6.authToken, i3 = t6.expiringSession, r3 = void 0 === i3 || i3, o3 = t6.requestId, s4 = void 0 === o3 ? void 0 : o3;
    return e3.call(this, { code: "LOGI", payload: { token: n4, expiring_session: r3 ? 1 : 0, req_id: s4 }, ackRequired: true }) || this;
  }
  return t(n3, e3), n3;
}(De);
var Ue = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this, r3 = n4.key, o3 = n4.expires_at, s4 = n4.services;
    return i3.key = r3, i3.expiresAt = o3, i3.services = s4, i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Pe = function(e3) {
  function n3(t6, n4, i3) {
    var r3, o3 = this;
    return (o3 = e3.call(this, t6, "LOGI", i3) || this).error = null, o3.newKey = null, o3.newKey = null !== (r3 = i3.new_key) && void 0 !== r3 ? r3 : null, o3.error = i3.error ? new g(i3) : null, o3;
  }
  return t(n3, e3), n3;
}(Re);
var Me = function(e3) {
  function n3(t6) {
    var n4 = e3.call(this) || this;
    return n4.statLog = t6, n4;
  }
  return t(n3, e3), n3;
}(ee);
var Fe = function(e3) {
  function n3(t6) {
    var n4 = t6.request, i3 = t6.deferred, r3 = t6.error, o3 = void 0 === r3 ? g.requestFailed : r3, s4 = e3.call(this) || this;
    return s4.request = n4, s4.deferred = i3, s4.error = o3, s4;
  }
  return t(n3, e3), n3;
}(ee);
!function(e3) {
  e3.FEATURE_LOCALCACHE = "feature:local_cache", e3.FEATURE_LOCALCACHE_EVENT = "feature:local_cache_event", e3.NOTIFICATION = "noti:stats", e3.WEBSOCKET_CONNECT = "ws:connect", e3.API_RESULT = "api:result";
}(Ae || (Ae = {}));
var ze;
var Ve;
var He;
var Ge = function() {
  function e3(e4) {
    var t6 = e4.type, n3 = e4.data, i3 = e4.ts, r3 = void 0 === i3 ? Date.now() : i3;
    this.type = t6, this.createdAt = r3, this.data = n3;
  }
  return e3.payloadify = function(e4) {
    return te({ stat_type: e4.type, ts: e4.createdAt, data: te(e4.data) });
  }, e3;
}();
var qe = function() {
  return "undefined" == typeof document && "undefined" != typeof navigator && "ReactNative" == navigator.product;
};
var je = function() {
  return !("undefined" == typeof navigator || !/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent));
};
!function(e3) {
  e3.CHAT = "chat", e3.CALLS = "calls", e3.DESK = "desk", e3.LIVE = "live", e3.UIKIT_CHAT = "uikit-chat", e3.UIKIT_LIVE = "uikit-live";
}(ze || (ze = {})), function(e3) {
  e3.ANDROID = "android", e3.IOS = "ios", e3.JS = "js", e3.UNREAL = "unreal", e3.UNITY = "unity", e3.REACT_NATIVE = "react-native", e3.FLUTTER = "flutter";
}(Ve || (Ve = {})), function(e3) {
  e3.ANDROID = "android", e3.IOS = "ios", e3.WEB = "web", e3.MOBILE_WEB = "mobile_web", e3.WINDOWS = "windows";
}(He || (He = {}));
var Ke = "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$";
var Be = function() {
  function e3() {
  }
  return e3.sendbirdSdkUserAgentWithExtension = function(e4) {
    var t6 = qe() ? Ve.REACT_NATIVE : Ve.JS, i3 = { main_sdk_info: "chat/".concat(t6, "/").concat(h.SDK_VERSION), device_os_platform: je() ? "mobile-web" : "web", os_version: h.OS_VERSION };
    if (e4) {
      var r3 = e4.sendbirdExtensions, o3 = e4.deviceOS, s4 = e4.customData, c3 = void 0 === s4 ? {} : s4;
      o3.version && (i3.os_version = o3.version), o3.platform && (i3.device_os_platform = o3.platform), r3.length > 0 && (i3.extension_sdk_info = r3.map(function(e5) {
        var t7 = e5.product, n3 = e5.platform, i4 = e5.version;
        return "".concat(t7, "/").concat(n3, "/").concat(i4);
      }).join(",")), Object.keys(i3).forEach(function(e5) {
        return delete c3[e5];
      }), Object.keys(c3).length > 0 && (i3 = n(n({}, i3), c3));
    }
    return Object.entries(i3).map(function(e5) {
      var t7 = a(e5, 2), n3 = t7[0], i4 = t7[1];
      return "".concat(n3, "=").concat(i4);
    }).join("&");
  }, e3.userAgentWithExtension = function(e4) {
    var t6 = qe() ? "reactnative" : "JS", n3 = e4.sb_syncmanager ? "s".concat(e4.sb_syncmanager) : "", i3 = e4.sb_uikit ? "u".concat(e4.sb_uikit) : "", r3 = e4["device-os-platform"] ? "o".concat(e4["device-os-platform"]) : je() ? "omobile-web" : "oweb";
    return "".concat(t6, "/c").concat(h.SDK_VERSION, "/").concat(n3, "/").concat(i3, "/").concat(r3);
  }, e3;
}();
var We = function() {
  var e3 = this;
  this.promise = new Promise(function(t6, n3) {
    e3.resolve = t6, e3.reject = function(e4) {
      n3(e4);
    };
  });
};
var Qe = function() {
  function e3(e4, t6) {
    var n3 = t6.session, i3 = t6.sdkState, r3 = t6.dispatcher, o3 = t6.logger, s4 = t6.useFetchCompat, a3 = void 0 !== s4 && s4, c3 = this;
    this._abortControl = /* @__PURE__ */ new Map(), this._shouldImportFetchCompat = false, this._iid = e4, this._session = n3, this._sdkState = i3, this._dispatcher = r3, this._dispatcher.on(function(e5) {
      e5 instanceof ke && c3.cancel(e5.requestId);
    }), this._logger = o3, this._shouldImportFetchCompat = a3;
  }
  return e3.prototype._createHeader = function(e4, t6) {
    var i3 = this._sdkState, r3 = i3.appId, o3 = i3.appVersion, s4 = i3.sendbirdRuntimeEnvironment, a3 = n(n({}, e4.headers), { SendBird: "JS,".concat(h.OS_VERSION, ",").concat(h.SDK_VERSION, ",").concat(r3).concat(o3 ? ",".concat(o3) : ""), "SB-User-Agent": Be.userAgentWithExtension(this._sdkState.extensions), "Request-Sent-Timestamp": Date.now().toString(), "SB-SDK-User-Agent": Be.sendbirdSdkUserAgentWithExtension(s4) });
    return t6 || (a3["Content-Type"] = "application/json; charset=utf-8"), e4.requireAuth && this._session.hasSession && (a3["Session-Key"] = this._session.sessionKey), this._session && this._session.authToken && (a3["App-Id"] = r3, a3["Access-Token"] = this._session.authToken), a3;
  }, e3.prototype._statLogApiResult = function(e4, t6, n3) {
    this._dispatcher.dispatch(new Me(new Ge({ type: Ae.API_RESULT, data: { endpoint: e4.path, method: e4.method, success: !n3, latency: Date.now() - t6, error_code: null == n3 ? void 0 : n3.code, error_description: null == n3 ? void 0 : n3.message } })));
  }, e3.prototype.send = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i3, r3, s4, a3, c3, u3, l3, h3, d3, _2, f4, p5, E3, v5;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            t6 = e4.path, n3 = e4.method, i3 = ![ie.GET, ie.DELETE].includes(n3), r3 = this._sdkState.api, s4 = "".concat(r3.host).concat(t6).concat(i3 ? "" : e4.query), a3 = i3 ? e4.payload : null, c3 = this._createHeader(e4, a3 instanceof FormData ? a3 : void 0), u3 = new AbortController(), l3 = u3.signal, this._abortControl.set(e4.requestId, u3), h3 = Date.now(), o3.label = 1;
          case 1:
            return o3.trys.push([1, 8, , 9]), this._shouldImportFetchCompat && (this._shouldImportFetchCompat = false, ("undefined" != typeof globalThis && globalThis || "undefined" != typeof self && self || "undefined" != typeof global && global || { fetch: null }).fetch = null), "undefined" != typeof AbortController ? [3, 3] : [4, import("./__bundle-2aa1a987-G6OEV6KV.js")];
          case 2:
            o3.sent(), o3.label = 3;
          case 3:
            return "function" == typeof fetch ? [3, 5] : [4, import("./__bundle-40c7abbd-GQCVDOSK.js")];
          case 4:
            o3.sent(), o3.label = 5;
          case 5:
            return [4, fetch(s4, { method: n3, body: a3, headers: c3, signal: l3 })];
          case 6:
            return [4, (d3 = o3.sent()).json()];
          case 7:
            if (_2 = o3.sent(), d3.ok || d3.redirected)
              return this._logger.debug("receive api response", e4.requestId), this._statLogApiResult(e4, h3), [2, new Oe(this._iid, _2)];
            if (_2) {
              if ((p5 = new g(_2)).isSessionExpiredError) {
                if (this._dispatcher.dispatch(new Ie({ reason: p5.code })), !(e4 instanceof Le))
                  return f4 = new We(), this._dispatcher.dispatch(new Fe({ request: e4, deferred: f4, error: p5 })), [2, f4.promise];
                throw p5;
              }
              throw p5.isSessionInvalidatedError ? (this._dispatcher.dispatch(new Ie({ reason: p5.code })), p5) : p5;
            }
            throw p5 = g.requestFailed;
          case 8:
            throw E3 = o3.sent(), this._statLogApiResult(e4, h3, E3), E3 instanceof g ? (this._logger.debug("fail api request", E3), E3) : "AbortError" === (null == E3 ? void 0 : E3.name) ? g.requestCanceled : (v5 = g.networkError, this._logger.debug("fail api request", v5), v5);
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.cancel = function(e4) {
    this._abortControl.has(e4) && (this._abortControl.get(e4).abort(), this._abortControl.delete(e4));
  }, e3.prototype.cancelAll = function() {
    var e4, t6;
    try {
      for (var n3 = s(this._abortControl.values()), i3 = n3.next(); !i3.done; i3 = n3.next()) {
        i3.value.abort();
      }
    } catch (t7) {
      e4 = { error: t7 };
    } finally {
      try {
        i3 && !i3.done && (t6 = n3.return) && t6.call(n3);
      } finally {
        if (e4)
          throw e4.error;
      }
    }
    this._abortControl.clear();
  }, e3;
}();
var Ze = function() {
};
function Ye(e3) {
  let t6 = e3.length;
  for (; --t6 >= 0; )
    e3[t6] = 0;
}
var Xe = 256;
var Je = 286;
var $e = 30;
var et = 15;
var tt = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]);
var nt = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]);
var it = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]);
var rt = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
var ot = new Array(576);
Ye(ot);
var st = new Array(60);
Ye(st);
var at = new Array(512);
Ye(at);
var ct = new Array(256);
Ye(ct);
var ut = new Array(29);
Ye(ut);
var lt = new Array($e);
function ht(e3, t6, n3, i3, r3) {
  this.static_tree = e3, this.extra_bits = t6, this.extra_base = n3, this.elems = i3, this.max_length = r3, this.has_stree = e3 && e3.length;
}
var dt;
var _t;
var ft;
function pt(e3, t6) {
  this.dyn_tree = e3, this.max_code = 0, this.stat_desc = t6;
}
Ye(lt);
var Et = (e3) => e3 < 256 ? at[e3] : at[256 + (e3 >>> 7)];
var vt = (e3, t6) => {
  e3.pending_buf[e3.pending++] = 255 & t6, e3.pending_buf[e3.pending++] = t6 >>> 8 & 255;
};
var gt = (e3, t6, n3) => {
  e3.bi_valid > 16 - n3 ? (e3.bi_buf |= t6 << e3.bi_valid & 65535, vt(e3, e3.bi_buf), e3.bi_buf = t6 >> 16 - e3.bi_valid, e3.bi_valid += n3 - 16) : (e3.bi_buf |= t6 << e3.bi_valid & 65535, e3.bi_valid += n3);
};
var bt = (e3, t6, n3) => {
  gt(e3, n3[2 * t6], n3[2 * t6 + 1]);
};
var mt = (e3, t6) => {
  let n3 = 0;
  do {
    n3 |= 1 & e3, e3 >>>= 1, n3 <<= 1;
  } while (--t6 > 0);
  return n3 >>> 1;
};
var yt = (e3, t6, n3) => {
  const i3 = new Array(16);
  let r3, o3, s4 = 0;
  for (r3 = 1; r3 <= et; r3++)
    s4 = s4 + n3[r3 - 1] << 1, i3[r3] = s4;
  for (o3 = 0; o3 <= t6; o3++) {
    let t7 = e3[2 * o3 + 1];
    0 !== t7 && (e3[2 * o3] = mt(i3[t7]++, t7));
  }
};
var wt = (e3) => {
  let t6;
  for (t6 = 0; t6 < Je; t6++)
    e3.dyn_ltree[2 * t6] = 0;
  for (t6 = 0; t6 < $e; t6++)
    e3.dyn_dtree[2 * t6] = 0;
  for (t6 = 0; t6 < 19; t6++)
    e3.bl_tree[2 * t6] = 0;
  e3.dyn_ltree[512] = 1, e3.opt_len = e3.static_len = 0, e3.sym_next = e3.matches = 0;
};
var Nt = (e3) => {
  e3.bi_valid > 8 ? vt(e3, e3.bi_buf) : e3.bi_valid > 0 && (e3.pending_buf[e3.pending++] = e3.bi_buf), e3.bi_buf = 0, e3.bi_valid = 0;
};
var Tt = (e3, t6, n3, i3) => {
  const r3 = 2 * t6, o3 = 2 * n3;
  return e3[r3] < e3[o3] || e3[r3] === e3[o3] && i3[t6] <= i3[n3];
};
var St = (e3, t6, n3) => {
  const i3 = e3.heap[n3];
  let r3 = n3 << 1;
  for (; r3 <= e3.heap_len && (r3 < e3.heap_len && Tt(t6, e3.heap[r3 + 1], e3.heap[r3], e3.depth) && r3++, !Tt(t6, i3, e3.heap[r3], e3.depth)); )
    e3.heap[n3] = e3.heap[r3], n3 = r3, r3 <<= 1;
  e3.heap[n3] = i3;
};
var At = (e3, t6, n3) => {
  let i3, r3, o3, s4, a3 = 0;
  if (0 !== e3.sym_next)
    do {
      i3 = 255 & e3.pending_buf[e3.sym_buf + a3++], i3 += (255 & e3.pending_buf[e3.sym_buf + a3++]) << 8, r3 = e3.pending_buf[e3.sym_buf + a3++], 0 === i3 ? bt(e3, r3, t6) : (o3 = ct[r3], bt(e3, o3 + Xe + 1, t6), s4 = tt[o3], 0 !== s4 && (r3 -= ut[o3], gt(e3, r3, s4)), i3--, o3 = Et(i3), bt(e3, o3, n3), s4 = nt[o3], 0 !== s4 && (i3 -= lt[o3], gt(e3, i3, s4)));
    } while (a3 < e3.sym_next);
  bt(e3, 256, t6);
};
var Ct = (e3, t6) => {
  const n3 = t6.dyn_tree, i3 = t6.stat_desc.static_tree, r3 = t6.stat_desc.has_stree, o3 = t6.stat_desc.elems;
  let s4, a3, c3, u3 = -1;
  for (e3.heap_len = 0, e3.heap_max = 573, s4 = 0; s4 < o3; s4++)
    0 !== n3[2 * s4] ? (e3.heap[++e3.heap_len] = u3 = s4, e3.depth[s4] = 0) : n3[2 * s4 + 1] = 0;
  for (; e3.heap_len < 2; )
    c3 = e3.heap[++e3.heap_len] = u3 < 2 ? ++u3 : 0, n3[2 * c3] = 1, e3.depth[c3] = 0, e3.opt_len--, r3 && (e3.static_len -= i3[2 * c3 + 1]);
  for (t6.max_code = u3, s4 = e3.heap_len >> 1; s4 >= 1; s4--)
    St(e3, n3, s4);
  c3 = o3;
  do {
    s4 = e3.heap[1], e3.heap[1] = e3.heap[e3.heap_len--], St(e3, n3, 1), a3 = e3.heap[1], e3.heap[--e3.heap_max] = s4, e3.heap[--e3.heap_max] = a3, n3[2 * c3] = n3[2 * s4] + n3[2 * a3], e3.depth[c3] = (e3.depth[s4] >= e3.depth[a3] ? e3.depth[s4] : e3.depth[a3]) + 1, n3[2 * s4 + 1] = n3[2 * a3 + 1] = c3, e3.heap[1] = c3++, St(e3, n3, 1);
  } while (e3.heap_len >= 2);
  e3.heap[--e3.heap_max] = e3.heap[1], ((e4, t7) => {
    const n4 = t7.dyn_tree, i4 = t7.max_code, r4 = t7.stat_desc.static_tree, o4 = t7.stat_desc.has_stree, s5 = t7.stat_desc.extra_bits, a4 = t7.stat_desc.extra_base, c4 = t7.stat_desc.max_length;
    let u4, l3, h3, d3, _2, f4, p5 = 0;
    for (d3 = 0; d3 <= et; d3++)
      e4.bl_count[d3] = 0;
    for (n4[2 * e4.heap[e4.heap_max] + 1] = 0, u4 = e4.heap_max + 1; u4 < 573; u4++)
      l3 = e4.heap[u4], d3 = n4[2 * n4[2 * l3 + 1] + 1] + 1, d3 > c4 && (d3 = c4, p5++), n4[2 * l3 + 1] = d3, l3 > i4 || (e4.bl_count[d3]++, _2 = 0, l3 >= a4 && (_2 = s5[l3 - a4]), f4 = n4[2 * l3], e4.opt_len += f4 * (d3 + _2), o4 && (e4.static_len += f4 * (r4[2 * l3 + 1] + _2)));
    if (0 !== p5) {
      do {
        for (d3 = c4 - 1; 0 === e4.bl_count[d3]; )
          d3--;
        e4.bl_count[d3]--, e4.bl_count[d3 + 1] += 2, e4.bl_count[c4]--, p5 -= 2;
      } while (p5 > 0);
      for (d3 = c4; 0 !== d3; d3--)
        for (l3 = e4.bl_count[d3]; 0 !== l3; )
          h3 = e4.heap[--u4], h3 > i4 || (n4[2 * h3 + 1] !== d3 && (e4.opt_len += (d3 - n4[2 * h3 + 1]) * n4[2 * h3], n4[2 * h3 + 1] = d3), l3--);
    }
  })(e3, t6), yt(n3, u3, e3.bl_count);
};
var Ot = (e3, t6, n3) => {
  let i3, r3, o3 = -1, s4 = t6[1], a3 = 0, c3 = 7, u3 = 4;
  for (0 === s4 && (c3 = 138, u3 = 3), t6[2 * (n3 + 1) + 1] = 65535, i3 = 0; i3 <= n3; i3++)
    r3 = s4, s4 = t6[2 * (i3 + 1) + 1], ++a3 < c3 && r3 === s4 || (a3 < u3 ? e3.bl_tree[2 * r3] += a3 : 0 !== r3 ? (r3 !== o3 && e3.bl_tree[2 * r3]++, e3.bl_tree[32]++) : a3 <= 10 ? e3.bl_tree[34]++ : e3.bl_tree[36]++, a3 = 0, o3 = r3, 0 === s4 ? (c3 = 138, u3 = 3) : r3 === s4 ? (c3 = 6, u3 = 3) : (c3 = 7, u3 = 4));
};
var kt = (e3, t6, n3) => {
  let i3, r3, o3 = -1, s4 = t6[1], a3 = 0, c3 = 7, u3 = 4;
  for (0 === s4 && (c3 = 138, u3 = 3), i3 = 0; i3 <= n3; i3++)
    if (r3 = s4, s4 = t6[2 * (i3 + 1) + 1], !(++a3 < c3 && r3 === s4)) {
      if (a3 < u3)
        do {
          bt(e3, r3, e3.bl_tree);
        } while (0 != --a3);
      else
        0 !== r3 ? (r3 !== o3 && (bt(e3, r3, e3.bl_tree), a3--), bt(e3, 16, e3.bl_tree), gt(e3, a3 - 3, 2)) : a3 <= 10 ? (bt(e3, 17, e3.bl_tree), gt(e3, a3 - 3, 3)) : (bt(e3, 18, e3.bl_tree), gt(e3, a3 - 11, 7));
      a3 = 0, o3 = r3, 0 === s4 ? (c3 = 138, u3 = 3) : r3 === s4 ? (c3 = 6, u3 = 3) : (c3 = 7, u3 = 4);
    }
};
var It = false;
var Rt = (e3, t6, n3, i3) => {
  gt(e3, 0 + (i3 ? 1 : 0), 3), Nt(e3), vt(e3, n3), vt(e3, ~n3), n3 && e3.pending_buf.set(e3.window.subarray(t6, t6 + n3), e3.pending), e3.pending += n3;
};
var Dt = (e3, t6, n3, i3) => {
  let r3, o3, s4 = 0;
  e3.level > 0 ? (2 === e3.strm.data_type && (e3.strm.data_type = ((e4) => {
    let t7, n4 = 4093624447;
    for (t7 = 0; t7 <= 31; t7++, n4 >>>= 1)
      if (1 & n4 && 0 !== e4.dyn_ltree[2 * t7])
        return 0;
    if (0 !== e4.dyn_ltree[18] || 0 !== e4.dyn_ltree[20] || 0 !== e4.dyn_ltree[26])
      return 1;
    for (t7 = 32; t7 < Xe; t7++)
      if (0 !== e4.dyn_ltree[2 * t7])
        return 1;
    return 0;
  })(e3)), Ct(e3, e3.l_desc), Ct(e3, e3.d_desc), s4 = ((e4) => {
    let t7;
    for (Ot(e4, e4.dyn_ltree, e4.l_desc.max_code), Ot(e4, e4.dyn_dtree, e4.d_desc.max_code), Ct(e4, e4.bl_desc), t7 = 18; t7 >= 3 && 0 === e4.bl_tree[2 * rt[t7] + 1]; t7--)
      ;
    return e4.opt_len += 3 * (t7 + 1) + 5 + 5 + 4, t7;
  })(e3), r3 = e3.opt_len + 3 + 7 >>> 3, o3 = e3.static_len + 3 + 7 >>> 3, o3 <= r3 && (r3 = o3)) : r3 = o3 = n3 + 5, n3 + 4 <= r3 && -1 !== t6 ? Rt(e3, t6, n3, i3) : 4 === e3.strategy || o3 === r3 ? (gt(e3, 2 + (i3 ? 1 : 0), 3), At(e3, ot, st)) : (gt(e3, 4 + (i3 ? 1 : 0), 3), ((e4, t7, n4, i4) => {
    let r4;
    for (gt(e4, t7 - 257, 5), gt(e4, n4 - 1, 5), gt(e4, i4 - 4, 4), r4 = 0; r4 < i4; r4++)
      gt(e4, e4.bl_tree[2 * rt[r4] + 1], 3);
    kt(e4, e4.dyn_ltree, t7 - 1), kt(e4, e4.dyn_dtree, n4 - 1);
  })(e3, e3.l_desc.max_code + 1, e3.d_desc.max_code + 1, s4 + 1), At(e3, e3.dyn_ltree, e3.dyn_dtree)), wt(e3), i3 && Nt(e3);
};
var Lt = { _tr_init: (e3) => {
  It || ((() => {
    let e4, t6, n3, i3, r3;
    const o3 = new Array(16);
    for (n3 = 0, i3 = 0; i3 < 28; i3++)
      for (ut[i3] = n3, e4 = 0; e4 < 1 << tt[i3]; e4++)
        ct[n3++] = i3;
    for (ct[n3 - 1] = i3, r3 = 0, i3 = 0; i3 < 16; i3++)
      for (lt[i3] = r3, e4 = 0; e4 < 1 << nt[i3]; e4++)
        at[r3++] = i3;
    for (r3 >>= 7; i3 < $e; i3++)
      for (lt[i3] = r3 << 7, e4 = 0; e4 < 1 << nt[i3] - 7; e4++)
        at[256 + r3++] = i3;
    for (t6 = 0; t6 <= et; t6++)
      o3[t6] = 0;
    for (e4 = 0; e4 <= 143; )
      ot[2 * e4 + 1] = 8, e4++, o3[8]++;
    for (; e4 <= 255; )
      ot[2 * e4 + 1] = 9, e4++, o3[9]++;
    for (; e4 <= 279; )
      ot[2 * e4 + 1] = 7, e4++, o3[7]++;
    for (; e4 <= 287; )
      ot[2 * e4 + 1] = 8, e4++, o3[8]++;
    for (yt(ot, 287, o3), e4 = 0; e4 < $e; e4++)
      st[2 * e4 + 1] = 5, st[2 * e4] = mt(e4, 5);
    dt = new ht(ot, tt, 257, Je, et), _t = new ht(st, nt, 0, $e, et), ft = new ht(new Array(0), it, 0, 19, 7);
  })(), It = true), e3.l_desc = new pt(e3.dyn_ltree, dt), e3.d_desc = new pt(e3.dyn_dtree, _t), e3.bl_desc = new pt(e3.bl_tree, ft), e3.bi_buf = 0, e3.bi_valid = 0, wt(e3);
}, _tr_stored_block: Rt, _tr_flush_block: Dt, _tr_tally: (e3, t6, n3) => (e3.pending_buf[e3.sym_buf + e3.sym_next++] = t6, e3.pending_buf[e3.sym_buf + e3.sym_next++] = t6 >> 8, e3.pending_buf[e3.sym_buf + e3.sym_next++] = n3, 0 === t6 ? e3.dyn_ltree[2 * n3]++ : (e3.matches++, t6--, e3.dyn_ltree[2 * (ct[n3] + Xe + 1)]++, e3.dyn_dtree[2 * Et(t6)]++), e3.sym_next === e3.sym_end), _tr_align: (e3) => {
  gt(e3, 2, 3), bt(e3, 256, ot), ((e4) => {
    16 === e4.bi_valid ? (vt(e4, e4.bi_buf), e4.bi_buf = 0, e4.bi_valid = 0) : e4.bi_valid >= 8 && (e4.pending_buf[e4.pending++] = 255 & e4.bi_buf, e4.bi_buf >>= 8, e4.bi_valid -= 8);
  })(e3);
} };
var xt = (e3, t6, n3, i3) => {
  let r3 = 65535 & e3 | 0, o3 = e3 >>> 16 & 65535 | 0, s4 = 0;
  for (; 0 !== n3; ) {
    s4 = n3 > 2e3 ? 2e3 : n3, n3 -= s4;
    do {
      r3 = r3 + t6[i3++] | 0, o3 = o3 + r3 | 0;
    } while (--s4);
    r3 %= 65521, o3 %= 65521;
  }
  return r3 | o3 << 16 | 0;
};
var Ut = new Uint32Array((() => {
  let e3, t6 = [];
  for (var n3 = 0; n3 < 256; n3++) {
    e3 = n3;
    for (var i3 = 0; i3 < 8; i3++)
      e3 = 1 & e3 ? 3988292384 ^ e3 >>> 1 : e3 >>> 1;
    t6[n3] = e3;
  }
  return t6;
})());
var Pt = (e3, t6, n3, i3) => {
  const r3 = Ut, o3 = i3 + n3;
  e3 ^= -1;
  for (let n4 = i3; n4 < o3; n4++)
    e3 = e3 >>> 8 ^ r3[255 & (e3 ^ t6[n4])];
  return -1 ^ e3;
};
var Mt = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
var Ft = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_MEM_ERROR: -4, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
var { _tr_init: zt, _tr_stored_block: Vt, _tr_flush_block: Ht, _tr_tally: Gt, _tr_align: qt } = Lt;
var { Z_NO_FLUSH: jt, Z_PARTIAL_FLUSH: Kt, Z_FULL_FLUSH: Bt, Z_FINISH: Wt, Z_BLOCK: Qt, Z_OK: Zt, Z_STREAM_END: Yt, Z_STREAM_ERROR: Xt, Z_DATA_ERROR: Jt, Z_BUF_ERROR: $t, Z_DEFAULT_COMPRESSION: en, Z_FILTERED: tn, Z_HUFFMAN_ONLY: nn, Z_RLE: rn, Z_FIXED: on, Z_DEFAULT_STRATEGY: sn, Z_UNKNOWN: an, Z_DEFLATED: cn } = Ft;
var un = 258;
var ln = 262;
var hn = 42;
var dn = 113;
var _n = 666;
var fn = (e3, t6) => (e3.msg = Mt[t6], t6);
var pn = (e3) => 2 * e3 - (e3 > 4 ? 9 : 0);
var En = (e3) => {
  let t6 = e3.length;
  for (; --t6 >= 0; )
    e3[t6] = 0;
};
var vn = (e3) => {
  let t6, n3, i3, r3 = e3.w_size;
  t6 = e3.hash_size, i3 = t6;
  do {
    n3 = e3.head[--i3], e3.head[i3] = n3 >= r3 ? n3 - r3 : 0;
  } while (--t6);
  t6 = r3, i3 = t6;
  do {
    n3 = e3.prev[--i3], e3.prev[i3] = n3 >= r3 ? n3 - r3 : 0;
  } while (--t6);
};
var gn = (e3, t6, n3) => (t6 << e3.hash_shift ^ n3) & e3.hash_mask;
var bn = (e3) => {
  const t6 = e3.state;
  let n3 = t6.pending;
  n3 > e3.avail_out && (n3 = e3.avail_out), 0 !== n3 && (e3.output.set(t6.pending_buf.subarray(t6.pending_out, t6.pending_out + n3), e3.next_out), e3.next_out += n3, t6.pending_out += n3, e3.total_out += n3, e3.avail_out -= n3, t6.pending -= n3, 0 === t6.pending && (t6.pending_out = 0));
};
var mn = (e3, t6) => {
  Ht(e3, e3.block_start >= 0 ? e3.block_start : -1, e3.strstart - e3.block_start, t6), e3.block_start = e3.strstart, bn(e3.strm);
};
var yn = (e3, t6) => {
  e3.pending_buf[e3.pending++] = t6;
};
var wn = (e3, t6) => {
  e3.pending_buf[e3.pending++] = t6 >>> 8 & 255, e3.pending_buf[e3.pending++] = 255 & t6;
};
var Nn = (e3, t6, n3, i3) => {
  let r3 = e3.avail_in;
  return r3 > i3 && (r3 = i3), 0 === r3 ? 0 : (e3.avail_in -= r3, t6.set(e3.input.subarray(e3.next_in, e3.next_in + r3), n3), 1 === e3.state.wrap ? e3.adler = xt(e3.adler, t6, r3, n3) : 2 === e3.state.wrap && (e3.adler = Pt(e3.adler, t6, r3, n3)), e3.next_in += r3, e3.total_in += r3, r3);
};
var Tn = (e3, t6) => {
  let n3, i3, r3 = e3.max_chain_length, o3 = e3.strstart, s4 = e3.prev_length, a3 = e3.nice_match;
  const c3 = e3.strstart > e3.w_size - ln ? e3.strstart - (e3.w_size - ln) : 0, u3 = e3.window, l3 = e3.w_mask, h3 = e3.prev, d3 = e3.strstart + un;
  let _2 = u3[o3 + s4 - 1], f4 = u3[o3 + s4];
  e3.prev_length >= e3.good_match && (r3 >>= 2), a3 > e3.lookahead && (a3 = e3.lookahead);
  do {
    if (n3 = t6, u3[n3 + s4] === f4 && u3[n3 + s4 - 1] === _2 && u3[n3] === u3[o3] && u3[++n3] === u3[o3 + 1]) {
      o3 += 2, n3++;
      do {
      } while (u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && u3[++o3] === u3[++n3] && o3 < d3);
      if (i3 = un - (d3 - o3), o3 = d3 - un, i3 > s4) {
        if (e3.match_start = t6, s4 = i3, i3 >= a3)
          break;
        _2 = u3[o3 + s4 - 1], f4 = u3[o3 + s4];
      }
    }
  } while ((t6 = h3[t6 & l3]) > c3 && 0 != --r3);
  return s4 <= e3.lookahead ? s4 : e3.lookahead;
};
var Sn = (e3) => {
  const t6 = e3.w_size;
  let n3, i3, r3;
  do {
    if (i3 = e3.window_size - e3.lookahead - e3.strstart, e3.strstart >= t6 + (t6 - ln) && (e3.window.set(e3.window.subarray(t6, t6 + t6 - i3), 0), e3.match_start -= t6, e3.strstart -= t6, e3.block_start -= t6, e3.insert > e3.strstart && (e3.insert = e3.strstart), vn(e3), i3 += t6), 0 === e3.strm.avail_in)
      break;
    if (n3 = Nn(e3.strm, e3.window, e3.strstart + e3.lookahead, i3), e3.lookahead += n3, e3.lookahead + e3.insert >= 3)
      for (r3 = e3.strstart - e3.insert, e3.ins_h = e3.window[r3], e3.ins_h = gn(e3, e3.ins_h, e3.window[r3 + 1]); e3.insert && (e3.ins_h = gn(e3, e3.ins_h, e3.window[r3 + 3 - 1]), e3.prev[r3 & e3.w_mask] = e3.head[e3.ins_h], e3.head[e3.ins_h] = r3, r3++, e3.insert--, !(e3.lookahead + e3.insert < 3)); )
        ;
  } while (e3.lookahead < ln && 0 !== e3.strm.avail_in);
};
var An = (e3, t6) => {
  let n3, i3, r3, o3 = e3.pending_buf_size - 5 > e3.w_size ? e3.w_size : e3.pending_buf_size - 5, s4 = 0, a3 = e3.strm.avail_in;
  do {
    if (n3 = 65535, r3 = e3.bi_valid + 42 >> 3, e3.strm.avail_out < r3)
      break;
    if (r3 = e3.strm.avail_out - r3, i3 = e3.strstart - e3.block_start, n3 > i3 + e3.strm.avail_in && (n3 = i3 + e3.strm.avail_in), n3 > r3 && (n3 = r3), n3 < o3 && (0 === n3 && t6 !== Wt || t6 === jt || n3 !== i3 + e3.strm.avail_in))
      break;
    s4 = t6 === Wt && n3 === i3 + e3.strm.avail_in ? 1 : 0, Vt(e3, 0, 0, s4), e3.pending_buf[e3.pending - 4] = n3, e3.pending_buf[e3.pending - 3] = n3 >> 8, e3.pending_buf[e3.pending - 2] = ~n3, e3.pending_buf[e3.pending - 1] = ~n3 >> 8, bn(e3.strm), i3 && (i3 > n3 && (i3 = n3), e3.strm.output.set(e3.window.subarray(e3.block_start, e3.block_start + i3), e3.strm.next_out), e3.strm.next_out += i3, e3.strm.avail_out -= i3, e3.strm.total_out += i3, e3.block_start += i3, n3 -= i3), n3 && (Nn(e3.strm, e3.strm.output, e3.strm.next_out, n3), e3.strm.next_out += n3, e3.strm.avail_out -= n3, e3.strm.total_out += n3);
  } while (0 === s4);
  return a3 -= e3.strm.avail_in, a3 && (a3 >= e3.w_size ? (e3.matches = 2, e3.window.set(e3.strm.input.subarray(e3.strm.next_in - e3.w_size, e3.strm.next_in), 0), e3.strstart = e3.w_size, e3.insert = e3.strstart) : (e3.window_size - e3.strstart <= a3 && (e3.strstart -= e3.w_size, e3.window.set(e3.window.subarray(e3.w_size, e3.w_size + e3.strstart), 0), e3.matches < 2 && e3.matches++, e3.insert > e3.strstart && (e3.insert = e3.strstart)), e3.window.set(e3.strm.input.subarray(e3.strm.next_in - a3, e3.strm.next_in), e3.strstart), e3.strstart += a3, e3.insert += a3 > e3.w_size - e3.insert ? e3.w_size - e3.insert : a3), e3.block_start = e3.strstart), e3.high_water < e3.strstart && (e3.high_water = e3.strstart), s4 ? 4 : t6 !== jt && t6 !== Wt && 0 === e3.strm.avail_in && e3.strstart === e3.block_start ? 2 : (r3 = e3.window_size - e3.strstart, e3.strm.avail_in > r3 && e3.block_start >= e3.w_size && (e3.block_start -= e3.w_size, e3.strstart -= e3.w_size, e3.window.set(e3.window.subarray(e3.w_size, e3.w_size + e3.strstart), 0), e3.matches < 2 && e3.matches++, r3 += e3.w_size, e3.insert > e3.strstart && (e3.insert = e3.strstart)), r3 > e3.strm.avail_in && (r3 = e3.strm.avail_in), r3 && (Nn(e3.strm, e3.window, e3.strstart, r3), e3.strstart += r3, e3.insert += r3 > e3.w_size - e3.insert ? e3.w_size - e3.insert : r3), e3.high_water < e3.strstart && (e3.high_water = e3.strstart), r3 = e3.bi_valid + 42 >> 3, r3 = e3.pending_buf_size - r3 > 65535 ? 65535 : e3.pending_buf_size - r3, o3 = r3 > e3.w_size ? e3.w_size : r3, i3 = e3.strstart - e3.block_start, (i3 >= o3 || (i3 || t6 === Wt) && t6 !== jt && 0 === e3.strm.avail_in && i3 <= r3) && (n3 = i3 > r3 ? r3 : i3, s4 = t6 === Wt && 0 === e3.strm.avail_in && n3 === i3 ? 1 : 0, Vt(e3, e3.block_start, n3, s4), e3.block_start += n3, bn(e3.strm)), s4 ? 3 : 1);
};
var Cn = (e3, t6) => {
  let n3, i3;
  for (; ; ) {
    if (e3.lookahead < ln) {
      if (Sn(e3), e3.lookahead < ln && t6 === jt)
        return 1;
      if (0 === e3.lookahead)
        break;
    }
    if (n3 = 0, e3.lookahead >= 3 && (e3.ins_h = gn(e3, e3.ins_h, e3.window[e3.strstart + 3 - 1]), n3 = e3.prev[e3.strstart & e3.w_mask] = e3.head[e3.ins_h], e3.head[e3.ins_h] = e3.strstart), 0 !== n3 && e3.strstart - n3 <= e3.w_size - ln && (e3.match_length = Tn(e3, n3)), e3.match_length >= 3)
      if (i3 = Gt(e3, e3.strstart - e3.match_start, e3.match_length - 3), e3.lookahead -= e3.match_length, e3.match_length <= e3.max_lazy_match && e3.lookahead >= 3) {
        e3.match_length--;
        do {
          e3.strstart++, e3.ins_h = gn(e3, e3.ins_h, e3.window[e3.strstart + 3 - 1]), n3 = e3.prev[e3.strstart & e3.w_mask] = e3.head[e3.ins_h], e3.head[e3.ins_h] = e3.strstart;
        } while (0 != --e3.match_length);
        e3.strstart++;
      } else
        e3.strstart += e3.match_length, e3.match_length = 0, e3.ins_h = e3.window[e3.strstart], e3.ins_h = gn(e3, e3.ins_h, e3.window[e3.strstart + 1]);
    else
      i3 = Gt(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++;
    if (i3 && (mn(e3, false), 0 === e3.strm.avail_out))
      return 1;
  }
  return e3.insert = e3.strstart < 2 ? e3.strstart : 2, t6 === Wt ? (mn(e3, true), 0 === e3.strm.avail_out ? 3 : 4) : e3.sym_next && (mn(e3, false), 0 === e3.strm.avail_out) ? 1 : 2;
};
var On = (e3, t6) => {
  let n3, i3, r3;
  for (; ; ) {
    if (e3.lookahead < ln) {
      if (Sn(e3), e3.lookahead < ln && t6 === jt)
        return 1;
      if (0 === e3.lookahead)
        break;
    }
    if (n3 = 0, e3.lookahead >= 3 && (e3.ins_h = gn(e3, e3.ins_h, e3.window[e3.strstart + 3 - 1]), n3 = e3.prev[e3.strstart & e3.w_mask] = e3.head[e3.ins_h], e3.head[e3.ins_h] = e3.strstart), e3.prev_length = e3.match_length, e3.prev_match = e3.match_start, e3.match_length = 2, 0 !== n3 && e3.prev_length < e3.max_lazy_match && e3.strstart - n3 <= e3.w_size - ln && (e3.match_length = Tn(e3, n3), e3.match_length <= 5 && (e3.strategy === tn || 3 === e3.match_length && e3.strstart - e3.match_start > 4096) && (e3.match_length = 2)), e3.prev_length >= 3 && e3.match_length <= e3.prev_length) {
      r3 = e3.strstart + e3.lookahead - 3, i3 = Gt(e3, e3.strstart - 1 - e3.prev_match, e3.prev_length - 3), e3.lookahead -= e3.prev_length - 1, e3.prev_length -= 2;
      do {
        ++e3.strstart <= r3 && (e3.ins_h = gn(e3, e3.ins_h, e3.window[e3.strstart + 3 - 1]), n3 = e3.prev[e3.strstart & e3.w_mask] = e3.head[e3.ins_h], e3.head[e3.ins_h] = e3.strstart);
      } while (0 != --e3.prev_length);
      if (e3.match_available = 0, e3.match_length = 2, e3.strstart++, i3 && (mn(e3, false), 0 === e3.strm.avail_out))
        return 1;
    } else if (e3.match_available) {
      if (i3 = Gt(e3, 0, e3.window[e3.strstart - 1]), i3 && mn(e3, false), e3.strstart++, e3.lookahead--, 0 === e3.strm.avail_out)
        return 1;
    } else
      e3.match_available = 1, e3.strstart++, e3.lookahead--;
  }
  return e3.match_available && (i3 = Gt(e3, 0, e3.window[e3.strstart - 1]), e3.match_available = 0), e3.insert = e3.strstart < 2 ? e3.strstart : 2, t6 === Wt ? (mn(e3, true), 0 === e3.strm.avail_out ? 3 : 4) : e3.sym_next && (mn(e3, false), 0 === e3.strm.avail_out) ? 1 : 2;
};
function kn(e3, t6, n3, i3, r3) {
  this.good_length = e3, this.max_lazy = t6, this.nice_length = n3, this.max_chain = i3, this.func = r3;
}
var In = [new kn(0, 0, 0, 0, An), new kn(4, 4, 8, 4, Cn), new kn(4, 5, 16, 8, Cn), new kn(4, 6, 32, 32, Cn), new kn(4, 4, 16, 16, On), new kn(8, 16, 32, 32, On), new kn(8, 16, 128, 128, On), new kn(8, 32, 128, 256, On), new kn(32, 128, 258, 1024, On), new kn(32, 258, 258, 4096, On)];
function Rn() {
  this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = cn, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new Uint16Array(1146), this.dyn_dtree = new Uint16Array(122), this.bl_tree = new Uint16Array(78), En(this.dyn_ltree), En(this.dyn_dtree), En(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new Uint16Array(16), this.heap = new Uint16Array(573), En(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new Uint16Array(573), En(this.depth), this.sym_buf = 0, this.lit_bufsize = 0, this.sym_next = 0, this.sym_end = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
}
var Dn = (e3) => {
  if (!e3)
    return 1;
  const t6 = e3.state;
  return !t6 || t6.strm !== e3 || t6.status !== hn && 57 !== t6.status && 69 !== t6.status && 73 !== t6.status && 91 !== t6.status && 103 !== t6.status && t6.status !== dn && t6.status !== _n ? 1 : 0;
};
var Ln = (e3) => {
  if (Dn(e3))
    return fn(e3, Xt);
  e3.total_in = e3.total_out = 0, e3.data_type = an;
  const t6 = e3.state;
  return t6.pending = 0, t6.pending_out = 0, t6.wrap < 0 && (t6.wrap = -t6.wrap), t6.status = 2 === t6.wrap ? 57 : t6.wrap ? hn : dn, e3.adler = 2 === t6.wrap ? 0 : 1, t6.last_flush = -2, zt(t6), Zt;
};
var xn = (e3) => {
  const t6 = Ln(e3);
  var n3;
  return t6 === Zt && ((n3 = e3.state).window_size = 2 * n3.w_size, En(n3.head), n3.max_lazy_match = In[n3.level].max_lazy, n3.good_match = In[n3.level].good_length, n3.nice_match = In[n3.level].nice_length, n3.max_chain_length = In[n3.level].max_chain, n3.strstart = 0, n3.block_start = 0, n3.lookahead = 0, n3.insert = 0, n3.match_length = n3.prev_length = 2, n3.match_available = 0, n3.ins_h = 0), t6;
};
var Un = (e3, t6, n3, i3, r3, o3) => {
  if (!e3)
    return Xt;
  let s4 = 1;
  if (t6 === en && (t6 = 6), i3 < 0 ? (s4 = 0, i3 = -i3) : i3 > 15 && (s4 = 2, i3 -= 16), r3 < 1 || r3 > 9 || n3 !== cn || i3 < 8 || i3 > 15 || t6 < 0 || t6 > 9 || o3 < 0 || o3 > on || 8 === i3 && 1 !== s4)
    return fn(e3, Xt);
  8 === i3 && (i3 = 9);
  const a3 = new Rn();
  return e3.state = a3, a3.strm = e3, a3.status = hn, a3.wrap = s4, a3.gzhead = null, a3.w_bits = i3, a3.w_size = 1 << a3.w_bits, a3.w_mask = a3.w_size - 1, a3.hash_bits = r3 + 7, a3.hash_size = 1 << a3.hash_bits, a3.hash_mask = a3.hash_size - 1, a3.hash_shift = ~~((a3.hash_bits + 3 - 1) / 3), a3.window = new Uint8Array(2 * a3.w_size), a3.head = new Uint16Array(a3.hash_size), a3.prev = new Uint16Array(a3.w_size), a3.lit_bufsize = 1 << r3 + 6, a3.pending_buf_size = 4 * a3.lit_bufsize, a3.pending_buf = new Uint8Array(a3.pending_buf_size), a3.sym_buf = a3.lit_bufsize, a3.sym_end = 3 * (a3.lit_bufsize - 1), a3.level = t6, a3.strategy = o3, a3.method = n3, xn(e3);
};
var Pn = { deflateInit: (e3, t6) => Un(e3, t6, cn, 15, 8, sn), deflateInit2: Un, deflateReset: xn, deflateResetKeep: Ln, deflateSetHeader: (e3, t6) => Dn(e3) || 2 !== e3.state.wrap ? Xt : (e3.state.gzhead = t6, Zt), deflate: (e3, t6) => {
  if (Dn(e3) || t6 > Qt || t6 < 0)
    return e3 ? fn(e3, Xt) : Xt;
  const n3 = e3.state;
  if (!e3.output || 0 !== e3.avail_in && !e3.input || n3.status === _n && t6 !== Wt)
    return fn(e3, 0 === e3.avail_out ? $t : Xt);
  const i3 = n3.last_flush;
  if (n3.last_flush = t6, 0 !== n3.pending) {
    if (bn(e3), 0 === e3.avail_out)
      return n3.last_flush = -1, Zt;
  } else if (0 === e3.avail_in && pn(t6) <= pn(i3) && t6 !== Wt)
    return fn(e3, $t);
  if (n3.status === _n && 0 !== e3.avail_in)
    return fn(e3, $t);
  if (n3.status === hn && 0 === n3.wrap && (n3.status = dn), n3.status === hn) {
    let t7 = cn + (n3.w_bits - 8 << 4) << 8, i4 = -1;
    if (i4 = n3.strategy >= nn || n3.level < 2 ? 0 : n3.level < 6 ? 1 : 6 === n3.level ? 2 : 3, t7 |= i4 << 6, 0 !== n3.strstart && (t7 |= 32), t7 += 31 - t7 % 31, wn(n3, t7), 0 !== n3.strstart && (wn(n3, e3.adler >>> 16), wn(n3, 65535 & e3.adler)), e3.adler = 1, n3.status = dn, bn(e3), 0 !== n3.pending)
      return n3.last_flush = -1, Zt;
  }
  if (57 === n3.status) {
    if (e3.adler = 0, yn(n3, 31), yn(n3, 139), yn(n3, 8), n3.gzhead)
      yn(n3, (n3.gzhead.text ? 1 : 0) + (n3.gzhead.hcrc ? 2 : 0) + (n3.gzhead.extra ? 4 : 0) + (n3.gzhead.name ? 8 : 0) + (n3.gzhead.comment ? 16 : 0)), yn(n3, 255 & n3.gzhead.time), yn(n3, n3.gzhead.time >> 8 & 255), yn(n3, n3.gzhead.time >> 16 & 255), yn(n3, n3.gzhead.time >> 24 & 255), yn(n3, 9 === n3.level ? 2 : n3.strategy >= nn || n3.level < 2 ? 4 : 0), yn(n3, 255 & n3.gzhead.os), n3.gzhead.extra && n3.gzhead.extra.length && (yn(n3, 255 & n3.gzhead.extra.length), yn(n3, n3.gzhead.extra.length >> 8 & 255)), n3.gzhead.hcrc && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending, 0)), n3.gzindex = 0, n3.status = 69;
    else if (yn(n3, 0), yn(n3, 0), yn(n3, 0), yn(n3, 0), yn(n3, 0), yn(n3, 9 === n3.level ? 2 : n3.strategy >= nn || n3.level < 2 ? 4 : 0), yn(n3, 3), n3.status = dn, bn(e3), 0 !== n3.pending)
      return n3.last_flush = -1, Zt;
  }
  if (69 === n3.status) {
    if (n3.gzhead.extra) {
      let t7 = n3.pending, i4 = (65535 & n3.gzhead.extra.length) - n3.gzindex;
      for (; n3.pending + i4 > n3.pending_buf_size; ) {
        let r4 = n3.pending_buf_size - n3.pending;
        if (n3.pending_buf.set(n3.gzhead.extra.subarray(n3.gzindex, n3.gzindex + r4), n3.pending), n3.pending = n3.pending_buf_size, n3.gzhead.hcrc && n3.pending > t7 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - t7, t7)), n3.gzindex += r4, bn(e3), 0 !== n3.pending)
          return n3.last_flush = -1, Zt;
        t7 = 0, i4 -= r4;
      }
      let r3 = new Uint8Array(n3.gzhead.extra);
      n3.pending_buf.set(r3.subarray(n3.gzindex, n3.gzindex + i4), n3.pending), n3.pending += i4, n3.gzhead.hcrc && n3.pending > t7 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - t7, t7)), n3.gzindex = 0;
    }
    n3.status = 73;
  }
  if (73 === n3.status) {
    if (n3.gzhead.name) {
      let t7, i4 = n3.pending;
      do {
        if (n3.pending === n3.pending_buf_size) {
          if (n3.gzhead.hcrc && n3.pending > i4 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - i4, i4)), bn(e3), 0 !== n3.pending)
            return n3.last_flush = -1, Zt;
          i4 = 0;
        }
        t7 = n3.gzindex < n3.gzhead.name.length ? 255 & n3.gzhead.name.charCodeAt(n3.gzindex++) : 0, yn(n3, t7);
      } while (0 !== t7);
      n3.gzhead.hcrc && n3.pending > i4 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - i4, i4)), n3.gzindex = 0;
    }
    n3.status = 91;
  }
  if (91 === n3.status) {
    if (n3.gzhead.comment) {
      let t7, i4 = n3.pending;
      do {
        if (n3.pending === n3.pending_buf_size) {
          if (n3.gzhead.hcrc && n3.pending > i4 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - i4, i4)), bn(e3), 0 !== n3.pending)
            return n3.last_flush = -1, Zt;
          i4 = 0;
        }
        t7 = n3.gzindex < n3.gzhead.comment.length ? 255 & n3.gzhead.comment.charCodeAt(n3.gzindex++) : 0, yn(n3, t7);
      } while (0 !== t7);
      n3.gzhead.hcrc && n3.pending > i4 && (e3.adler = Pt(e3.adler, n3.pending_buf, n3.pending - i4, i4));
    }
    n3.status = 103;
  }
  if (103 === n3.status) {
    if (n3.gzhead.hcrc) {
      if (n3.pending + 2 > n3.pending_buf_size && (bn(e3), 0 !== n3.pending))
        return n3.last_flush = -1, Zt;
      yn(n3, 255 & e3.adler), yn(n3, e3.adler >> 8 & 255), e3.adler = 0;
    }
    if (n3.status = dn, bn(e3), 0 !== n3.pending)
      return n3.last_flush = -1, Zt;
  }
  if (0 !== e3.avail_in || 0 !== n3.lookahead || t6 !== jt && n3.status !== _n) {
    let i4 = 0 === n3.level ? An(n3, t6) : n3.strategy === nn ? ((e4, t7) => {
      let n4;
      for (; ; ) {
        if (0 === e4.lookahead && (Sn(e4), 0 === e4.lookahead)) {
          if (t7 === jt)
            return 1;
          break;
        }
        if (e4.match_length = 0, n4 = Gt(e4, 0, e4.window[e4.strstart]), e4.lookahead--, e4.strstart++, n4 && (mn(e4, false), 0 === e4.strm.avail_out))
          return 1;
      }
      return e4.insert = 0, t7 === Wt ? (mn(e4, true), 0 === e4.strm.avail_out ? 3 : 4) : e4.sym_next && (mn(e4, false), 0 === e4.strm.avail_out) ? 1 : 2;
    })(n3, t6) : n3.strategy === rn ? ((e4, t7) => {
      let n4, i5, r3, o3;
      const s4 = e4.window;
      for (; ; ) {
        if (e4.lookahead <= un) {
          if (Sn(e4), e4.lookahead <= un && t7 === jt)
            return 1;
          if (0 === e4.lookahead)
            break;
        }
        if (e4.match_length = 0, e4.lookahead >= 3 && e4.strstart > 0 && (r3 = e4.strstart - 1, i5 = s4[r3], i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3])) {
          o3 = e4.strstart + un;
          do {
          } while (i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && i5 === s4[++r3] && r3 < o3);
          e4.match_length = un - (o3 - r3), e4.match_length > e4.lookahead && (e4.match_length = e4.lookahead);
        }
        if (e4.match_length >= 3 ? (n4 = Gt(e4, 1, e4.match_length - 3), e4.lookahead -= e4.match_length, e4.strstart += e4.match_length, e4.match_length = 0) : (n4 = Gt(e4, 0, e4.window[e4.strstart]), e4.lookahead--, e4.strstart++), n4 && (mn(e4, false), 0 === e4.strm.avail_out))
          return 1;
      }
      return e4.insert = 0, t7 === Wt ? (mn(e4, true), 0 === e4.strm.avail_out ? 3 : 4) : e4.sym_next && (mn(e4, false), 0 === e4.strm.avail_out) ? 1 : 2;
    })(n3, t6) : In[n3.level].func(n3, t6);
    if (3 !== i4 && 4 !== i4 || (n3.status = _n), 1 === i4 || 3 === i4)
      return 0 === e3.avail_out && (n3.last_flush = -1), Zt;
    if (2 === i4 && (t6 === Kt ? qt(n3) : t6 !== Qt && (Vt(n3, 0, 0, false), t6 === Bt && (En(n3.head), 0 === n3.lookahead && (n3.strstart = 0, n3.block_start = 0, n3.insert = 0))), bn(e3), 0 === e3.avail_out))
      return n3.last_flush = -1, Zt;
  }
  return t6 !== Wt ? Zt : n3.wrap <= 0 ? Yt : (2 === n3.wrap ? (yn(n3, 255 & e3.adler), yn(n3, e3.adler >> 8 & 255), yn(n3, e3.adler >> 16 & 255), yn(n3, e3.adler >> 24 & 255), yn(n3, 255 & e3.total_in), yn(n3, e3.total_in >> 8 & 255), yn(n3, e3.total_in >> 16 & 255), yn(n3, e3.total_in >> 24 & 255)) : (wn(n3, e3.adler >>> 16), wn(n3, 65535 & e3.adler)), bn(e3), n3.wrap > 0 && (n3.wrap = -n3.wrap), 0 !== n3.pending ? Zt : Yt);
}, deflateEnd: (e3) => {
  if (Dn(e3))
    return Xt;
  const t6 = e3.state.status;
  return e3.state = null, t6 === dn ? fn(e3, Jt) : Zt;
}, deflateSetDictionary: (e3, t6) => {
  let n3 = t6.length;
  if (Dn(e3))
    return Xt;
  const i3 = e3.state, r3 = i3.wrap;
  if (2 === r3 || 1 === r3 && i3.status !== hn || i3.lookahead)
    return Xt;
  if (1 === r3 && (e3.adler = xt(e3.adler, t6, n3, 0)), i3.wrap = 0, n3 >= i3.w_size) {
    0 === r3 && (En(i3.head), i3.strstart = 0, i3.block_start = 0, i3.insert = 0);
    let e4 = new Uint8Array(i3.w_size);
    e4.set(t6.subarray(n3 - i3.w_size, n3), 0), t6 = e4, n3 = i3.w_size;
  }
  const o3 = e3.avail_in, s4 = e3.next_in, a3 = e3.input;
  for (e3.avail_in = n3, e3.next_in = 0, e3.input = t6, Sn(i3); i3.lookahead >= 3; ) {
    let e4 = i3.strstart, t7 = i3.lookahead - 2;
    do {
      i3.ins_h = gn(i3, i3.ins_h, i3.window[e4 + 3 - 1]), i3.prev[e4 & i3.w_mask] = i3.head[i3.ins_h], i3.head[i3.ins_h] = e4, e4++;
    } while (--t7);
    i3.strstart = e4, i3.lookahead = 2, Sn(i3);
  }
  return i3.strstart += i3.lookahead, i3.block_start = i3.strstart, i3.insert = i3.lookahead, i3.lookahead = 0, i3.match_length = i3.prev_length = 2, i3.match_available = 0, e3.next_in = s4, e3.input = a3, e3.avail_in = o3, i3.wrap = r3, Zt;
}, deflateInfo: "pako deflate (from Nodeca project)" };
var Mn = (e3, t6) => Object.prototype.hasOwnProperty.call(e3, t6);
var Fn = { assign: function(e3) {
  const t6 = Array.prototype.slice.call(arguments, 1);
  for (; t6.length; ) {
    const n3 = t6.shift();
    if (n3) {
      if ("object" != typeof n3)
        throw new TypeError(n3 + "must be non-object");
      for (const t7 in n3)
        Mn(n3, t7) && (e3[t7] = n3[t7]);
    }
  }
  return e3;
}, flattenChunks: (e3) => {
  let t6 = 0;
  for (let n4 = 0, i3 = e3.length; n4 < i3; n4++)
    t6 += e3[n4].length;
  const n3 = new Uint8Array(t6);
  for (let t7 = 0, i3 = 0, r3 = e3.length; t7 < r3; t7++) {
    let r4 = e3[t7];
    n3.set(r4, i3), i3 += r4.length;
  }
  return n3;
} };
var zn = true;
try {
  String.fromCharCode.apply(null, new Uint8Array(1));
} catch (e3) {
  zn = false;
}
var Vn = new Uint8Array(256);
for (let e3 = 0; e3 < 256; e3++)
  Vn[e3] = e3 >= 252 ? 6 : e3 >= 248 ? 5 : e3 >= 240 ? 4 : e3 >= 224 ? 3 : e3 >= 192 ? 2 : 1;
Vn[254] = Vn[254] = 1;
var Hn = { string2buf: (e3) => {
  if ("function" == typeof TextEncoder && TextEncoder.prototype.encode)
    return new TextEncoder().encode(e3);
  let t6, n3, i3, r3, o3, s4 = e3.length, a3 = 0;
  for (r3 = 0; r3 < s4; r3++)
    n3 = e3.charCodeAt(r3), 55296 == (64512 & n3) && r3 + 1 < s4 && (i3 = e3.charCodeAt(r3 + 1), 56320 == (64512 & i3) && (n3 = 65536 + (n3 - 55296 << 10) + (i3 - 56320), r3++)), a3 += n3 < 128 ? 1 : n3 < 2048 ? 2 : n3 < 65536 ? 3 : 4;
  for (t6 = new Uint8Array(a3), o3 = 0, r3 = 0; o3 < a3; r3++)
    n3 = e3.charCodeAt(r3), 55296 == (64512 & n3) && r3 + 1 < s4 && (i3 = e3.charCodeAt(r3 + 1), 56320 == (64512 & i3) && (n3 = 65536 + (n3 - 55296 << 10) + (i3 - 56320), r3++)), n3 < 128 ? t6[o3++] = n3 : n3 < 2048 ? (t6[o3++] = 192 | n3 >>> 6, t6[o3++] = 128 | 63 & n3) : n3 < 65536 ? (t6[o3++] = 224 | n3 >>> 12, t6[o3++] = 128 | n3 >>> 6 & 63, t6[o3++] = 128 | 63 & n3) : (t6[o3++] = 240 | n3 >>> 18, t6[o3++] = 128 | n3 >>> 12 & 63, t6[o3++] = 128 | n3 >>> 6 & 63, t6[o3++] = 128 | 63 & n3);
  return t6;
}, buf2string: (e3, t6) => {
  const n3 = t6 || e3.length;
  if ("function" == typeof TextDecoder && TextDecoder.prototype.decode)
    return new TextDecoder().decode(e3.subarray(0, t6));
  let i3, r3;
  const o3 = new Array(2 * n3);
  for (r3 = 0, i3 = 0; i3 < n3; ) {
    let t7 = e3[i3++];
    if (t7 < 128) {
      o3[r3++] = t7;
      continue;
    }
    let s4 = Vn[t7];
    if (s4 > 4)
      o3[r3++] = 65533, i3 += s4 - 1;
    else {
      for (t7 &= 2 === s4 ? 31 : 3 === s4 ? 15 : 7; s4 > 1 && i3 < n3; )
        t7 = t7 << 6 | 63 & e3[i3++], s4--;
      s4 > 1 ? o3[r3++] = 65533 : t7 < 65536 ? o3[r3++] = t7 : (t7 -= 65536, o3[r3++] = 55296 | t7 >> 10 & 1023, o3[r3++] = 56320 | 1023 & t7);
    }
  }
  return ((e4, t7) => {
    if (t7 < 65534 && e4.subarray && zn)
      return String.fromCharCode.apply(null, e4.length === t7 ? e4 : e4.subarray(0, t7));
    let n4 = "";
    for (let i4 = 0; i4 < t7; i4++)
      n4 += String.fromCharCode(e4[i4]);
    return n4;
  })(o3, r3);
}, utf8border: (e3, t6) => {
  (t6 = t6 || e3.length) > e3.length && (t6 = e3.length);
  let n3 = t6 - 1;
  for (; n3 >= 0 && 128 == (192 & e3[n3]); )
    n3--;
  return n3 < 0 || 0 === n3 ? t6 : n3 + Vn[e3[n3]] > t6 ? n3 : t6;
} };
var Gn = function() {
  this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
};
var qn = Object.prototype.toString;
var { Z_NO_FLUSH: jn, Z_SYNC_FLUSH: Kn, Z_FULL_FLUSH: Bn, Z_FINISH: Wn, Z_OK: Qn, Z_STREAM_END: Zn, Z_DEFAULT_COMPRESSION: Yn, Z_DEFAULT_STRATEGY: Xn, Z_DEFLATED: Jn } = Ft;
function $n(e3) {
  this.options = Fn.assign({ level: Yn, method: Jn, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: Xn }, e3 || {});
  let t6 = this.options;
  t6.raw && t6.windowBits > 0 ? t6.windowBits = -t6.windowBits : t6.gzip && t6.windowBits > 0 && t6.windowBits < 16 && (t6.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new Gn(), this.strm.avail_out = 0;
  let n3 = Pn.deflateInit2(this.strm, t6.level, t6.method, t6.windowBits, t6.memLevel, t6.strategy);
  if (n3 !== Qn)
    throw new Error(Mt[n3]);
  if (t6.header && Pn.deflateSetHeader(this.strm, t6.header), t6.dictionary) {
    let e4;
    if (e4 = "string" == typeof t6.dictionary ? Hn.string2buf(t6.dictionary) : "[object ArrayBuffer]" === qn.call(t6.dictionary) ? new Uint8Array(t6.dictionary) : t6.dictionary, n3 = Pn.deflateSetDictionary(this.strm, e4), n3 !== Qn)
      throw new Error(Mt[n3]);
    this._dict_set = true;
  }
}
function ei(e3, t6) {
  const n3 = new $n(t6);
  if (n3.push(e3, true), n3.err)
    throw n3.msg || Mt[n3.err];
  return n3.result;
}
$n.prototype.push = function(e3, t6) {
  const n3 = this.strm, i3 = this.options.chunkSize;
  let r3, o3;
  if (this.ended)
    return false;
  for (o3 = t6 === ~~t6 ? t6 : true === t6 ? Wn : jn, "string" == typeof e3 ? n3.input = Hn.string2buf(e3) : "[object ArrayBuffer]" === qn.call(e3) ? n3.input = new Uint8Array(e3) : n3.input = e3, n3.next_in = 0, n3.avail_in = n3.input.length; ; )
    if (0 === n3.avail_out && (n3.output = new Uint8Array(i3), n3.next_out = 0, n3.avail_out = i3), (o3 === Kn || o3 === Bn) && n3.avail_out <= 6)
      this.onData(n3.output.subarray(0, n3.next_out)), n3.avail_out = 0;
    else {
      if (r3 = Pn.deflate(n3, o3), r3 === Zn)
        return n3.next_out > 0 && this.onData(n3.output.subarray(0, n3.next_out)), r3 = Pn.deflateEnd(this.strm), this.onEnd(r3), this.ended = true, r3 === Qn;
      if (0 !== n3.avail_out) {
        if (o3 > 0 && n3.next_out > 0)
          this.onData(n3.output.subarray(0, n3.next_out)), n3.avail_out = 0;
        else if (0 === n3.avail_in)
          break;
      } else
        this.onData(n3.output);
    }
  return true;
}, $n.prototype.onData = function(e3) {
  this.chunks.push(e3);
}, $n.prototype.onEnd = function(e3) {
  e3 === Qn && (this.result = Fn.flattenChunks(this.chunks)), this.chunks = [], this.err = e3, this.msg = this.strm.msg;
};
var ti = { Deflate: $n, deflate: ei, deflateRaw: function(e3, t6) {
  return (t6 = t6 || {}).raw = true, ei(e3, t6);
}, gzip: function(e3, t6) {
  return (t6 = t6 || {}).gzip = true, ei(e3, t6);
}, constants: Ft };
var ni = 16209;
var ii = function(e3, t6) {
  let n3, i3, r3, o3, s4, a3, c3, u3, l3, h3, d3, _2, f4, p5, E3, v5, g4, b4, m4, y3, w3, N3, T4, S4;
  const A4 = e3.state;
  n3 = e3.next_in, T4 = e3.input, i3 = n3 + (e3.avail_in - 5), r3 = e3.next_out, S4 = e3.output, o3 = r3 - (t6 - e3.avail_out), s4 = r3 + (e3.avail_out - 257), a3 = A4.dmax, c3 = A4.wsize, u3 = A4.whave, l3 = A4.wnext, h3 = A4.window, d3 = A4.hold, _2 = A4.bits, f4 = A4.lencode, p5 = A4.distcode, E3 = (1 << A4.lenbits) - 1, v5 = (1 << A4.distbits) - 1;
  e:
    do {
      _2 < 15 && (d3 += T4[n3++] << _2, _2 += 8, d3 += T4[n3++] << _2, _2 += 8), g4 = f4[d3 & E3];
      t:
        for (; ; ) {
          if (b4 = g4 >>> 24, d3 >>>= b4, _2 -= b4, b4 = g4 >>> 16 & 255, 0 === b4)
            S4[r3++] = 65535 & g4;
          else {
            if (!(16 & b4)) {
              if (0 == (64 & b4)) {
                g4 = f4[(65535 & g4) + (d3 & (1 << b4) - 1)];
                continue t;
              }
              if (32 & b4) {
                A4.mode = 16191;
                break e;
              }
              e3.msg = "invalid literal/length code", A4.mode = ni;
              break e;
            }
            m4 = 65535 & g4, b4 &= 15, b4 && (_2 < b4 && (d3 += T4[n3++] << _2, _2 += 8), m4 += d3 & (1 << b4) - 1, d3 >>>= b4, _2 -= b4), _2 < 15 && (d3 += T4[n3++] << _2, _2 += 8, d3 += T4[n3++] << _2, _2 += 8), g4 = p5[d3 & v5];
            n:
              for (; ; ) {
                if (b4 = g4 >>> 24, d3 >>>= b4, _2 -= b4, b4 = g4 >>> 16 & 255, !(16 & b4)) {
                  if (0 == (64 & b4)) {
                    g4 = p5[(65535 & g4) + (d3 & (1 << b4) - 1)];
                    continue n;
                  }
                  e3.msg = "invalid distance code", A4.mode = ni;
                  break e;
                }
                if (y3 = 65535 & g4, b4 &= 15, _2 < b4 && (d3 += T4[n3++] << _2, _2 += 8, _2 < b4 && (d3 += T4[n3++] << _2, _2 += 8)), y3 += d3 & (1 << b4) - 1, y3 > a3) {
                  e3.msg = "invalid distance too far back", A4.mode = ni;
                  break e;
                }
                if (d3 >>>= b4, _2 -= b4, b4 = r3 - o3, y3 > b4) {
                  if (b4 = y3 - b4, b4 > u3 && A4.sane) {
                    e3.msg = "invalid distance too far back", A4.mode = ni;
                    break e;
                  }
                  if (w3 = 0, N3 = h3, 0 === l3) {
                    if (w3 += c3 - b4, b4 < m4) {
                      m4 -= b4;
                      do {
                        S4[r3++] = h3[w3++];
                      } while (--b4);
                      w3 = r3 - y3, N3 = S4;
                    }
                  } else if (l3 < b4) {
                    if (w3 += c3 + l3 - b4, b4 -= l3, b4 < m4) {
                      m4 -= b4;
                      do {
                        S4[r3++] = h3[w3++];
                      } while (--b4);
                      if (w3 = 0, l3 < m4) {
                        b4 = l3, m4 -= b4;
                        do {
                          S4[r3++] = h3[w3++];
                        } while (--b4);
                        w3 = r3 - y3, N3 = S4;
                      }
                    }
                  } else if (w3 += l3 - b4, b4 < m4) {
                    m4 -= b4;
                    do {
                      S4[r3++] = h3[w3++];
                    } while (--b4);
                    w3 = r3 - y3, N3 = S4;
                  }
                  for (; m4 > 2; )
                    S4[r3++] = N3[w3++], S4[r3++] = N3[w3++], S4[r3++] = N3[w3++], m4 -= 3;
                  m4 && (S4[r3++] = N3[w3++], m4 > 1 && (S4[r3++] = N3[w3++]));
                } else {
                  w3 = r3 - y3;
                  do {
                    S4[r3++] = S4[w3++], S4[r3++] = S4[w3++], S4[r3++] = S4[w3++], m4 -= 3;
                  } while (m4 > 2);
                  m4 && (S4[r3++] = S4[w3++], m4 > 1 && (S4[r3++] = S4[w3++]));
                }
                break;
              }
          }
          break;
        }
    } while (n3 < i3 && r3 < s4);
  m4 = _2 >> 3, n3 -= m4, _2 -= m4 << 3, d3 &= (1 << _2) - 1, e3.next_in = n3, e3.next_out = r3, e3.avail_in = n3 < i3 ? i3 - n3 + 5 : 5 - (n3 - i3), e3.avail_out = r3 < s4 ? s4 - r3 + 257 : 257 - (r3 - s4), A4.hold = d3, A4.bits = _2;
};
var ri = 15;
var oi = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]);
var si = new Uint8Array([16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]);
var ai = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]);
var ci = new Uint8Array([16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]);
var ui = (e3, t6, n3, i3, r3, o3, s4, a3) => {
  const c3 = a3.bits;
  let u3, l3, h3, d3, _2, f4, p5 = 0, E3 = 0, v5 = 0, g4 = 0, b4 = 0, m4 = 0, y3 = 0, w3 = 0, N3 = 0, T4 = 0, S4 = null;
  const A4 = new Uint16Array(16), C3 = new Uint16Array(16);
  let O3, k2, I4, R3 = null;
  for (p5 = 0; p5 <= ri; p5++)
    A4[p5] = 0;
  for (E3 = 0; E3 < i3; E3++)
    A4[t6[n3 + E3]]++;
  for (b4 = c3, g4 = ri; g4 >= 1 && 0 === A4[g4]; g4--)
    ;
  if (b4 > g4 && (b4 = g4), 0 === g4)
    return r3[o3++] = 20971520, r3[o3++] = 20971520, a3.bits = 1, 0;
  for (v5 = 1; v5 < g4 && 0 === A4[v5]; v5++)
    ;
  for (b4 < v5 && (b4 = v5), w3 = 1, p5 = 1; p5 <= ri; p5++)
    if (w3 <<= 1, w3 -= A4[p5], w3 < 0)
      return -1;
  if (w3 > 0 && (0 === e3 || 1 !== g4))
    return -1;
  for (C3[1] = 0, p5 = 1; p5 < ri; p5++)
    C3[p5 + 1] = C3[p5] + A4[p5];
  for (E3 = 0; E3 < i3; E3++)
    0 !== t6[n3 + E3] && (s4[C3[t6[n3 + E3]]++] = E3);
  if (0 === e3 ? (S4 = R3 = s4, f4 = 20) : 1 === e3 ? (S4 = oi, R3 = si, f4 = 257) : (S4 = ai, R3 = ci, f4 = 0), T4 = 0, E3 = 0, p5 = v5, _2 = o3, m4 = b4, y3 = 0, h3 = -1, N3 = 1 << b4, d3 = N3 - 1, 1 === e3 && N3 > 852 || 2 === e3 && N3 > 592)
    return 1;
  for (; ; ) {
    O3 = p5 - y3, s4[E3] + 1 < f4 ? (k2 = 0, I4 = s4[E3]) : s4[E3] >= f4 ? (k2 = R3[s4[E3] - f4], I4 = S4[s4[E3] - f4]) : (k2 = 96, I4 = 0), u3 = 1 << p5 - y3, l3 = 1 << m4, v5 = l3;
    do {
      l3 -= u3, r3[_2 + (T4 >> y3) + l3] = O3 << 24 | k2 << 16 | I4 | 0;
    } while (0 !== l3);
    for (u3 = 1 << p5 - 1; T4 & u3; )
      u3 >>= 1;
    if (0 !== u3 ? (T4 &= u3 - 1, T4 += u3) : T4 = 0, E3++, 0 == --A4[p5]) {
      if (p5 === g4)
        break;
      p5 = t6[n3 + s4[E3]];
    }
    if (p5 > b4 && (T4 & d3) !== h3) {
      for (0 === y3 && (y3 = b4), _2 += v5, m4 = p5 - y3, w3 = 1 << m4; m4 + y3 < g4 && (w3 -= A4[m4 + y3], !(w3 <= 0)); )
        m4++, w3 <<= 1;
      if (N3 += 1 << m4, 1 === e3 && N3 > 852 || 2 === e3 && N3 > 592)
        return 1;
      h3 = T4 & d3, r3[h3] = b4 << 24 | m4 << 16 | _2 - o3 | 0;
    }
  }
  return 0 !== T4 && (r3[_2 + T4] = p5 - y3 << 24 | 64 << 16 | 0), a3.bits = b4, 0;
};
var { Z_FINISH: li, Z_BLOCK: hi, Z_TREES: di, Z_OK: _i, Z_STREAM_END: fi, Z_NEED_DICT: pi, Z_STREAM_ERROR: Ei, Z_DATA_ERROR: vi, Z_MEM_ERROR: gi, Z_BUF_ERROR: bi, Z_DEFLATED: mi } = Ft;
var yi = 16180;
var wi = 16190;
var Ni = 16191;
var Ti = 16192;
var Si = 16194;
var Ai = 16199;
var Ci = 16200;
var Oi = 16206;
var ki = 16209;
var Ii = (e3) => (e3 >>> 24 & 255) + (e3 >>> 8 & 65280) + ((65280 & e3) << 8) + ((255 & e3) << 24);
function Ri() {
  this.strm = null, this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new Uint16Array(320), this.work = new Uint16Array(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
}
var Di = (e3) => {
  if (!e3)
    return 1;
  const t6 = e3.state;
  return !t6 || t6.strm !== e3 || t6.mode < yi || t6.mode > 16211 ? 1 : 0;
};
var Li = (e3) => {
  if (Di(e3))
    return Ei;
  const t6 = e3.state;
  return e3.total_in = e3.total_out = t6.total = 0, e3.msg = "", t6.wrap && (e3.adler = 1 & t6.wrap), t6.mode = yi, t6.last = 0, t6.havedict = 0, t6.flags = -1, t6.dmax = 32768, t6.head = null, t6.hold = 0, t6.bits = 0, t6.lencode = t6.lendyn = new Int32Array(852), t6.distcode = t6.distdyn = new Int32Array(592), t6.sane = 1, t6.back = -1, _i;
};
var xi = (e3) => {
  if (Di(e3))
    return Ei;
  const t6 = e3.state;
  return t6.wsize = 0, t6.whave = 0, t6.wnext = 0, Li(e3);
};
var Ui = (e3, t6) => {
  let n3;
  if (Di(e3))
    return Ei;
  const i3 = e3.state;
  return t6 < 0 ? (n3 = 0, t6 = -t6) : (n3 = 5 + (t6 >> 4), t6 < 48 && (t6 &= 15)), t6 && (t6 < 8 || t6 > 15) ? Ei : (null !== i3.window && i3.wbits !== t6 && (i3.window = null), i3.wrap = n3, i3.wbits = t6, xi(e3));
};
var Pi = (e3, t6) => {
  if (!e3)
    return Ei;
  const n3 = new Ri();
  e3.state = n3, n3.strm = e3, n3.window = null, n3.mode = yi;
  const i3 = Ui(e3, t6);
  return i3 !== _i && (e3.state = null), i3;
};
var Mi;
var Fi;
var zi = true;
var Vi = (e3) => {
  if (zi) {
    Mi = new Int32Array(512), Fi = new Int32Array(32);
    let t6 = 0;
    for (; t6 < 144; )
      e3.lens[t6++] = 8;
    for (; t6 < 256; )
      e3.lens[t6++] = 9;
    for (; t6 < 280; )
      e3.lens[t6++] = 7;
    for (; t6 < 288; )
      e3.lens[t6++] = 8;
    for (ui(1, e3.lens, 0, 288, Mi, 0, e3.work, { bits: 9 }), t6 = 0; t6 < 32; )
      e3.lens[t6++] = 5;
    ui(2, e3.lens, 0, 32, Fi, 0, e3.work, { bits: 5 }), zi = false;
  }
  e3.lencode = Mi, e3.lenbits = 9, e3.distcode = Fi, e3.distbits = 5;
};
var Hi = (e3, t6, n3, i3) => {
  let r3;
  const o3 = e3.state;
  return null === o3.window && (o3.wsize = 1 << o3.wbits, o3.wnext = 0, o3.whave = 0, o3.window = new Uint8Array(o3.wsize)), i3 >= o3.wsize ? (o3.window.set(t6.subarray(n3 - o3.wsize, n3), 0), o3.wnext = 0, o3.whave = o3.wsize) : (r3 = o3.wsize - o3.wnext, r3 > i3 && (r3 = i3), o3.window.set(t6.subarray(n3 - i3, n3 - i3 + r3), o3.wnext), (i3 -= r3) ? (o3.window.set(t6.subarray(n3 - i3, n3), 0), o3.wnext = i3, o3.whave = o3.wsize) : (o3.wnext += r3, o3.wnext === o3.wsize && (o3.wnext = 0), o3.whave < o3.wsize && (o3.whave += r3))), 0;
};
var Gi = { inflateReset: xi, inflateReset2: Ui, inflateResetKeep: Li, inflateInit: (e3) => Pi(e3, 15), inflateInit2: Pi, inflate: (e3, t6) => {
  let n3, i3, r3, o3, s4, a3, c3, u3, l3, h3, d3, _2, f4, p5, E3, v5, g4, b4, m4, y3, w3, N3, T4 = 0;
  const S4 = new Uint8Array(4);
  let A4, C3;
  const O3 = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
  if (Di(e3) || !e3.output || !e3.input && 0 !== e3.avail_in)
    return Ei;
  n3 = e3.state, n3.mode === Ni && (n3.mode = Ti), s4 = e3.next_out, r3 = e3.output, c3 = e3.avail_out, o3 = e3.next_in, i3 = e3.input, a3 = e3.avail_in, u3 = n3.hold, l3 = n3.bits, h3 = a3, d3 = c3, N3 = _i;
  e:
    for (; ; )
      switch (n3.mode) {
        case yi:
          if (0 === n3.wrap) {
            n3.mode = Ti;
            break;
          }
          for (; l3 < 16; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if (2 & n3.wrap && 35615 === u3) {
            0 === n3.wbits && (n3.wbits = 15), n3.check = 0, S4[0] = 255 & u3, S4[1] = u3 >>> 8 & 255, n3.check = Pt(n3.check, S4, 2, 0), u3 = 0, l3 = 0, n3.mode = 16181;
            break;
          }
          if (n3.head && (n3.head.done = false), !(1 & n3.wrap) || (((255 & u3) << 8) + (u3 >> 8)) % 31) {
            e3.msg = "incorrect header check", n3.mode = ki;
            break;
          }
          if ((15 & u3) !== mi) {
            e3.msg = "unknown compression method", n3.mode = ki;
            break;
          }
          if (u3 >>>= 4, l3 -= 4, w3 = 8 + (15 & u3), 0 === n3.wbits && (n3.wbits = w3), w3 > 15 || w3 > n3.wbits) {
            e3.msg = "invalid window size", n3.mode = ki;
            break;
          }
          n3.dmax = 1 << n3.wbits, n3.flags = 0, e3.adler = n3.check = 1, n3.mode = 512 & u3 ? 16189 : Ni, u3 = 0, l3 = 0;
          break;
        case 16181:
          for (; l3 < 16; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if (n3.flags = u3, (255 & n3.flags) !== mi) {
            e3.msg = "unknown compression method", n3.mode = ki;
            break;
          }
          if (57344 & n3.flags) {
            e3.msg = "unknown header flags set", n3.mode = ki;
            break;
          }
          n3.head && (n3.head.text = u3 >> 8 & 1), 512 & n3.flags && 4 & n3.wrap && (S4[0] = 255 & u3, S4[1] = u3 >>> 8 & 255, n3.check = Pt(n3.check, S4, 2, 0)), u3 = 0, l3 = 0, n3.mode = 16182;
        case 16182:
          for (; l3 < 32; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          n3.head && (n3.head.time = u3), 512 & n3.flags && 4 & n3.wrap && (S4[0] = 255 & u3, S4[1] = u3 >>> 8 & 255, S4[2] = u3 >>> 16 & 255, S4[3] = u3 >>> 24 & 255, n3.check = Pt(n3.check, S4, 4, 0)), u3 = 0, l3 = 0, n3.mode = 16183;
        case 16183:
          for (; l3 < 16; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          n3.head && (n3.head.xflags = 255 & u3, n3.head.os = u3 >> 8), 512 & n3.flags && 4 & n3.wrap && (S4[0] = 255 & u3, S4[1] = u3 >>> 8 & 255, n3.check = Pt(n3.check, S4, 2, 0)), u3 = 0, l3 = 0, n3.mode = 16184;
        case 16184:
          if (1024 & n3.flags) {
            for (; l3 < 16; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            n3.length = u3, n3.head && (n3.head.extra_len = u3), 512 & n3.flags && 4 & n3.wrap && (S4[0] = 255 & u3, S4[1] = u3 >>> 8 & 255, n3.check = Pt(n3.check, S4, 2, 0)), u3 = 0, l3 = 0;
          } else
            n3.head && (n3.head.extra = null);
          n3.mode = 16185;
        case 16185:
          if (1024 & n3.flags && (_2 = n3.length, _2 > a3 && (_2 = a3), _2 && (n3.head && (w3 = n3.head.extra_len - n3.length, n3.head.extra || (n3.head.extra = new Uint8Array(n3.head.extra_len)), n3.head.extra.set(i3.subarray(o3, o3 + _2), w3)), 512 & n3.flags && 4 & n3.wrap && (n3.check = Pt(n3.check, i3, _2, o3)), a3 -= _2, o3 += _2, n3.length -= _2), n3.length))
            break e;
          n3.length = 0, n3.mode = 16186;
        case 16186:
          if (2048 & n3.flags) {
            if (0 === a3)
              break e;
            _2 = 0;
            do {
              w3 = i3[o3 + _2++], n3.head && w3 && n3.length < 65536 && (n3.head.name += String.fromCharCode(w3));
            } while (w3 && _2 < a3);
            if (512 & n3.flags && 4 & n3.wrap && (n3.check = Pt(n3.check, i3, _2, o3)), a3 -= _2, o3 += _2, w3)
              break e;
          } else
            n3.head && (n3.head.name = null);
          n3.length = 0, n3.mode = 16187;
        case 16187:
          if (4096 & n3.flags) {
            if (0 === a3)
              break e;
            _2 = 0;
            do {
              w3 = i3[o3 + _2++], n3.head && w3 && n3.length < 65536 && (n3.head.comment += String.fromCharCode(w3));
            } while (w3 && _2 < a3);
            if (512 & n3.flags && 4 & n3.wrap && (n3.check = Pt(n3.check, i3, _2, o3)), a3 -= _2, o3 += _2, w3)
              break e;
          } else
            n3.head && (n3.head.comment = null);
          n3.mode = 16188;
        case 16188:
          if (512 & n3.flags) {
            for (; l3 < 16; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            if (4 & n3.wrap && u3 !== (65535 & n3.check)) {
              e3.msg = "header crc mismatch", n3.mode = ki;
              break;
            }
            u3 = 0, l3 = 0;
          }
          n3.head && (n3.head.hcrc = n3.flags >> 9 & 1, n3.head.done = true), e3.adler = n3.check = 0, n3.mode = Ni;
          break;
        case 16189:
          for (; l3 < 32; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          e3.adler = n3.check = Ii(u3), u3 = 0, l3 = 0, n3.mode = wi;
        case wi:
          if (0 === n3.havedict)
            return e3.next_out = s4, e3.avail_out = c3, e3.next_in = o3, e3.avail_in = a3, n3.hold = u3, n3.bits = l3, pi;
          e3.adler = n3.check = 1, n3.mode = Ni;
        case Ni:
          if (t6 === hi || t6 === di)
            break e;
        case Ti:
          if (n3.last) {
            u3 >>>= 7 & l3, l3 -= 7 & l3, n3.mode = Oi;
            break;
          }
          for (; l3 < 3; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          switch (n3.last = 1 & u3, u3 >>>= 1, l3 -= 1, 3 & u3) {
            case 0:
              n3.mode = 16193;
              break;
            case 1:
              if (Vi(n3), n3.mode = Ai, t6 === di) {
                u3 >>>= 2, l3 -= 2;
                break e;
              }
              break;
            case 2:
              n3.mode = 16196;
              break;
            case 3:
              e3.msg = "invalid block type", n3.mode = ki;
          }
          u3 >>>= 2, l3 -= 2;
          break;
        case 16193:
          for (u3 >>>= 7 & l3, l3 -= 7 & l3; l3 < 32; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if ((65535 & u3) != (u3 >>> 16 ^ 65535)) {
            e3.msg = "invalid stored block lengths", n3.mode = ki;
            break;
          }
          if (n3.length = 65535 & u3, u3 = 0, l3 = 0, n3.mode = Si, t6 === di)
            break e;
        case Si:
          n3.mode = 16195;
        case 16195:
          if (_2 = n3.length, _2) {
            if (_2 > a3 && (_2 = a3), _2 > c3 && (_2 = c3), 0 === _2)
              break e;
            r3.set(i3.subarray(o3, o3 + _2), s4), a3 -= _2, o3 += _2, c3 -= _2, s4 += _2, n3.length -= _2;
            break;
          }
          n3.mode = Ni;
          break;
        case 16196:
          for (; l3 < 14; ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if (n3.nlen = 257 + (31 & u3), u3 >>>= 5, l3 -= 5, n3.ndist = 1 + (31 & u3), u3 >>>= 5, l3 -= 5, n3.ncode = 4 + (15 & u3), u3 >>>= 4, l3 -= 4, n3.nlen > 286 || n3.ndist > 30) {
            e3.msg = "too many length or distance symbols", n3.mode = ki;
            break;
          }
          n3.have = 0, n3.mode = 16197;
        case 16197:
          for (; n3.have < n3.ncode; ) {
            for (; l3 < 3; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            n3.lens[O3[n3.have++]] = 7 & u3, u3 >>>= 3, l3 -= 3;
          }
          for (; n3.have < 19; )
            n3.lens[O3[n3.have++]] = 0;
          if (n3.lencode = n3.lendyn, n3.lenbits = 7, A4 = { bits: n3.lenbits }, N3 = ui(0, n3.lens, 0, 19, n3.lencode, 0, n3.work, A4), n3.lenbits = A4.bits, N3) {
            e3.msg = "invalid code lengths set", n3.mode = ki;
            break;
          }
          n3.have = 0, n3.mode = 16198;
        case 16198:
          for (; n3.have < n3.nlen + n3.ndist; ) {
            for (; T4 = n3.lencode[u3 & (1 << n3.lenbits) - 1], E3 = T4 >>> 24, v5 = T4 >>> 16 & 255, g4 = 65535 & T4, !(E3 <= l3); ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            if (g4 < 16)
              u3 >>>= E3, l3 -= E3, n3.lens[n3.have++] = g4;
            else {
              if (16 === g4) {
                for (C3 = E3 + 2; l3 < C3; ) {
                  if (0 === a3)
                    break e;
                  a3--, u3 += i3[o3++] << l3, l3 += 8;
                }
                if (u3 >>>= E3, l3 -= E3, 0 === n3.have) {
                  e3.msg = "invalid bit length repeat", n3.mode = ki;
                  break;
                }
                w3 = n3.lens[n3.have - 1], _2 = 3 + (3 & u3), u3 >>>= 2, l3 -= 2;
              } else if (17 === g4) {
                for (C3 = E3 + 3; l3 < C3; ) {
                  if (0 === a3)
                    break e;
                  a3--, u3 += i3[o3++] << l3, l3 += 8;
                }
                u3 >>>= E3, l3 -= E3, w3 = 0, _2 = 3 + (7 & u3), u3 >>>= 3, l3 -= 3;
              } else {
                for (C3 = E3 + 7; l3 < C3; ) {
                  if (0 === a3)
                    break e;
                  a3--, u3 += i3[o3++] << l3, l3 += 8;
                }
                u3 >>>= E3, l3 -= E3, w3 = 0, _2 = 11 + (127 & u3), u3 >>>= 7, l3 -= 7;
              }
              if (n3.have + _2 > n3.nlen + n3.ndist) {
                e3.msg = "invalid bit length repeat", n3.mode = ki;
                break;
              }
              for (; _2--; )
                n3.lens[n3.have++] = w3;
            }
          }
          if (n3.mode === ki)
            break;
          if (0 === n3.lens[256]) {
            e3.msg = "invalid code -- missing end-of-block", n3.mode = ki;
            break;
          }
          if (n3.lenbits = 9, A4 = { bits: n3.lenbits }, N3 = ui(1, n3.lens, 0, n3.nlen, n3.lencode, 0, n3.work, A4), n3.lenbits = A4.bits, N3) {
            e3.msg = "invalid literal/lengths set", n3.mode = ki;
            break;
          }
          if (n3.distbits = 6, n3.distcode = n3.distdyn, A4 = { bits: n3.distbits }, N3 = ui(2, n3.lens, n3.nlen, n3.ndist, n3.distcode, 0, n3.work, A4), n3.distbits = A4.bits, N3) {
            e3.msg = "invalid distances set", n3.mode = ki;
            break;
          }
          if (n3.mode = Ai, t6 === di)
            break e;
        case Ai:
          n3.mode = Ci;
        case Ci:
          if (a3 >= 6 && c3 >= 258) {
            e3.next_out = s4, e3.avail_out = c3, e3.next_in = o3, e3.avail_in = a3, n3.hold = u3, n3.bits = l3, ii(e3, d3), s4 = e3.next_out, r3 = e3.output, c3 = e3.avail_out, o3 = e3.next_in, i3 = e3.input, a3 = e3.avail_in, u3 = n3.hold, l3 = n3.bits, n3.mode === Ni && (n3.back = -1);
            break;
          }
          for (n3.back = 0; T4 = n3.lencode[u3 & (1 << n3.lenbits) - 1], E3 = T4 >>> 24, v5 = T4 >>> 16 & 255, g4 = 65535 & T4, !(E3 <= l3); ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if (v5 && 0 == (240 & v5)) {
            for (b4 = E3, m4 = v5, y3 = g4; T4 = n3.lencode[y3 + ((u3 & (1 << b4 + m4) - 1) >> b4)], E3 = T4 >>> 24, v5 = T4 >>> 16 & 255, g4 = 65535 & T4, !(b4 + E3 <= l3); ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            u3 >>>= b4, l3 -= b4, n3.back += b4;
          }
          if (u3 >>>= E3, l3 -= E3, n3.back += E3, n3.length = g4, 0 === v5) {
            n3.mode = 16205;
            break;
          }
          if (32 & v5) {
            n3.back = -1, n3.mode = Ni;
            break;
          }
          if (64 & v5) {
            e3.msg = "invalid literal/length code", n3.mode = ki;
            break;
          }
          n3.extra = 15 & v5, n3.mode = 16201;
        case 16201:
          if (n3.extra) {
            for (C3 = n3.extra; l3 < C3; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            n3.length += u3 & (1 << n3.extra) - 1, u3 >>>= n3.extra, l3 -= n3.extra, n3.back += n3.extra;
          }
          n3.was = n3.length, n3.mode = 16202;
        case 16202:
          for (; T4 = n3.distcode[u3 & (1 << n3.distbits) - 1], E3 = T4 >>> 24, v5 = T4 >>> 16 & 255, g4 = 65535 & T4, !(E3 <= l3); ) {
            if (0 === a3)
              break e;
            a3--, u3 += i3[o3++] << l3, l3 += 8;
          }
          if (0 == (240 & v5)) {
            for (b4 = E3, m4 = v5, y3 = g4; T4 = n3.distcode[y3 + ((u3 & (1 << b4 + m4) - 1) >> b4)], E3 = T4 >>> 24, v5 = T4 >>> 16 & 255, g4 = 65535 & T4, !(b4 + E3 <= l3); ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            u3 >>>= b4, l3 -= b4, n3.back += b4;
          }
          if (u3 >>>= E3, l3 -= E3, n3.back += E3, 64 & v5) {
            e3.msg = "invalid distance code", n3.mode = ki;
            break;
          }
          n3.offset = g4, n3.extra = 15 & v5, n3.mode = 16203;
        case 16203:
          if (n3.extra) {
            for (C3 = n3.extra; l3 < C3; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            n3.offset += u3 & (1 << n3.extra) - 1, u3 >>>= n3.extra, l3 -= n3.extra, n3.back += n3.extra;
          }
          if (n3.offset > n3.dmax) {
            e3.msg = "invalid distance too far back", n3.mode = ki;
            break;
          }
          n3.mode = 16204;
        case 16204:
          if (0 === c3)
            break e;
          if (_2 = d3 - c3, n3.offset > _2) {
            if (_2 = n3.offset - _2, _2 > n3.whave && n3.sane) {
              e3.msg = "invalid distance too far back", n3.mode = ki;
              break;
            }
            _2 > n3.wnext ? (_2 -= n3.wnext, f4 = n3.wsize - _2) : f4 = n3.wnext - _2, _2 > n3.length && (_2 = n3.length), p5 = n3.window;
          } else
            p5 = r3, f4 = s4 - n3.offset, _2 = n3.length;
          _2 > c3 && (_2 = c3), c3 -= _2, n3.length -= _2;
          do {
            r3[s4++] = p5[f4++];
          } while (--_2);
          0 === n3.length && (n3.mode = Ci);
          break;
        case 16205:
          if (0 === c3)
            break e;
          r3[s4++] = n3.length, c3--, n3.mode = Ci;
          break;
        case Oi:
          if (n3.wrap) {
            for (; l3 < 32; ) {
              if (0 === a3)
                break e;
              a3--, u3 |= i3[o3++] << l3, l3 += 8;
            }
            if (d3 -= c3, e3.total_out += d3, n3.total += d3, 4 & n3.wrap && d3 && (e3.adler = n3.check = n3.flags ? Pt(n3.check, r3, d3, s4 - d3) : xt(n3.check, r3, d3, s4 - d3)), d3 = c3, 4 & n3.wrap && (n3.flags ? u3 : Ii(u3)) !== n3.check) {
              e3.msg = "incorrect data check", n3.mode = ki;
              break;
            }
            u3 = 0, l3 = 0;
          }
          n3.mode = 16207;
        case 16207:
          if (n3.wrap && n3.flags) {
            for (; l3 < 32; ) {
              if (0 === a3)
                break e;
              a3--, u3 += i3[o3++] << l3, l3 += 8;
            }
            if (4 & n3.wrap && u3 !== (4294967295 & n3.total)) {
              e3.msg = "incorrect length check", n3.mode = ki;
              break;
            }
            u3 = 0, l3 = 0;
          }
          n3.mode = 16208;
        case 16208:
          N3 = fi;
          break e;
        case ki:
          N3 = vi;
          break e;
        case 16210:
          return gi;
        default:
          return Ei;
      }
  return e3.next_out = s4, e3.avail_out = c3, e3.next_in = o3, e3.avail_in = a3, n3.hold = u3, n3.bits = l3, (n3.wsize || d3 !== e3.avail_out && n3.mode < ki && (n3.mode < Oi || t6 !== li)) && Hi(e3, e3.output, e3.next_out, d3 - e3.avail_out), h3 -= e3.avail_in, d3 -= e3.avail_out, e3.total_in += h3, e3.total_out += d3, n3.total += d3, 4 & n3.wrap && d3 && (e3.adler = n3.check = n3.flags ? Pt(n3.check, r3, d3, e3.next_out - d3) : xt(n3.check, r3, d3, e3.next_out - d3)), e3.data_type = n3.bits + (n3.last ? 64 : 0) + (n3.mode === Ni ? 128 : 0) + (n3.mode === Ai || n3.mode === Si ? 256 : 0), (0 === h3 && 0 === d3 || t6 === li) && N3 === _i && (N3 = bi), N3;
}, inflateEnd: (e3) => {
  if (Di(e3))
    return Ei;
  let t6 = e3.state;
  return t6.window && (t6.window = null), e3.state = null, _i;
}, inflateGetHeader: (e3, t6) => {
  if (Di(e3))
    return Ei;
  const n3 = e3.state;
  return 0 == (2 & n3.wrap) ? Ei : (n3.head = t6, t6.done = false, _i);
}, inflateSetDictionary: (e3, t6) => {
  const n3 = t6.length;
  let i3, r3, o3;
  return Di(e3) ? Ei : (i3 = e3.state, 0 !== i3.wrap && i3.mode !== wi ? Ei : i3.mode === wi && (r3 = 1, r3 = xt(r3, t6, n3, 0), r3 !== i3.check) ? vi : (o3 = Hi(e3, t6, n3, n3), o3 ? (i3.mode = 16210, gi) : (i3.havedict = 1, _i)));
}, inflateInfo: "pako inflate (from Nodeca project)" };
var qi = function() {
  this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
};
var ji = Object.prototype.toString;
var { Z_NO_FLUSH: Ki, Z_FINISH: Bi, Z_OK: Wi, Z_STREAM_END: Qi, Z_NEED_DICT: Zi, Z_STREAM_ERROR: Yi, Z_DATA_ERROR: Xi, Z_MEM_ERROR: Ji } = Ft;
function $i(e3) {
  this.options = Fn.assign({ chunkSize: 65536, windowBits: 15, to: "" }, e3 || {});
  const t6 = this.options;
  t6.raw && t6.windowBits >= 0 && t6.windowBits < 16 && (t6.windowBits = -t6.windowBits, 0 === t6.windowBits && (t6.windowBits = -15)), !(t6.windowBits >= 0 && t6.windowBits < 16) || e3 && e3.windowBits || (t6.windowBits += 32), t6.windowBits > 15 && t6.windowBits < 48 && 0 == (15 & t6.windowBits) && (t6.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new Gn(), this.strm.avail_out = 0;
  let n3 = Gi.inflateInit2(this.strm, t6.windowBits);
  if (n3 !== Wi)
    throw new Error(Mt[n3]);
  if (this.header = new qi(), Gi.inflateGetHeader(this.strm, this.header), t6.dictionary && ("string" == typeof t6.dictionary ? t6.dictionary = Hn.string2buf(t6.dictionary) : "[object ArrayBuffer]" === ji.call(t6.dictionary) && (t6.dictionary = new Uint8Array(t6.dictionary)), t6.raw && (n3 = Gi.inflateSetDictionary(this.strm, t6.dictionary), n3 !== Wi)))
    throw new Error(Mt[n3]);
}
function er(e3, t6) {
  const n3 = new $i(t6);
  if (n3.push(e3), n3.err)
    throw n3.msg || Mt[n3.err];
  return n3.result;
}
$i.prototype.push = function(e3, t6) {
  const n3 = this.strm, i3 = this.options.chunkSize, r3 = this.options.dictionary;
  let o3, s4, a3;
  if (this.ended)
    return false;
  for (s4 = t6 === ~~t6 ? t6 : true === t6 ? Bi : Ki, "[object ArrayBuffer]" === ji.call(e3) ? n3.input = new Uint8Array(e3) : n3.input = e3, n3.next_in = 0, n3.avail_in = n3.input.length; ; ) {
    for (0 === n3.avail_out && (n3.output = new Uint8Array(i3), n3.next_out = 0, n3.avail_out = i3), o3 = Gi.inflate(n3, s4), o3 === Zi && r3 && (o3 = Gi.inflateSetDictionary(n3, r3), o3 === Wi ? o3 = Gi.inflate(n3, s4) : o3 === Xi && (o3 = Zi)); n3.avail_in > 0 && o3 === Qi && n3.state.wrap > 0 && 0 !== e3[n3.next_in]; )
      Gi.inflateReset(n3), o3 = Gi.inflate(n3, s4);
    switch (o3) {
      case Yi:
      case Xi:
      case Zi:
      case Ji:
        return this.onEnd(o3), this.ended = true, false;
    }
    if (a3 = n3.avail_out, n3.next_out && (0 === n3.avail_out || o3 === Qi))
      if ("string" === this.options.to) {
        let e4 = Hn.utf8border(n3.output, n3.next_out), t7 = n3.next_out - e4, r4 = Hn.buf2string(n3.output, e4);
        n3.next_out = t7, n3.avail_out = i3 - t7, t7 && n3.output.set(n3.output.subarray(e4, e4 + t7), 0), this.onData(r4);
      } else
        this.onData(n3.output.length === n3.next_out ? n3.output : n3.output.subarray(0, n3.next_out));
    if (o3 !== Wi || 0 !== a3) {
      if (o3 === Qi)
        return o3 = Gi.inflateEnd(this.strm), this.onEnd(o3), this.ended = true, true;
      if (0 === n3.avail_in)
        break;
    }
  }
  return true;
}, $i.prototype.onData = function(e3) {
  this.chunks.push(e3);
}, $i.prototype.onEnd = function(e3) {
  e3 === Wi && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = Fn.flattenChunks(this.chunks)), this.chunks = [], this.err = e3, this.msg = this.strm.msg;
};
var tr = { Inflate: $i, inflate: er, inflateRaw: function(e3, t6) {
  return (t6 = t6 || {}).raw = true, er(e3, t6);
}, ungzip: er, constants: Ft };
var { Deflate: nr, deflate: ir, deflateRaw: rr, gzip: or } = ti;
var { Inflate: sr, inflate: ar, inflateRaw: cr, ungzip: ur } = tr;
var lr;
var hr = { Deflate: nr, deflate: ir, deflateRaw: rr, gzip: or, Inflate: sr, inflate: ar, inflateRaw: cr, ungzip: ur, constants: Ft };
!function(e3) {
  e3.CONNECTING = "CONNECTING", e3.OPEN = "OPEN", e3.CLOSED = "CLOSED";
}(lr || (lr = {}));
var dr;
var _r = function(e3) {
  function n3(t6, n4) {
    var i3 = n4.sdkState, r3 = n4.dispatcher, o3 = n4.logger, s4 = e3.call(this) || this;
    return s4.lastActive = 0, s4._iid = t6, s4._sdkState = i3, s4._dispatcher = r3, s4._logger = o3, s4;
  }
  return t(n3, e3), Object.defineProperty(n3.prototype, "isOpen", { get: function() {
    return this.connectionState === lr.OPEN;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "connectionState", { get: function() {
    if (this._ws)
      switch (this._ws.readyState) {
        case 0:
          return lr.CONNECTING;
        case 1:
          return lr.OPEN;
      }
    return lr.CLOSED;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "ws", { get: function() {
    var e4;
    return null !== (e4 = this._ws) && void 0 !== e4 ? e4 : null;
  }, enumerable: false, configurable: true }), n3.prototype._handleMessage = function(e4) {
    var t6 = this;
    e4.split("\n").forEach(function(e5) {
      if (e5) {
        var n4 = Re.createFromRawMessage(t6._iid, e5);
        if (t6._logger.debug("receive websocket event", n4), "LOGI" === n4.code)
          t6.dispatch("message", n4);
        else if ("PONG" === n4.code)
          t6.dispatch("pong");
        else if ("EXPR" === n4.code) {
          if (n4.payload) {
            var i3 = new Ie(n4.payload);
            i3.expiresIn >= 0 && t6._dispatcher.dispatch(i3);
          }
        } else
          "NOOP" === n4.code || t6.dispatch("message", n4);
      }
    });
  }, n3.prototype.connect = function(e4, t6) {
    var n4 = this;
    this._ws = new WebSocket(e4, encodeURIComponent(t6)), this._ws.onopen = function() {
      n4._logger.debug("websocket open"), n4.dispatch("open");
    }, this._ws.onmessage = function(e5) {
      return r(n4, void 0, void 0, function() {
        var t7, n5, i3 = this;
        return o(this, function(s4) {
          return (null === (n5 = this._sdkState.websocket) || void 0 === n5 ? void 0 : n5.compression) ? e5.data instanceof Blob ? ((t7 = new FileReader()).readAsArrayBuffer(e5.data), t7.onloadend = function() {
            return r(i3, void 0, void 0, function() {
              var e6;
              return o(this, function(n6) {
                switch (n6.label) {
                  case 0:
                    return [4, (i4 = t7.result, r(void 0, void 0, void 0, function() {
                      var e7;
                      return o(this, function(t8) {
                        return e7 = hr.ungzip(i4), [2, String.fromCharCode.apply(null, e7)];
                      });
                    }))];
                  case 1:
                    return e6 = n6.sent(), this._handleMessage(e6), [2];
                }
                var i4;
              });
            });
          }) : "string" == typeof e5.data && this._handleMessage(e5.data) : this._handleMessage(e5.data), [2];
        });
      });
    }, this._ws.onerror = function() {
      n4._logger.debug("websocket error"), n4.dispatch("error", g.networkError);
    }, this._ws.onclose = function() {
      n4._logger.debug("websocket close"), n4.dispatch("close");
    }, this.lastActive = Date.now();
  }, n3.prototype.disconnect = function() {
    var e4 = this;
    return new Promise(function(t6) {
      e4._logger.debug("websocket disconnect"), e4._ws ? (e4._ws.onopen = Ze, e4._ws.onmessage = Ze, e4._ws.onerror = Ze, e4.connectionState !== lr.CLOSED ? (e4._ws.onclose = function() {
        e4.dispatch("close"), t6();
      }, e4._ws.close(), e4._ws = void 0) : t6()) : t6();
    });
  }, n3.prototype.send = function(e4) {
    if (!this._ws)
      throw g.connectionClosed;
    "PING" !== e4.code ? this.dispatch("ping-refresh") : this._logger.debug("send ping", e4), this._ws.send(e4.convertToMessage());
  }, n3.prototype.error = function(e4) {
    this._logger.debug("websocket error", e4), this.dispatch("error", e4);
  }, n3;
}(J);
var fr = function(e3) {
  function n3(t6) {
    var n4 = t6.all, i3 = t6.feed, r3 = t6.custom_types, o3 = t6.ts, s4 = e3.call(this) || this;
    return s4.all = n4, s4.feed = i3, s4.customTypes = r3, s4.ts = o3, s4;
  }
  return t(n3, e3), n3;
}(ee);
var pr = function() {
  function e3(e4, t6) {
    var n3 = t6.session, i3 = t6.sdkState, r3 = t6.dispatcher, o3 = t6.logger, s4 = t6.useFetchCompat, a3 = void 0 !== s4 && s4, c3 = this;
    this._ackStateMap = /* @__PURE__ */ new Map(), this._sdkState = i3, this._dispatcher = r3, this._logger = o3, this.apiClient = new Qe(e4, { session: n3, sdkState: i3, dispatcher: r3, logger: o3, useFetchCompat: a3 }), this.websocketClient = new _r(e4, { sdkState: i3, dispatcher: r3, logger: o3 }), this.websocketClient.on("message", function(e5) {
      if (e5.payload.unread_cnt && c3._dispatcher.dispatch(new fr(e5.payload.unread_cnt)), e5.requestId) {
        if (c3._ackStateMap.has(e5.requestId)) {
          var t7 = c3._ackStateMap.get(e5.requestId);
          "EROR" !== e5.code ? t7.resolve(e5) : t7.reject(new g({ code: e5.payload.code, message: e5.payload.message }));
        }
      } else
        c3._dispatcher.dispatch(e5);
    }).on("close", function() {
      c3._ackStateMap.forEach(function(e5) {
        e5.reject(g.connectionClosed);
      }), c3._ackStateMap.clear();
    });
  }
  return e3.prototype._sendApiRequest = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this.apiClient.send(e4)];
          case 1:
            return [2, t6.sent()];
        }
      });
    });
  }, e3.prototype._sendWebsocketRequest = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i3, r3 = this;
      return o(this, function(o3) {
        if (!this._sdkState.websocket)
          throw g.connectionRequired;
        if (t6 = new We(), e4.ackRequired) {
          i3 = function(i4, o4) {
            r3._ackStateMap.has(e4.requestId) && (r3._ackStateMap.delete(e4.requestId), n3 && (clearTimeout(n3), n3 = null), i4 ? (r3._logger.debug("fail websocket request", e4.requestId, i4), t6.reject(i4)) : (r3._logger.debug("receive websocket ack", e4.requestId, e4), r3._logger.debug("receive websocket ack", o4), t6.resolve(o4)));
          };
          try {
            n3 = setTimeout(function() {
              return i3(g.noAckTimeout);
            }, this._sdkState.websocket.responseTimeout), this._ackStateMap.set(e4.requestId, { resolve: function(e5) {
              return i3(void 0, e5);
            }, reject: function(e5) {
              return i3(e5);
            } }), this.websocketClient.send(e4);
          } catch (e5) {
            i3(e5);
          }
        } else
          try {
            this.websocketClient.send(e4), t6.resolve();
          } catch (e5) {
            t6.reject(e5);
          }
        return [2, t6.promise];
      });
    });
  }, e3.prototype.send = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 instanceof Ce ? [4, this._sendApiRequest(e4)] : [3, 2];
          case 1:
          case 3:
            return [2, t6.sent()];
          case 2:
            return e4 instanceof De ? [4, this._sendWebsocketRequest(e4)] : [3, 4];
          case 4:
            throw g.invalidParameters;
        }
      });
    });
  }, e3.prototype.cancel = function(e4) {
    this.apiClient.cancel(e4);
  }, e3.prototype.cancelAll = function() {
    this.apiClient.cancelAll();
  }, e3;
}();
!function(e3) {
  e3[e3.NONE = 0] = "NONE", e3[e3.INITIALIZED = 1] = "INITIALIZED", e3[e3.CONNECTING = 2] = "CONNECTING", e3[e3.CONNECTED = 3] = "CONNECTED", e3[e3.RECONNECTING = 4] = "RECONNECTING", e3[e3.INTERNAL_DISCONNECTED = 5] = "INTERNAL_DISCONNECTED", e3[e3.EXTERNAL_DISCONNECTED = 6] = "EXTERNAL_DISCONNECTED", e3[e3.LOGOUT = 7] = "LOGOUT";
}(dr || (dr = {}));
var Er = function(e3) {
  function n3(t6) {
    var n4 = t6.stateType, i3 = e3.call(this) || this;
    return i3.stateType = n4, i3;
  }
  return t(n3, e3), n3;
}(ee);
var vr = function(e3) {
  function n3() {
    return null !== e3 && e3.apply(this, arguments) || this;
  }
  return t(n3, e3), n3;
}(ee);
var gr = function(e3) {
  function n3() {
    return null !== e3 && e3.apply(this, arguments) || this;
  }
  return t(n3, e3), n3;
}(ee);
var br = function(e3) {
  function n3() {
    return null !== e3 && e3.apply(this, arguments) || this;
  }
  return t(n3, e3), n3;
}(ee);
var mr = function() {
  function e3(e4) {
    var t6, n3, i3, r3;
    this.isEnabled = null !== (t6 = e4.enabled) && void 0 !== t6 && t6, this.feedChannels = null !== (n3 = e4.feed_channels) && void 0 !== n3 ? n3 : {}, this.templateListToken = null !== (i3 = e4.template_list_token) && void 0 !== i3 ? i3 : null, this.settingsUpdatedAt = null !== (r3 = e4.settings_updated_at) && void 0 !== r3 ? r3 : 0;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ enabled: e4.isEnabled, feed_channels: e4.feedChannels, template_list_token: e4.templateListToken, settings_updated_at: e4.settingsUpdatedAt }));
  }, e3;
}();
var yr = function(e3) {
  return "sendbird@".concat(e3, "/changelog_include_chat_notifications");
};
var wr = function() {
  function e3(e4) {
    var t6;
    this.lastUpdatedAt = null !== (t6 = e4.last_updated_at) && void 0 !== t6 ? t6 : 0;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ last_updated_at: e4.lastUpdatedAt }));
  }, e3;
}();
var Nr = 1048576;
var Tr = 5;
var Sr = function() {
  function e3(e4) {
    var t6, n3, i3, r3, o3;
    void 0 === e4 && (e4 = {}), this.emojiHash = e4.emoji_hash || "", this.uploadSizeLimit = e4.file_upload_size_limit ? e4.file_upload_size_limit * Nr : Number.MAX_SAFE_INTEGER, this.useReaction = !!e4.use_reaction, this.applicationAttributes = null !== (t6 = e4.application_attributes) && void 0 !== t6 ? t6 : [], this.premiumFeatureList = null !== (n3 = e4.premium_feature_list) && void 0 !== n3 ? n3 : [], this.deviceTokenCache = this.applicationAttributes.includes("sdk_device_token_cache"), this.enabledChannelMemberShipHistory = this.applicationAttributes.includes("channel_membership_history"), this.multipleFilesMessageFileCountLimit = null !== (i3 = e4.multiple_file_send_max_size) && void 0 !== i3 ? i3 : 5, this.allowSdkStatsUpload = null === (r3 = e4.allow_sdk_log_ingestion) || void 0 === r3 || r3, this.uikitConfigInfo = new wr(null !== (o3 = e4.uikit_config) && void 0 !== o3 ? o3 : {}), this.notificationInfo = e4.notifications ? new mr(e4.notifications) : null;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ emoji_hash: e4.emojiHash, file_upload_size_limit: e4.uploadSizeLimit / Nr, application_attributes: e4.applicationAttributes, premium_feature_list: e4.premiumFeatureList, use_reaction: e4.useReaction, allow_sdk_log_ingestion: e4.allowSdkStatsUpload, uikit_config: e4.uikitConfigInfo ? wr.payloadify(e4.uikitConfigInfo) : null, notifications: e4.notificationInfo ? mr.payloadify(e4.notificationInfo) : null }));
  }, e3;
}();
var Ar = function() {
  function e3(e4) {
    this._iid = "", this._iid = e4;
  }
  return e3.payloadify = function(e4) {
    return {};
  }, e3;
}();
var Cr = function(e3) {
  function n3(t6) {
    var n4 = t6.userId, i3 = t6.metadata, r3 = e3.call(this) || this;
    return r3.method = ie.POST, r3.path = "".concat(oe, "/").concat(n4, "/metadata"), r3.params = { metadata: i3 }, r3;
  }
  return t(n3, e3), n3;
}(Ce);
var Or = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.metaData = n4, i3;
  }
  return t(n3, e3), n3;
}(Oe);
var kr = function(e3) {
  function n3(t6) {
    var n4 = t6.userId, i3 = t6.metadata, r3 = t6.upsert, o3 = e3.call(this) || this;
    return o3.method = ie.PUT, o3.path = "".concat(oe, "/").concat(n4, "/metadata"), o3.params = { metadata: i3, upsert: r3 }, o3;
  }
  return t(n3, e3), n3;
}(Ce);
var Ir = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.metadata = n4, i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Rr = function(e3) {
  function n3(t6) {
    var n4 = t6.userId, i3 = t6.metadataKey, r3 = e3.call(this) || this;
    return r3.method = ie.DELETE, r3.path = "".concat(oe, "/").concat(n4, "/metadata/").concat(i3), r3;
  }
  return t(n3, e3), n3;
}(Ce);
!function(e3) {
  function n3() {
    return null !== e3 && e3.apply(this, arguments) || this;
  }
  t(n3, e3);
}(Oe);
var Dr = function(e3) {
  function n3(t6) {
    var n4 = t6.userId, i3 = e3.call(this) || this;
    return i3.method = ie.DELETE, i3.path = "".concat(oe, "/").concat(n4, "/metadata"), i3;
  }
  return t(n3, e3), n3;
}(Ce);
!function(e3) {
  function n3() {
    return null !== e3 && e3.apply(this, arguments) || this;
  }
  t(n3, e3);
}(Oe);
var Lr;
var xr = function(e3, t6) {
  var n3 = JSON.parse(JSON.stringify(e3));
  return n3._iid && delete n3._iid, t6 && t6(n3), n3;
};
var Ur = function(e3, t6) {
  var n3 = JSON.parse(JSON.stringify(e3));
  return t6 && t6(n3), n3;
};
var Pr = function(e3) {
  return { do: function(t6) {
    e3 || t6();
  }, throw: function(t6) {
    if (!e3)
      throw t6;
  } };
};
!function(e3) {
  e3.ONLINE = "online", e3.OFFLINE = "offline", e3.NON_AVAILABLE = "nonavailable";
}(Lr || (Lr = {}));
var Mr;
var Fr = function(e3) {
  function i3(t6, n3) {
    var i4, r3, o3, s4, u3, l3, h3, d3, _2, f4, p5, E3, v5 = this;
    return (v5 = e3.call(this, t6) || this).userId = null !== (r3 = null !== (i4 = n3.guest_id) && void 0 !== i4 ? i4 : n3.user_id) && void 0 !== r3 ? r3 : "", v5.nickname = null !== (s4 = null !== (o3 = n3.nickname) && void 0 !== o3 ? o3 : n3.name) && void 0 !== s4 ? s4 : "", v5.plainProfileUrl = null !== (l3 = null !== (u3 = n3.profile_url) && void 0 !== u3 ? u3 : n3.image) && void 0 !== l3 ? l3 : "", v5.requireAuth = null !== (h3 = n3.require_auth_for_profile_image) && void 0 !== h3 && h3, v5.metaData = null !== (d3 = n3.metadata) && void 0 !== d3 ? d3 : {}, v5.connectionStatus = Lr.NON_AVAILABLE, N(Lr, n3.is_online) ? v5.connectionStatus = n3.is_online : w("boolean", n3.is_online) && (v5.connectionStatus = n3.is_online ? Lr.ONLINE : Lr.OFFLINE), v5.isActive = null === (_2 = n3.is_active) || void 0 === _2 || _2, v5.lastSeenAt = null !== (f4 = n3.last_seen_at) && void 0 !== f4 ? f4 : null, v5.preferredLanguages = n3.preferred_languages ? c([], a(n3.preferred_languages), false) : null, v5.friendDiscoveryKey = null !== (p5 = n3.friend_discovery_key) && void 0 !== p5 ? p5 : null, v5.friendName = null !== (E3 = n3.friend_name) && void 0 !== E3 ? E3 : null, v5;
  }
  return t(i3, e3), i3.payloadify = function(t6) {
    return te(ne(n(n({}, e3.payloadify.call(this, t6)), { user_id: t6.userId, nickname: t6.nickname, profile_url: t6.plainProfileUrl, require_auth_for_profile_image: t6.requireAuth, metadata: t6.metaData, is_online: t6.connectionStatus, is_active: t6.isActive, last_seen_at: t6.lastSeenAt, preferred_languages: t6.preferredLanguages, friend_discovery_key: t6.friendDiscoveryKey, friend_name: t6.friendName })));
  }, Object.defineProperty(i3.prototype, "profileUrl", { get: function() {
    var e4 = So.of(this._iid).sessionManager;
    return this.requireAuth ? "".concat(this.plainProfileUrl, "?auth=").concat(e4.ekey) : this.plainProfileUrl;
  }, enumerable: false, configurable: true }), i3.prototype.serialize = function() {
    return xr(this);
  }, i3.prototype._isValidMetaData = function(e4) {
    return !Array.isArray(e4) && Object.keys(e4).length > 0 && Object.keys(e4).map(function(t6) {
      return e4[t6];
    }).every(function(e5) {
      return w("string", e5);
    });
  }, i3.prototype._applyMetaData = function(e4, t6) {
    var n3 = this;
    void 0 === t6 && (t6 = false), Object.keys(e4).forEach(function(i4) {
      t6 ? delete n3.metaData[i4] : n3.metaData[i4] = e4[i4];
    });
  }, i3.prototype.createMetaData = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i4, r3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(this._isValidMetaData(e4)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.sdkState, i4 = t6.requestQueue, r3 = new Cr({ userId: n3.userId, metadata: e4 }), [4, i4.send(r3)];
          case 1:
            return s4 = o3.sent(), a3 = s4.as(Or).metaData, this._applyMetaData(a3), [2, this.metaData];
        }
      });
    });
  }, i3.prototype.updateMetaData = function(e4, t6) {
    return void 0 === t6 && (t6 = false), r(this, void 0, void 0, function() {
      var n3, i4, r3, s4, a3, c3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(this._isValidMetaData(e4)).throw(g.invalidParameters), n3 = So.of(this._iid), i4 = n3.sdkState, r3 = n3.requestQueue, s4 = new kr({ userId: i4.userId, metadata: e4, upsert: t6 }), [4, r3.send(s4)];
          case 1:
            return a3 = o3.sent(), c3 = a3.as(Ir).metadata, this._applyMetaData(c3), [2, this.metaData];
        }
      });
    });
  }, i3.prototype.deleteMetaData = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i4, r3, s4;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(w("string", e4)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.sdkState, i4 = t6.requestQueue, r3 = new Rr({ userId: n3.userId, metadataKey: e4 }), [4, i4.send(r3)];
          case 1:
            return o3.sent(), this._applyMetaData(((s4 = {})[e4] = true, s4), true), [2, this.metaData];
        }
      });
    });
  }, i3.prototype.deleteAllMetaData = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, i4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e4 = So.of(this._iid), t6 = e4.sdkState, n3 = e4.requestQueue, i4 = new Dr({ userId: t6.userId }), [4, n3.send(i4)];
          case 1:
            return r3.sent(), this.metaData = {}, [2];
        }
      });
    });
  }, i3;
}(Ar);
var zr = function(e3) {
  function n3(t6) {
    var n4 = t6.userProfile, i3 = e3.call(this) || this;
    return i3.userProfile = n4, i3;
  }
  return t(n3, e3), n3;
}(ee);
var Vr = function() {
  function e3(e4, t6) {
    var n3, i3, r3, o3, s4, a3, c3, u3, l3, h3, d3, _2, f4, p5;
    this._iid = e4, this.appInfo = new Sr(t6), this.user = new Fr(e4, t6), this.connectedAt = null !== (n3 = t6.login_ts) && void 0 !== n3 ? n3 : 0, this.firstConnectedAt = 0, this.pingInterval = null !== (i3 = t6.ping_interval) && void 0 !== i3 ? i3 : 15e3, this.pongTimeout = null !== (r3 = t6.pong_timeout) && void 0 !== r3 ? r3 : 5e3, this.reconnectInterval = null !== (s4 = null === (o3 = t6.reconnect) || void 0 === o3 ? void 0 : o3.interval) && void 0 !== s4 ? s4 : 3e3, this.reconnectMaxInterval = null !== (c3 = null === (a3 = t6.reconnect) || void 0 === a3 ? void 0 : a3.max_interval) && void 0 !== c3 ? c3 : 6e4, this.reconnectRetryCount = null !== (l3 = null === (u3 = t6.reconnect) || void 0 === u3 ? void 0 : u3.retry_cnt) && void 0 !== l3 ? l3 : 5, this.reconnectIntervalMultiple = null !== (d3 = null === (h3 = t6.reconnect) || void 0 === h3 ? void 0 : h3.mul) && void 0 !== d3 ? d3 : 2, this.maxUnreadCountOnSuperGroup = null !== (_2 = t6.max_unread_cnt_on_super_group) && void 0 !== _2 ? _2 : 100, this.profileImageEncryption = !!t6.profile_image_encryption, this.concurrentCallLimit = null !== (f4 = t6.concurrent_call_limit) && void 0 !== f4 ? f4 : 5, this.backOffDelay = null !== (p5 = t6.back_off_delay) && void 0 !== p5 ? p5 : 100;
  }
  return e3.payloadify = function(e4) {
    return te(ne(n(n(n({}, Fr.payloadify(e4.user)), Sr.payloadify(e4.appInfo)), { login_ts: e4.connectedAt, ping_interval: e4.pingInterval, pong_timeout: e4.pongTimeout, reconnect: { interval: e4.reconnectInterval, max_interval: e4.reconnectMaxInterval, retry_cnt: e4.reconnectRetryCount, mul: e4.reconnectIntervalMultiple }, max_unread_cnt_on_super_group: e4.maxUnreadCountOnSuperGroup, profile_image_encryption: e4.profileImageEncryption, concurrent_call_limit: e4.concurrentCallLimit, back_off_delay: e4.backOffDelay })));
  }, e3.prototype.apply = function() {
    var e4 = this.reconnectInterval, t6 = this.reconnectMaxInterval, n3 = this.reconnectIntervalMultiple, i3 = So.of(this._iid);
    i3.sdkState.websocket && (i3.sdkState.websocket.pingInterval = 1e3 * this.pingInterval, i3.sdkState.websocket.pongTimeout = 1e3 * this.pongTimeout, i3.sdkState.websocket.reconnectMaxRetry = this.reconnectRetryCount, i3.sdkState.websocket.reconnectRetryStrategy = { calcTimeout: function(i4) {
      return i4 > 0 ? 1e3 * Math.min(e4 * Math.pow(n3, i4 - 1), t6) : 10;
    } }), i3.appInfo = this.appInfo, i3.sessionManager.currentUser = this.user, i3.connectedAt = this.connectedAt, this.firstConnectedAt || (i3.firstConnectedAt = this.connectedAt), i3.maxSuperGroupChannelUnreadCount = this.maxUnreadCountOnSuperGroup, i3.concurrentCallLimit = this.concurrentCallLimit, i3.backOffDelay = this.backOffDelay, i3.dispatcher.dispatch(new zr({ userProfile: this }));
  }, e3;
}();
var Hr = function(e3) {
  function i3(t6) {
    var i4 = t6.request, r3 = void 0 === i4 || i4, o3 = t6.features, s4 = void 0 === o3 ? {} : o3, a3 = t6.options, c3 = void 0 === a3 ? {} : a3, u3 = e3.call(this) || this;
    return u3.request = r3, u3.features = n({ localCache: true, notification: true }, s4), u3.options = n({ ingestion: true }, c3), u3;
  }
  return t(i3, e3), i3;
}(ee);
var Gr = function(e3) {
  function i3(t6, n3, i4) {
    var r3, o3, s4, a3, c3 = this;
    return (c3 = e3.call(this, t6, n3, i4) || this).error = null, c3.services = [], c3.userProfile = new Vr(t6, i4), c3.deviceTokenLastDeletedAt = null !== (r3 = i4.device_token_last_deleted_at) && void 0 !== r3 ? r3 : 0, c3.key = null !== (o3 = i4.key) && void 0 !== o3 ? o3 : "", c3.ekey = null !== (s4 = i4.ekey) && void 0 !== s4 ? s4 : "", c3.error = i4.error ? new g(i4) : null, c3.services = null !== (a3 = i4.services) && void 0 !== a3 ? a3 : [], c3;
  }
  return t(i3, e3), i3.asError = function(e4) {
    return new i3("", "LOGI", n({ user_id: "", error: true }, e4));
  }, i3.prototype.applyTo = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this.error ? [3, 4] : (t6 = So.of(e4)) ? (n3 = t6.sessionManager, i4 = t6.dispatcher, [4, n3.login(this)]) : [3, 2];
          case 1:
            return r3.sent(), this.userProfile.apply(), i4.dispatch(new Hr({ request: this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"), features: { localCache: this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish"), notification: this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_noti_stats_log_publish") }, options: { ingestion: this.userProfile.appInfo.allowSdkStatsUpload } })), [3, 3];
          case 2:
            throw g.lostInstance;
          case 3:
            return [3, 5];
          case 4:
            throw this.error;
          case 5:
            return [2];
        }
      });
    });
  }, i3;
}(Re);
var qr = function() {
  function e3() {
    this.type = dr.NONE, this.name = "none";
  }
  return e3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3.prototype.onConnect = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3.prototype.onReconnect = function(e4, t6) {
    return t6.resetReconnectCount, r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3.prototype.onDisconnect = function(e4, t6) {
    return t6.error, t6.autoReconnect, r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3.prototype.onDisconnectWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, e3;
}();
var jr = function(e3) {
  return r(void 0, void 0, void 0, function() {
    var t6;
    return o(this, function(n3) {
      switch (n3.label) {
        case 0:
          return n3.trys.push([0, 2, , 3]), [4, e3()];
        case 1:
          return n3.sent(), [3, 3];
        case 2:
          if (!((t6 = n3.sent()) instanceof g))
            throw t6;
          return t6.throwOutside(), [3, 3];
        case 3:
          return [2];
      }
    });
  });
};
var Kr = function(e3) {
  return r(void 0, void 0, void 0, function() {
    return o(this, function(t6) {
      switch (t6.label) {
        case 0:
          return t6.trys.push([0, 2, , 3]), [4, e3()];
        case 1:
        case 2:
          return t6.sent(), [3, 3];
        case 3:
          return [2];
      }
    });
  });
};
var Br = function(e3) {
  function n3(t6) {
    void 0 === t6 && (t6 = {});
    var n4, i3 = this;
    return (i3 = e3.call(this) || this).type = dr.LOGOUT, i3.name = "logout", i3._wasPreviouslyConnected = null === (n4 = t6.wasPreviouslyConnected) || void 0 === n4 || n4, i3;
  }
  return t(n3, e3), n3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n4, i3 = this;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return t6 = Date.now(), n4 = e4.sdkState.userId, [4, e4.logout()];
          case 1:
            return s4.sent(), [4, e4.changeState(new to(), t6)];
          case 2:
            return s4.sent(), this._wasPreviouslyConnected && jr(function() {
              return r(i3, void 0, void 0, function() {
                return o(this, function(t7) {
                  return e4.connectionHandlers.forEach(function(e5) {
                    e5.onDisconnected && e5.onDisconnected(n4);
                  }), [2];
                });
              });
            }), [2];
        }
      });
    });
  }, n3;
}(qr);
var Wr = function(e3) {
  function n3() {
    var t6 = e3.call(this) || this;
    return t6.type = dr.EXTERNAL_DISCONNECTED, t6.name = "externaldisconnected", t6;
  }
  return t(n3, e3), n3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, e4.disconnect()];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, n3.prototype.onConnect = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return n4 = Date.now(), [4, e4.disconnect()];
          case 1:
            return i3.sent(), [4, e4.changeState(new eo({ authToken: t6 }), n4)];
          case 2:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype.onReconnect = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Jr(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Br(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var Qr = function(e3) {
  function n3(t6) {
    var n4 = t6.autoReconnect, i3 = e3.call(this) || this;
    return i3.type = dr.INTERNAL_DISCONNECTED, i3.name = "internaldisconnected", i3._autoReconnect = false, i3._autoReconnect = n4, i3;
  }
  return t(n3, e3), n3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.disconnect()];
          case 1:
            return n4.sent(), this._autoReconnect ? [4, e4.changeState(new Jr(), t6)] : [3, 3];
          case 2:
            n4.sent(), n4.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, n3.prototype.onConnect = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return n4 = Date.now(), [4, e4.disconnect()];
          case 1:
            return i3.sent(), [4, e4.changeState(new eo({ authToken: t6 }), n4)];
          case 2:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype.onReconnect = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Jr(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onDisconnectWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Wr(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Br(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var Zr = function(e3) {
  return r(void 0, void 0, void 0, function() {
    return o(this, function(t6) {
      return [2, new Promise(function(t7) {
        return setTimeout(t7, e3);
      })];
    });
  });
};
var Yr = function() {
  function e3() {
  }
  return e3.prototype.calcTimeout = function() {
    return 0;
  }, e3;
}();
var Xr = function(e3, t6, n3) {
  return void 0 === n3 && (n3 = new Yr()), r(void 0, void 0, void 0, function() {
    var i3, r3, s4, a3, c3, u3;
    return o(this, function(o3) {
      switch (o3.label) {
        case 0:
          i3 = 0, r3 = null, s4 = function(e4) {
            return r3 = null != e4 ? e4 : new Error("Halted");
          }, a3 = function() {
            i3 = 0;
          }, o3.label = 1;
        case 1:
          if (!(-1 === t6 || i3 < t6))
            return [3, 9];
          o3.label = 2;
        case 2:
          return o3.trys.push([2, 4, , 8]), [4, e3(s4, a3)];
        case 3:
          if (c3 = o3.sent(), r3)
            throw r3;
          return [2, c3];
        case 4:
          if (u3 = o3.sent(), r3)
            return [3, 6];
          if (++i3 === t6)
            throw u3;
          return [4, Zr(n3.calcTimeout(i3))];
        case 5:
          return o3.sent(), [3, 7];
        case 6:
          throw r3;
        case 7:
          return [3, 8];
        case 8:
          return [3, 1];
        case 9:
          throw "It should not happen.";
      }
    });
  });
};
var Jr = function(e3) {
  function n3() {
    var t6 = null !== e3 && e3.apply(this, arguments) || this;
    return t6.type = dr.RECONNECTING, t6.name = "reconnecting", t6._callbacks = [], t6;
  }
  return t(n3, e3), n3.prototype._halt = function(e4) {
    this._haltConnect && (this._haltConnect(e4), this._haltConnect = void 0);
  }, n3.prototype._flushCallbacks = function(e4) {
    this._haltConnect = void 0, this._resetConnect = void 0, this._callbacks.forEach(function(t6) {
      return t6(e4);
    });
  }, n3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n4, i3, s4, a3, c3, l3 = this;
      return o(this, function(h3) {
        switch (h3.label) {
          case 0:
            t6 = Date.now(), n4 = new We(), this._callbacks.push(function(e5) {
              return e5 ? n4.reject(e5) : n4.resolve();
            }), jr(function() {
              return r(l3, void 0, void 0, function() {
                return o(this, function(t7) {
                  return e4.connectionHandlers.forEach(function(e5) {
                    e5.onReconnectStarted && e5.onReconnectStarted();
                  }), [2];
                });
              });
            }), h3.label = 1;
          case 1:
            return h3.trys.push([1, 4, , 9]), i3 = e4.sdkState.websocket, s4 = i3.reconnectMaxRetry, a3 = i3.reconnectRetryStrategy, [4, Xr(function(t7, n5) {
              return r(l3, void 0, void 0, function() {
                var i4;
                return o(this, function(r3) {
                  switch (r3.label) {
                    case 0:
                      this._haltConnect = t7, this._resetConnect = n5, r3.label = 1;
                    case 1:
                      return r3.trys.push([1, 3, , 4]), [4, e4.connect()];
                    case 2:
                      return r3.sent(), [3, 4];
                    case 3:
                      if (i4 = r3.sent(), e4.clearLoginTimer(), i4 instanceof g) {
                        if (i4.code === u.CONNECTION_CANCELED)
                          return t7(i4), [2];
                        if (i4.isSessionExpiredError || i4.isSessionInvalidatedError)
                          return t7(i4), [2];
                      }
                      throw i4;
                    case 4:
                      return [2];
                  }
                });
              });
            }, s4, a3)];
          case 2:
            return h3.sent(), [4, e4.changeState(new $r(), t6)];
          case 3:
            return h3.sent(), this._flushCallbacks(), jr(function() {
              return r(l3, void 0, void 0, function() {
                return o(this, function(t7) {
                  return e4.connectionHandlers.forEach(function(e5) {
                    e5.onReconnectSucceeded && e5.onReconnectSucceeded();
                  }), [2];
                });
              });
            }), [3, 9];
          case 4:
            return c3 = h3.sent(), v(c3) ? [3, 7] : c3 instanceof g ? c3.code === u.CONNECTION_CANCELED ? [3, 6] : [4, e4.changeState(new Qr({ autoReconnect: false }), t6)] : [3, 6];
          case 5:
            h3.sent(), h3.label = 6;
          case 6:
            return this._flushCallbacks(c3), jr(function() {
              return r(l3, void 0, void 0, function() {
                return o(this, function(t7) {
                  return e4.connectionHandlers.forEach(function(e5) {
                    e5.onReconnectFailed && e5.onReconnectFailed();
                  }), [2];
                });
              });
            }), [3, 8];
          case 7:
            throw c3;
          case 8:
            return [3, 9];
          case 9:
            return [2, n4.promise];
        }
      });
    });
  }, n3.prototype.onConnect = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(i3) {
        return n4 = new We(), this._halt(g.connectionCanceled), e4.cancelConnectForRetry(), this._callbacks.push(function() {
          var i4 = Date.now();
          e4.changeState(new eo({ authToken: t6 }), i4).then(function() {
            n4.resolve();
          }).catch(function(e5) {
            n4.reject(e5);
          });
        }), [2, n4.promise];
      });
    });
  }, n3.prototype.onReconnect = function(e4, t6) {
    var n4 = t6.resetReconnectCount, i3 = void 0 !== n4 && n4;
    return r(this, void 0, void 0, function() {
      var e5;
      return o(this, function(t7) {
        return e5 = new We(), this._resetConnect && i3 && this._resetConnect(), this._callbacks.push(function(t8) {
          return t8 ? e5.reject(t8) : e5.resolve();
        }), [2, e5.promise];
      });
    });
  }, n3.prototype.onDisconnect = function(e4, t6) {
    t6.error;
    var n4 = t6.autoReconnect, i3 = void 0 === n4 || n4;
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n5) {
        switch (n5.label) {
          case 0:
            return t7 = Date.now(), this._halt(g.connectionCanceled), [4, e4.changeState(new Qr({ autoReconnect: i3 }), t7)];
          case 1:
            return n5.sent(), [2];
        }
      });
    });
  }, n3.prototype.onDisconnectWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), this._halt(g.connectionCanceled), [4, e4.changeState(new Wr(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), this._halt(g.connectionCanceled), [4, e4.changeState(new Br(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var $r = function(e3) {
  function n3() {
    var t6 = null !== e3 && e3.apply(this, arguments) || this;
    return t6.type = dr.CONNECTED, t6.name = "connected", t6;
  }
  return t(n3, e3), n3.prototype.onReconnect = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.disconnect()];
          case 1:
            return n4.sent(), [4, e4.changeState(new Jr(), t6)];
          case 2:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onDisconnect = function(e4, t6) {
    var n4 = t6.autoReconnect;
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t7 = Date.now(), [4, e4.changeState(new Qr({ autoReconnect: n4 }), t7)];
          case 1:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype.onDisconnectWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Wr(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Br(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var eo = function(e3) {
  function n3(t6) {
    var n4 = t6.authToken, i3 = e3.call(this) || this;
    return i3.type = dr.CONNECTING, i3.name = "connecting", i3._authToken = "", i3._callbacks = [], i3._authToken = n4, i3;
  }
  return t(n3, e3), n3.prototype._halt = function(e4) {
    this._haltConnect && (this._haltConnect(e4), this._haltConnect = void 0);
  }, n3.prototype._flushCallbacks = function(e4) {
    this._haltConnect = void 0, this._callbacks.forEach(function(t6) {
      return t6(e4);
    });
  }, n3.prototype.run = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n4, i3, s4 = this;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            t6 = Date.now(), n4 = new We(), this._callbacks.push(function(e5) {
              return e5 ? n4.reject(e5) : n4.resolve();
            }), a3.label = 1;
          case 1:
            return a3.trys.push([1, 4, , 10]), [4, Xr(function(t7) {
              return r(s4, void 0, void 0, function() {
                var n5;
                return o(this, function(i4) {
                  switch (i4.label) {
                    case 0:
                      this._haltConnect = t7, i4.label = 1;
                    case 1:
                      return i4.trys.push([1, 3, , 4]), [4, e4.connect(this._authToken)];
                    case 2:
                      return i4.sent(), [3, 4];
                    case 3:
                      if (n5 = i4.sent(), e4.clearLoginTimer(), n5 instanceof g && n5.code === u.CONNECTION_CANCELED)
                        return t7(n5), [2];
                      throw n5;
                    case 4:
                      return [2];
                  }
                });
              });
            }, e4.sdkState.websocket.connectMaxRetry)];
          case 2:
            return a3.sent(), [4, e4.changeState(new $r(), t6)];
          case 3:
            return a3.sent(), jr(function() {
              return r(s4, void 0, void 0, function() {
                return o(this, function(t7) {
                  return this._flushCallbacks(), e4.connectionHandlers.forEach(function(t8) {
                    t8.onConnected && t8.onConnected(e4.sdkState.userId);
                  }), [2];
                });
              });
            }), [3, 10];
          case 4:
            return i3 = a3.sent(), v(i3) ? [3, 8] : [4, e4.disconnect()];
          case 5:
            return a3.sent(), i3 instanceof g ? i3.code === u.CONNECTION_CANCELED ? [3, 7] : [4, e4.changeState(new to(), t6)] : [3, 7];
          case 6:
            a3.sent(), a3.label = 7;
          case 7:
            return jr(function() {
              return r(s4, void 0, void 0, function() {
                return o(this, function(e5) {
                  return this._flushCallbacks(i3), [2];
                });
              });
            }), [3, 9];
          case 8:
            throw i3;
          case 9:
            return [3, 10];
          case 10:
            return [2, n4.promise];
        }
      });
    });
  }, n3.prototype.onConnect = function(e4) {
    return r(this, void 0, void 0, function() {
      var e5;
      return o(this, function(t6) {
        return e5 = new We(), this._callbacks.push(function(t7) {
          return t7 ? e5.reject(t7) : e5.resolve();
        }), [2, e5.promise];
      });
    });
  }, n3.prototype.onDisconnect = function(e4, t6) {
    var n4 = t6.error, i3 = void 0 === n4 ? null : n4, s4 = t6.autoReconnect, a3 = void 0 !== s4 && s4;
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n5) {
        switch (n5.label) {
          case 0:
            return t7 = Date.now(), this._halt(null != i3 ? i3 : g.connectionCanceled), e4.hasSession ? [4, e4.changeState(new Qr({ autoReconnect: a3 }), t7)] : [3, 2];
          case 1:
            return n5.sent(), [3, 4];
          case 2:
            return [4, e4.changeState(new Br(), t7)];
          case 3:
            n5.sent(), n5.label = 4;
          case 4:
            return [2];
        }
      });
    });
  }, n3.prototype.onDisconnectWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), this._halt(g.connectionCanceled), e4.hasSession ? [4, e4.changeState(new Wr(), t6)] : [3, 2];
          case 1:
            return n4.sent(), [3, 4];
          case 2:
            return [4, e4.changeState(new Br(), t6)];
          case 3:
            n4.sent(), n4.label = 4;
          case 4:
            return [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), this._halt(g.connectionCanceled), [4, e4.changeState(new Br(), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var to = function(e3) {
  function n3() {
    var t6 = null !== e3 && e3.apply(this, arguments) || this;
    return t6.type = dr.INITIALIZED, t6.name = "initialized", t6;
  }
  return t(n3, e3), n3.prototype.onConnect = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return n4 = Date.now(), [4, e4.changeState(new eo({ authToken: t6 }), n4)];
          case 1:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype.onLogout = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = Date.now(), [4, e4.changeState(new Br({ wasPreviouslyConnected: false }), t6)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3;
}(qr);
var no = function(e3) {
  function n3() {
    return e3.call(this, { code: "PING", payload: { id: Date.now(), active: 1 }, ackRequired: false }) || this;
  }
  return t(n3, e3), n3;
}(De);
var io = function() {
  function e3(e4) {
    var t6 = e4.pingDelegate, n3 = e4.sdkState, i3 = e4.logger;
    this.pingDelegate = t6, this.sdkState = n3, this._logger = i3;
  }
  return Object.defineProperty(e3.prototype, "isWaiting", { get: function() {
    return !!this._pingTimeoutTimer;
  }, enumerable: false, configurable: true }), e3.prototype.ping = function() {
    var e4, t6 = this;
    if (!this.sdkState.websocket)
      throw g.connectionRequired;
    var n3 = new no();
    try {
      var i3 = null !== (e4 = this.sdkState.websocket.pongTimeout) && void 0 !== e4 ? e4 : 5e3;
      this._pingTimeoutTimer = setTimeout(function() {
        t6._logger.debug("pinger.ping() timeout"), t6.pingDelegate.error();
      }, i3), this.pingDelegate.send(n3), this._logger.debug("pinger.ping()");
    } catch (e5) {
      this._logger.debug("pinger.ping() error", e5), this._pingTimeoutTimer && (clearTimeout(this._pingTimeoutTimer), this._pingTimeoutTimer = void 0), this.pingDelegate.error();
    }
    return n3;
  }, e3.prototype.pong = function() {
    this._logger.debug("pinger.pong()"), this._pingTimeoutTimer && (clearTimeout(this._pingTimeoutTimer), this._pingTimeoutTimer = void 0);
  }, e3.prototype.refreshTimer = function() {
    var e4, t6 = this;
    if (!this.sdkState.websocket)
      throw g.connectionRequired;
    this._logger.debug("pinger.refreshTimer()");
    var n3 = null !== (e4 = this.sdkState.websocket.pingInterval) && void 0 !== e4 ? e4 : 15e3;
    this.stop(), this._pingTimer = setInterval(function() {
      t6.ping();
    }, n3);
  }, e3.prototype.start = function() {
    this._logger.debug("pinger.start()"), this.refreshTimer(), this.ping();
  }, e3.prototype.stop = function() {
    this._logger.debug("pinger.stop()"), this._pingTimer && (clearInterval(this._pingTimer), this._pingTimer = void 0), this._pingTimeoutTimer && (clearTimeout(this._pingTimeoutTimer), this._pingTimeoutTimer = void 0);
  }, e3;
}();
var ro = ["premium_feature_list", "file_upload_size_limit", "application_attributes", "emoji_hash", "multiple_file_send_max_size", "notifications"];
var oo = function(e3) {
  function n3(t6, n4) {
    var i3, r3 = n4.sdkState, o3 = n4.cacheContext, s4 = n4.connectionHandlers, a3 = n4.sessionManager, c3 = n4.websocketClient, u3 = n4.dispatcher, l3 = n4.logger, h3 = n4.entryState, d3 = void 0 === h3 ? new to() : h3, _2 = this;
    return (_2 = e3.call(this) || this)._stateUpdatedAt = 0, _2._connectingAt = 0, _2._connectionRequestQueue = [], _2._iid = t6, _2.sdkState = r3, _2.cacheContext = o3, _2.connectionHandlers = s4, _2._sessionManager = a3, _2._websocketClient = c3, _2._dispatcher = u3, _2._logger = l3, _2._currentState = d3, (null === (i3 = _2.sdkState.websocket) || void 0 === i3 ? void 0 : i3.pingerDisabled) || (_2._pinger = new io({ pingDelegate: { send: function(e4) {
      return _2._websocketClient.send(e4);
    }, error: function(e4) {
      return _2._websocketClient.error(e4);
    } }, sdkState: _2.sdkState, logger: l3 })), _2._websocketClient.on("open", function() {
      _2._tryResolveConnectionRequest();
    }).on("message", function(e4) {
      if ("LOGI" === e4.code)
        _2.clearLoginTimer(), _2._dispatcher.dispatch(e4.as(Gr));
    }).on("ping-refresh", function() {
      var e4;
      return null === (e4 = _2._pinger) || void 0 === e4 ? void 0 : e4.refreshTimer();
    }).on("pong", function() {
      var e4;
      return null === (e4 = _2._pinger) || void 0 === e4 ? void 0 : e4.pong();
    }).on("error", function() {
      var e4;
      return null === (e4 = _2._pinger) || void 0 === e4 ? void 0 : e4.stop();
    }).on("close", function() {
      _2._logiProcessingTimer = setTimeout(function() {
        _2._logiProcessingTimer = void 0, _2._unresolvedLogi || _2._rejectConnectionRequest(g.networkError);
      }, 500);
    }), _2._dispatcher.on(function(e4) {
      e4 instanceof Gr && (_2._unresolvedLogi = e4, _2._tryResolveConnectionRequest());
    }), _2;
  }
  return t(n3, e3), Object.defineProperty(n3.prototype, "currentState", { get: function() {
    return this._currentState;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "hasSession", { get: function() {
    return this._sessionManager.session.hasSession;
  }, enumerable: false, configurable: true }), n3.prototype.changeState = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            if (!(t6 >= this._stateUpdatedAt))
              return [3, 4];
            this._currentState = e4, this._stateUpdatedAt = t6, this._dispatcher.dispatch(new Er({ stateType: e4.type })), this._logger.debug("connection state changes to ".concat(e4.name)), i3.label = 1;
          case 1:
            return i3.trys.push([1, 3, , 4]), [4, this._currentState.run(this)];
          case 2:
            return i3.sent(), [2, true];
          case 3:
            if (n4 = i3.sent(), v(n4))
              throw n4;
            return this._logger.debug("connection state change error ".concat(n4)), [3, 4];
          case 4:
            return [2, false];
        }
      });
    });
  }, n3.prototype._tryResolveConnectionRequest = function() {
    var e4;
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return t6 = this._unresolvedLogi, this._websocketClient.isOpen && t6 ? (this._unresolvedLogi = void 0, t6.error ? [3, 2] : [4, t6.applyTo(this._iid)]) : [3, 3];
          case 1:
            return n4.sent(), this._statLogConnection(), null === (e4 = this._pinger) || void 0 === e4 || e4.start(), this._connectionRequestQueue.forEach(function(e5) {
              return e5.resolve();
            }), this._connectionRequestQueue = [], this.sdkState.appState = "foreground", [3, 3];
          case 2:
            this._sessionManager.session.authToken = void 0, (t6.error.isSessionExpiredError || t6.error.isSessionInvalidatedError) && this._dispatcher.dispatch(new Ie({ reason: t6.error.code })), this._rejectConnectionRequest(t6.error), n4.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, n3.prototype._rejectConnectionRequest = function(e4) {
    var t6;
    if (null === (t6 = this._pinger) || void 0 === t6 || t6.stop(), this.clearLoginTimer(), this._connectionRequestQueue.length > 0) {
      var n4 = this._connectionRequestQueue;
      this._connectionRequestQueue = [], n4.forEach(function(t7) {
        return t7.reject(e4);
      }), this._statLogConnection(e4);
    }
  }, n3.prototype._url = function() {
    var e4, t6 = this.sdkState, n4 = t6.appId, i3 = t6.appVersion, r3 = t6.userId, o3 = t6.extensions, s4 = t6.sendbirdRuntimeEnvironment, a3 = this.cacheContext.localCacheEnabled, c3 = this._sessionManager.session, u3 = null === (e4 = this.sdkState.websocket) || void 0 === e4 ? void 0 : e4.compression, l3 = !!(null != o3 ? o3 : {}).sb_uikit, d3 = Be.userAgentWithExtension(o3);
    return "".concat(this.sdkState.websocket.host, "/?p=JS&pv=").concat(encodeURIComponent(h.OS_VERSION), "&sv=").concat(encodeURIComponent(h.SDK_VERSION), "&ai=").concat(n4).concat(i3 ? "&av=".concat(i3) : "").concat(c3.hasSession ? "" : "&user_id=".concat(encodeURIComponent(r3)), "&pmce=").concat(u3 ? 1 : 0, "&active=1&device_token_types=").concat(encodeURIComponent(["gcm", "huawei", "apns"].join(",")), "&SB-User-Agent=").concat(d3, "&SB-SDK-User-Agent=").concat(encodeURIComponent(Be.sendbirdSdkUserAgentWithExtension(s4)), "&Request-Sent-Timestamp=").concat(Date.now().toString(), "&include_extra_data=").concat(encodeURIComponent(String(ro))).concat(this._sessionManager.handler ? "&expiring_session=1" : "", "&use_local_cache=").concat(a3 ? 1 : 0, "&include_poll_details=1").concat(l3 ? "&uikit_config=1" : "");
  }, n3.prototype._statLogConnection = function(e4) {
    var t6;
    this._dispatcher.dispatch(new Me(new Ge({ type: Ae.WEBSOCKET_CONNECT, data: { host_url: null === (t6 = this.sdkState.websocket) || void 0 === t6 ? void 0 : t6.host, success: !e4, latency: Date.now() - this._connectingAt, error_code: null == e4 ? void 0 : e4.code, error_description: null == e4 ? void 0 : e4.message } })));
  }, n3.prototype.connect = function(e4) {
    var t6;
    return void 0 === e4 && (e4 = ""), r(this, void 0, void 0, function() {
      var n4, i3, r3, s4 = this;
      return o(this, function(o3) {
        return this._logiProcessingTimer && (clearTimeout(this._logiProcessingTimer), this._logiProcessingTimer = void 0, this._rejectConnectionRequest(g.connectionCanceled)), n4 = this._url(), i3 = new We(), this._connectionRequestQueue.push(i3), 1 === this._connectionRequestQueue.length && (this._connectingAt = Date.now(), this._loginTimer = setTimeout(function() {
          s4._loginTimer = void 0, s4._rejectConnectionRequest(g.loginTimeout);
        }, null === (t6 = this.sdkState.websocket) || void 0 === t6 ? void 0 : t6.responseTimeout), r3 = this._sessionManager.session, e4 && (r3.authToken = e4), this._websocketClient.connect(n4, JSON.stringify(r3.hasSession ? { auth: r3.sessionKey } : { token: e4 }))), [2, i3.promise];
      });
    });
  }, n3.prototype.cancelConnectForRetry = function() {
    this._dispatcher.dispatch(Gr.asError(g.connectionRenew));
  }, n3.prototype.disconnect = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._websocketClient.disconnect()];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, n3.prototype.logout = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this.sdkState.userId = void 0, this._unresolvedLogi = void 0, [4, this._sessionManager.clear()];
          case 1:
            return e4.sent(), [4, this.disconnect()];
          case 2:
            return e4.sent(), [2];
        }
      });
    });
  }, n3.prototype.clearLoginTimer = function() {
    this._loginTimer && (clearTimeout(this._loginTimer), this._loginTimer = void 0);
  }, n3;
}(J);
var so = function(e3) {
  function n3(t6) {
    var n4 = t6.appId, i3 = t6.userId, r3 = t6.services, o3 = void 0 === r3 ? [U.CHAT] : r3, s4 = t6.includeUIKitConfig, a3 = void 0 !== s4 && s4, c3 = t6.localCacheEnabled, u3 = void 0 === c3 || c3, l3 = t6.expiringSession, h3 = void 0 === l3 || l3, d3 = e3.call(this) || this;
    return d3.path = "".concat(oe, "/").concat(i3, "/login"), d3.method = ie.POST, d3.params = { expiring_session: !!h3, services: o3, include_logi: true, include_extra_data: String(ro), uikit_config: a3, use_local_cache: u3, app_id: n4 }, d3.requireAuth = false, d3;
  }
  return t(n3, e3), n3;
}(Ce);
var ao = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.logi = new Gr(t6, "LOGI", n4), i3;
  }
  return t(n3, e3), n3;
}(Oe);
!function(e3) {
  e3[e3.ALL = 0] = "ALL", e3[e3.WEBSOCKET = 1] = "WEBSOCKET", e3[e3.API = 2] = "API";
}(Mr || (Mr = {}));
var co;
var uo = [Le, so];
var lo = function() {
  function e3(e4, t6) {
    var n3 = t6.session, i3 = t6.sdkState, r3 = t6.dispatcher, o3 = t6.logger, a3 = t6.useFetchCompat, c3 = void 0 !== a3 && a3, u3 = this;
    this._currentConnectionStateType = dr.INITIALIZED, this._lazyCallQueue = [], this.commandRouter = new pr(e4, { session: n3, sdkState: i3, dispatcher: r3, logger: o3, useFetchCompat: c3 }), this._session = n3, this._logger = o3, this._dispatcher = r3, this._dispatcher.on(function(e5) {
      var t7, n4, i4, r4;
      if (e5 instanceof Er) {
        var o4 = e5.stateType;
        switch (u3._currentConnectionStateType = o4, o4) {
          case dr.CONNECTED:
            u3._resolveLazyCallQueue();
            break;
          case dr.INITIALIZED:
          case dr.INTERNAL_DISCONNECTED:
          case dr.EXTERNAL_DISCONNECTED:
          case dr.LOGOUT:
            u3._rejectLazyCallQueue((null === (i4 = u3._session) || void 0 === i4 ? void 0 : i4.hasSession) ? g.connectionClosed : g.connectionRequired);
        }
      } else if (e5 instanceof vr)
        (null === (r4 = u3._session.services) || void 0 === r4 ? void 0 : r4.includes(U.CHAT)) || u3._resolveLazyCallQueue(Mr.API);
      else if (e5 instanceof gr || e5 instanceof br)
        u3._rejectLazyCallQueue(g.connectionClosed);
      else if (e5 instanceof Fe) {
        var a4 = e5.request, c4 = e5.deferred, l3 = e5.error;
        try {
          for (var h3 = s(uo), d3 = h3.next(); !d3.done; d3 = h3.next()) {
            if (a4 instanceof d3.value)
              return void c4.reject(l3);
          }
        } catch (e6) {
          t7 = { error: e6 };
        } finally {
          try {
            d3 && !d3.done && (n4 = h3.return) && n4.call(h3);
          } finally {
            if (t7)
              throw t7.error;
          }
        }
        u3._lazyCallQueue.push({ command: a4, deferred: c4 });
      }
    });
  }
  return Object.defineProperty(e3.prototype, "isReady", { get: function() {
    return this._currentConnectionStateType === dr.CONNECTED;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isLazyCallActivated", { get: function() {
    return this._currentConnectionStateType === dr.CONNECTING || this._currentConnectionStateType === dr.RECONNECTING || this._session.isRefreshing;
  }, enumerable: false, configurable: true }), e3.prototype._classifyLazyCallQueueByScope = function(e4) {
    var t6, n3 = [], i3 = [];
    switch (e4) {
      case Mr.ALL:
        t6 = null;
        break;
      case Mr.WEBSOCKET:
        t6 = De;
        break;
      case Mr.API:
        t6 = Ce;
    }
    var r3 = false;
    return this._lazyCallQueue.forEach(function(e5) {
      !t6 || e5.command instanceof t6 || (r3 = true), r3 ? i3.push(e5) : n3.push(e5);
    }), [n3, i3];
  }, e3.prototype._resolveLazyCallQueue = function(e4) {
    var t6 = this;
    void 0 === e4 && (e4 = Mr.ALL);
    var n3 = a(this._classifyLazyCallQueueByScope(e4), 2), i3 = n3[0], s4 = n3[1];
    this._lazyCallQueue = s4, i3.forEach(function(e5) {
      return r(t6, void 0, void 0, function() {
        var t7, n4, i4, r3, s5;
        return o(this, function(o3) {
          switch (o3.label) {
            case 0:
              t7 = e5.command, n4 = e5.deferred, (i4 = e5.timeout) && clearTimeout(i4), o3.label = 1;
            case 1:
              return o3.trys.push([1, 3, , 4]), [4, this.send(t7)];
            case 2:
              return r3 = o3.sent(), n4.resolve(r3), [3, 4];
            case 3:
              return s5 = o3.sent(), n4.reject(s5), [3, 4];
            case 4:
              return [2];
          }
        });
      });
    });
  }, e3.prototype._rejectLazyCallQueue = function(e4, t6) {
    var n3 = this;
    void 0 === t6 && (t6 = Mr.ALL);
    var i3 = a(this._classifyLazyCallQueueByScope(t6), 2), s4 = i3[0], c3 = i3[1];
    this._lazyCallQueue = c3, s4.forEach(function(t7) {
      return r(n3, void 0, void 0, function() {
        var n4, i4;
        return o(this, function(r3) {
          return n4 = t7.deferred, i4 = t7.timeout, clearTimeout(i4), n4.reject(e4), [2];
        });
      });
    });
  }, e3.prototype.send = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i3 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e4 instanceof De ? this.isReady ? (this._logger.debug("send websocket request", e4), [4, this.commandRouter.send(e4)]) : [3, 2] : [3, 4];
          case 1:
          case 5:
            return [2, r3.sent()];
          case 2:
            if (this.isLazyCallActivated)
              return this._logger.debug("wait websocket request", e4), t6 = new We(), this._lazyCallQueue.push({ command: e4, deferred: t6, timeout: setTimeout(function() {
                return i3.timeout(e4.requestId);
              }, 1e4) }), [2, t6.promise];
            throw this._logger.debug("fail websocket request"), g.connectionRequired;
          case 3:
          case 7:
            return [3, 9];
          case 4:
            return e4 instanceof Ce ? this._session.hasSession ? (this._logger.debug("send api request", e4), [4, this.commandRouter.send(e4)]) : [3, 6] : [3, 8];
          case 6:
            if (this.isLazyCallActivated)
              return this._logger.debug("wait api request", e4), t6 = new We(), this._lazyCallQueue.push({ command: e4, deferred: t6, timeout: setTimeout(function() {
                return i3.timeout(e4.requestId);
              }, 1e4) }), [2, t6.promise];
            throw n3 = g.connectionRequired, this._logger.debug("fail api request", n3), n3;
          case 8:
            throw g.invalidCommand;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.forceSend = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return this._logger.debug("send forced request", e4), e4 instanceof De || e4 instanceof Ce ? [4, this.commandRouter.send(e4)] : [3, 2];
          case 1:
            return [2, t6.sent()];
          case 2:
            throw g.invalidCommand;
        }
      });
    });
  }, e3.prototype.timeout = function(e4) {
    this._logger.debug("timeout request", e4);
    var t6 = this._lazyCallQueue.findIndex(function(t7) {
      return t7.command.requestId === e4;
    });
    t6 > -1 && (this._lazyCallQueue[t6].deferred.reject(g.connectionRequired), this._lazyCallQueue.splice(t6, 1));
  }, e3.prototype.cancel = function(e4) {
    this._logger.debug("cancel api request", e4), this.commandRouter.cancel(e4);
  }, e3.prototype.cancelAll = function() {
    this._logger.debug("cancel all api requests"), this.commandRouter.cancelAll();
  }, e3;
}();
var ho = "sendbird@devicetokens";
var _o = function() {
  function e3(e4) {
    var t6 = e4.type, n3 = e4.token;
    this.type = t6, this.token = n3;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ type: e4.type, token: e4.token }));
  }, e3;
}();
var fo = /* @__PURE__ */ new WeakMap();
var po = function(e3) {
  function n3(t6) {
    var n4 = t6._iid, i3 = t6.session, r3 = t6.cacheContext, o3 = t6.sdkState, s4 = t6.dispatcher, a3 = t6.requestQueue, c3 = t6.logger, u3 = e3.call(this) || this;
    return u3._currentConnectionStateType = dr.INITIALIZED, u3._isRefreshingAuthToken = false, u3.currentUser = null, u3.session = i3, u3._iid = n4, u3._cacheContext = r3, u3._sdkState = o3, u3._dispatcher = s4, u3._requestQueue = a3, u3._logger = c3, u3._deviceTokens = [], u3._dispatcher.on(function(e4) {
      var t7;
      if (e4 instanceof Er) {
        var n5 = e4.stateType;
        u3._currentConnectionStateType = n5;
      } else
        e4 instanceof Ie && u3.handler && !u3.isSessionKeyRefreshing && ((null === (t7 = e4.error) || void 0 === t7 ? void 0 : t7.isSessionInvalidatedError) ? u3.handler.onSessionClosed && u3.handler.onSessionClosed() : (e4.invalidateSessionToken && (u3.session.authToken = void 0), e4.error && e4.error.isSessionExpiredError && (u3._logger.debug("session expired"), u3.handler.onSessionExpired && u3.handler.onSessionExpired(), u3.refresh())));
    }), u3;
  }
  return t(n3, e3), Object.defineProperty(n3.prototype, "ekey", { get: function() {
    return fo.get(this);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "deviceTokens", { get: function() {
    return this._deviceTokens;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "deviceTokenLastDeletedAt", { get: function() {
    return this._deviceTokenLastDeletedAt;
  }, enumerable: false, configurable: true }), n3.prototype.indexOfDeviceToken = function(e4, t6) {
    return this._deviceTokens.findIndex(function(n4) {
      return n4.type === e4 && n4.token === t6;
    });
  }, n3.prototype.hasDeviceToken = function(e4, t6) {
    return this.indexOfDeviceToken(e4, t6) >= 0;
  }, n3.prototype.createRefreshWebsocketCommand = function(e4, t6) {
    return new xe({ authToken: e4, expiringSession: true, requestId: t6 });
  }, n3.prototype._refreshSessionKeyByWebSocket = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n4, i3, r3, s4;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return t6 = this.createRefreshWebsocketCommand(e4), [4, this._requestQueue.forceSend(t6)];
          case 1:
            if (n4 = o3.sent(), i3 = n4.as(Pe), r3 = i3.newKey, s4 = i3.error)
              throw s4;
            return this.session.sessionKey = null != r3 ? r3 : this.session.sessionKey, [2];
        }
      });
    });
  }, n3.prototype._refreshSessionKeyByApi = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n4 = this;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t6 = new Le({ userId: this._sdkState.userId, authToken: e4, services: this.session.services, expiringSession: true }), [4, Xr(function(e5) {
              return r(n4, void 0, void 0, function() {
                var n5, i4, r3, s4, a3;
                return o(this, function(o3) {
                  switch (o3.label) {
                    case 0:
                      return o3.trys.push([0, 2, , 3]), [4, this._requestQueue.forceSend(t6)];
                    case 1:
                      return n5 = o3.sent(), i4 = n5.as(Ue), r3 = i4.key, s4 = i4.services, this.session.sessionKey = r3, this.session.services = s4, [3, 3];
                    case 2:
                      if (a3 = o3.sent(), !this._isSessionRelatedError(a3))
                        throw a3.code === u.APPLICATION_NOT_FOUND && e5(a3), a3;
                      return e5(a3), [3, 3];
                    case 3:
                      return [2];
                  }
                });
              });
            }, 3)];
          case 1:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype._refreshSessionKey = function(e4, t6) {
    return void 0 === t6 && (t6 = true), r(this, void 0, void 0, function() {
      var n4, i3, r3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (this._currentConnectionStateType !== dr.CONNECTED)
              return [3, 11];
            o3.label = 1;
          case 1:
            return o3.trys.push([1, 3, , 11]), [4, this._refreshSessionKeyByWebSocket(e4)];
          case 2:
            return o3.sent(), this.complete(), [2];
          case 3:
            return (n4 = o3.sent()) instanceof g && n4.isSessionTokenExpiredError ? t6 ? [4, this._receiveNewAuthToken()] : [3, 9] : [3, 10];
          case 4:
            return (r3 = o3.sent()) ? (this.session.authToken = r3, [4, this._refreshSessionKey(this.session.authToken, false)]) : [3, 6];
          case 5:
            return o3.sent(), this.complete(), [3, 8];
          case 6:
            return [4, this.clear()];
          case 7:
            o3.sent(), o3.label = 8;
          case 8:
            return [2];
          case 9:
            this.session.authToken = void 0, o3.label = 10;
          case 10:
            return [3, 11];
          case 11:
            return o3.trys.push([11, 13, , 23]), [4, this._refreshSessionKeyByApi(e4)];
          case 12:
            return o3.sent(), this.complete(), [3, 23];
          case 13:
            return (i3 = o3.sent()) instanceof g && i3.isSessionTokenExpiredError ? t6 ? [4, this._receiveNewAuthToken()] : [3, 19] : [3, 21];
          case 14:
            return (r3 = o3.sent()) ? (this.session.authToken = r3, [4, this._refreshSessionKeyByApi(this.session.authToken)]) : [3, 16];
          case 15:
            return o3.sent(), this.complete(), [3, 18];
          case 16:
            return [4, this.clear()];
          case 17:
            o3.sent(), o3.label = 18;
          case 18:
            return [3, 20];
          case 19:
            throw this.session.authToken = void 0, i3;
          case 20:
            return [3, 22];
          case 21:
            throw i3;
          case 22:
            return [3, 23];
          case 23:
            return [2];
        }
      });
    });
  }, n3.prototype._receiveNewAuthToken = function() {
    var e4, t6 = this, n4 = new We();
    if (this._isRefreshingAuthToken = true, this.session.clear(), null === (e4 = this.handler) || void 0 === e4 ? void 0 : e4.onSessionTokenRequired) {
      var i3 = null, s4 = function() {
        i3 && (clearTimeout(i3), i3 = null);
      }, a3 = function(e5) {
        s4(), t6._isRefreshingAuthToken && (t6._isRefreshingAuthToken = false, n4.resolve(e5));
      }, c3 = function(e5) {
        s4(), t6._isRefreshingAuthToken && (t6._isRefreshingAuthToken = false, n4.reject(e5));
      };
      i3 = setTimeout(function() {
        return c3();
      }, 1e3 * this._sdkState.sessionTokenRefreshTimeout), jr(function() {
        return r(t6, void 0, void 0, function() {
          var e5;
          return o(this, function(t7) {
            return (null === (e5 = this.handler) || void 0 === e5 ? void 0 : e5.onSessionTokenRequired) && this.handler.onSessionTokenRequired(a3, c3), [2];
          });
        });
      });
    } else
      n4.resolve(null);
    return n4.promise;
  }, n3.prototype._isSessionRelatedError = function(e4) {
    return e4 instanceof g && (e4.isSessionExpiredError || e4.isSessionInvalidatedError);
  }, Object.defineProperty(n3.prototype, "isSessionKeyRefreshing", { get: function() {
    return this.session.isRefreshing;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isRefreshingAuthToken", { get: function() {
    return this._isRefreshingAuthToken;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isSessionExpiring", { get: function() {
    return !!this.handler;
  }, enumerable: false, configurable: true }), n3.prototype.authenticateFeed = function(e4, t6) {
    var n4;
    return r(this, void 0, void 0, function() {
      var i3, r3, s4;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this.session.authToken = t6, i3 = new so({ appId: this._sdkState.appId, userId: e4, services: [U.FEED], includeUIKitConfig: !!(null !== (n4 = this._sdkState.extensions) && void 0 !== n4 ? n4 : {}).sb_uikit, localCacheEnabled: this._cacheContext.localCacheEnabled, expiringSession: !t6 || this.isSessionExpiring }), [4, this._requestQueue.commandRouter.send(i3)];
          case 1:
            return r3 = o3.sent(), (s4 = r3.as(ao).logi).error ? [3, 3] : [4, s4.applyTo(this._iid)];
          case 2:
            return o3.sent(), [3, 4];
          case 3:
            throw s4.error;
          case 4:
            return [2];
        }
      });
    });
  }, n3.prototype.login = function(e4) {
    var t6;
    return r(this, void 0, void 0, function() {
      var n4, i3, r3, s4, a3, c3, u3, l3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return n4 = e4.key, i3 = e4.ekey, r3 = e4.services, s4 = e4.userProfile, a3 = e4.deviceTokenLastDeletedAt, c3 = void 0 === a3 ? 0 : a3, this.session.hasLessServiceScopeThan(r3) && (this.session.sessionKey = n4, this.session.services = r3), fo.set(this, i3), this._deviceTokenCacheEnabled = null === (t6 = null == s4 ? void 0 : s4.appInfo) || void 0 === t6 ? void 0 : t6.deviceTokenCache, u3 = this._cacheContext.preference, this._deviceTokenCacheEnabled ? [4, u3.get(ho)] : [3, 5];
          case 1:
            return !(l3 = o3.sent()) || l3.lastDeletedAt < c3 ? (this._deviceTokens = [], this._deviceTokenLastDeletedAt = c3, [4, this.saveDeviceToken()]) : [3, 3];
          case 2:
            return o3.sent(), [3, 4];
          case 3:
            this._deviceTokens = l3.tokens.map(function(e5) {
              return new _o(_o.payloadify(e5));
            }), this._deviceTokenLastDeletedAt = l3.lastDeletedAt, o3.label = 4;
          case 4:
            return [3, 7];
          case 5:
            return [4, u3.remove(ho)];
          case 6:
            o3.sent(), o3.label = 7;
          case 7:
            return [2];
        }
      });
    });
  }, n3.prototype.complete = function() {
    var e4 = this;
    this.dispatch("refresh"), this._dispatcher.dispatch(new vr()), jr(function() {
      return r(e4, void 0, void 0, function() {
        var e5;
        return o(this, function(t6) {
          return this._logger.debug("session refreshed"), (null === (e5 = this.handler) || void 0 === e5 ? void 0 : e5.onSessionRefreshed) && this.handler.onSessionRefreshed(), [2];
        });
      });
    });
  }, n3.prototype.error = function(e4) {
    var t6 = this;
    jr(function() {
      return r(t6, void 0, void 0, function() {
        var t7;
        return o(this, function(n4) {
          return (null === (t7 = this.handler) || void 0 === t7 ? void 0 : t7.onSessionError) && this.handler.onSessionError(e4), [2];
        });
      });
    });
  }, n3.prototype.close = function() {
    var e4 = this;
    this.dispatch("close"), this._dispatcher.dispatch(new br()), jr(function() {
      return r(e4, void 0, void 0, function() {
        var e5;
        return o(this, function(t6) {
          return this._logger.debug("session closed"), (null === (e5 = this.handler) || void 0 === e5 ? void 0 : e5.onSessionClosed) && this.handler.onSessionClosed(), [2];
        });
      });
    });
  }, n3.prototype.refresh = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n4;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            if (!this.isSessionExpiring)
              return [3, 13];
            if (this.session.isRefreshing)
              return [3, 13];
            if (this.session.isRefreshing = true, this.session.authToken)
              return [3, 7];
            i3.label = 1;
          case 1:
            return i3.trys.push([1, 6, , 7]), [4, this._receiveNewAuthToken()];
          case 2:
            return (e4 = i3.sent()) ? (this._logger.debug("session refreshing.."), this.session.authToken = e4, [3, 5]) : [3, 3];
          case 3:
            return [4, this.clear()];
          case 4:
            return i3.sent(), this.session.isRefreshing = false, [2];
          case 5:
            return [3, 7];
          case 6:
            return i3.sent(), n4 = g.sessionTokenRequestFailed, this._dispatcher.dispatch(new gr()), this.error(n4), this.session.isRefreshing = false, this._logger.debug("refresh auth token error = ", n4), [2];
          case 7:
            return i3.trys.push([7, 9, , 13]), [4, this._refreshSessionKey(this.session.authToken)];
          case 8:
            return i3.sent(), this.session.isRefreshing = false, [3, 13];
          case 9:
            return t6 = i3.sent(), this.session.isRefreshing = false, t6 instanceof g && (t6.code === u.APPLICATION_NOT_FOUND || t6.code === u.SESSION_TOKEN_EXPIRED) ? (this.session.authToken = void 0, [4, this.refresh()]) : [3, 11];
          case 10:
            return i3.sent(), [3, 12];
          case 11:
            return n4 = g.sessionTokenRefreshFailed, this._dispatcher.dispatch(new gr()), this.error(n4), [2];
          case 12:
            return [3, 13];
          case 13:
            return [2];
        }
      });
    });
  }, n3.prototype.setDeviceToken = function(e4, t6) {
    if (this._deviceTokenCacheEnabled && this.indexOfDeviceToken(e4, t6) < 0)
      return this._deviceTokens.push(new _o({ type: e4, token: t6 })), true;
    return false;
  }, n3.prototype.unsetDeviceToken = function(e4, t6) {
    if (this._deviceTokenCacheEnabled) {
      var n4 = this.indexOfDeviceToken(e4, t6);
      n4 >= 0 && this._deviceTokens.splice(n4, 1);
    }
  }, n3.prototype.unsetDeviceTokens = function(e4) {
    this._deviceTokenCacheEnabled && (this._deviceTokens = e4 ? this._deviceTokens.filter(function(t6) {
      return t6.type !== e4;
    }) : []);
  }, n3.prototype.setDeviceTokenDeletedAt = function(e4) {
    e4 > 0 && (this._deviceTokenLastDeletedAt = e4);
  }, n3.prototype.saveDeviceToken = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._deviceTokenCacheEnabled ? [4, this._cacheContext.preference.set(ho, { tokens: this._deviceTokens, lastDeletedAt: this._deviceTokenLastDeletedAt })] : [3, 2];
          case 1:
            e4.sent(), e4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this.currentUser = null, this.session.clear(), this.close(), fo.delete(this), this._deviceTokens = [], this._deviceTokenLastDeletedAt = 0, [4, this.saveDeviceToken()];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, n3;
}(J);
var Eo = function() {
  function e3(e4, t6) {
    var n3 = t6.sdkState, i3 = t6.cacheContext, r3 = t6.connectionHandlers, o3 = t6.sessionManager, s4 = t6.websocketClient, a3 = t6.dispatcher, c3 = t6.logger, u3 = t6.disableWebSocketCloseEventHandling, l3 = void 0 !== u3 && u3;
    this._disableWebSocketCloseEventHandling = false, this._externalCalledWebSocketClose = false, this._logger = c3, this._disableWebSocketCloseEventHandling = l3, this._context = new oo(e4, { sdkState: n3, cacheContext: i3, connectionHandlers: r3, sessionManager: o3, websocketClient: s4, dispatcher: a3, logger: c3 }), this._sdkState = n3, this._sessionManager = o3, this._websocketClient = s4;
  }
  return e3.prototype._registerEventDispatcher = function() {
    var e4 = this;
    this._disableWebSocketCloseEventHandling || (this._clearEventDispatcher(), this._sessionEventDispatcherContext = this._sessionManager.on("refresh", function() {
      e4.isConnecting || e4.isConnected || (e4._logger.debug("try reconnect by session key refresh"), Kr(function() {
        return r(e4, void 0, void 0, function() {
          return o(this, function(e5) {
            switch (e5.label) {
              case 0:
                return [4, this.reconnect()];
              case 1:
                return e5.sent(), [2];
            }
          });
        });
      }));
    }), this._websocketEventDispatcherContext = this._websocketClient.on("close", function() {
      "foreground" !== e4._sdkState.appState || e4._externalCalledWebSocketClose || Kr(function() {
        return r(e4, void 0, void 0, function() {
          return o(this, function(e5) {
            switch (e5.label) {
              case 0:
                return this._sessionManager.isSessionKeyRefreshing ? [3, 2] : (this._logger.debug("try reconnect by websocket connection closed"), [4, this.reconnect()]);
              case 1:
                return e5.sent(), [3, 4];
              case 2:
                return [4, this.disconnectWebSocket()];
              case 3:
                e5.sent(), e5.label = 4;
              case 4:
                return [2];
            }
          });
        });
      });
    }));
  }, e3.prototype._clearEventDispatcher = function() {
    this._sessionEventDispatcherContext && (this._sessionEventDispatcherContext.close(), this._sessionEventDispatcherContext = void 0), this._websocketEventDispatcherContext && (this._websocketEventDispatcherContext.close(), this._websocketEventDispatcherContext = void 0);
  }, Object.defineProperty(e3.prototype, "isConnected", { get: function() {
    return this._context.currentState.type === dr.CONNECTED;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isConnecting", { get: function() {
    var e4 = this._context.currentState;
    return e4.type === dr.CONNECTING || e4.type === dr.RECONNECTING;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "websocketClient", { get: function() {
    return this._websocketClient;
  }, enumerable: false, configurable: true }), e3.prototype.connect = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return t6 = this._context.currentState, this._externalCalledWebSocketClose = false, [4, t6.onConnect(this._context, e4)];
          case 1:
            return n3.sent(), this._registerEventDispatcher(), [2];
        }
      });
    });
  }, e3.prototype.reconnect = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this._context.currentState, this._externalCalledWebSocketClose = false, [4, e4.onReconnect(this._context, {})];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.resetAndReconnect = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this._context.currentState, this._externalCalledWebSocketClose = false, [4, e4.onReconnect(this._context, { resetReconnectCount: true })];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.background = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this._context.currentState, this._externalCalledWebSocketClose = true, [4, e4.onDisconnect(this._context, { autoReconnect: false })];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.disconnect = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._context.currentState.onDisconnect(this._context, { error: e4, autoReconnect: true })];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.disconnectWebSocket = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this._context.currentState, this._externalCalledWebSocketClose = true, [4, e4.onDisconnectWebSocket(this._context)];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.logout = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this._context.currentState, this._clearEventDispatcher(), [4, e4.onLogout(this._context)];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3;
}();
var vo = function(e3) {
  function n3(t6) {
    var n4, i3, r3, o3, s4 = t6.type, a3 = t6.data, c3 = t6.ts, u3 = void 0 === c3 ? Date.now() : c3, l3 = e3.call(this, { type: s4, data: a3, ts: u3 }) || this;
    return l3.date = new Date(u3), l3.key = "".concat((n4 = l3.date, i3 = n4.getFullYear(), r3 = String(n4.getMonth() + 1).padStart(2, "0"), o3 = String(n4.getDate()).padStart(2, "0"), "".concat(i3).concat(r3).concat(o3)), "_").concat(s4), l3;
  }
  return t(n3, e3), n3;
}(Ge);
var go = function(e3) {
  function n3(t6) {
    var n4 = t6.deviceId, i3 = t6.statLogs, r3 = e3.call(this) || this;
    return r3.method = ie.POST, r3.path = "".concat(ge), r3.params = { device_id: n4, log_entries: i3.map(function(e4) {
      return Ge.payloadify(e4);
    }) }, r3;
  }
  return t(n3, e3), n3;
}(Ce);
var bo = function(e3, t6) {
  var n3, i3;
  if (null !== e3 && null !== t6) {
    var r3 = Object.keys(e3), o3 = Object.keys(t6), u3 = c([], a(new Set(c(c([], a(r3), false), a(o3), false))), false), l3 = {};
    try {
      for (var h3 = s(u3), d3 = h3.next(); !d3.done; d3 = h3.next()) {
        var _2 = d3.value, f4 = typeof e3[_2], p5 = typeof t6[_2];
        "undefined" === f4 ? l3[_2] = t6[_2] : "undefined" === p5 ? l3[_2] = e3[_2] : f4 !== p5 ? l3[_2] = t6[_2] : "object" === f4 && e3[_2] && t6[_2] ? l3[_2] = bo(e3[_2], t6[_2]) : l3[_2] = t6[_2];
      }
    } catch (e4) {
      n3 = { error: e4 };
    } finally {
      try {
        d3 && !d3.done && (i3 = h3.return) && i3.call(h3);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
    return l3;
  }
  return t6;
};
!function(e3) {
  e3[e3.PENDING = 0] = "PENDING", e3[e3.COLLECT_ONLY = 1] = "COLLECT_ONLY", e3[e3.ENABLED = 2] = "ENABLED", e3[e3.DISABLED = 3] = "DISABLED";
}(co || (co = {}));
var mo;
var yo = function(e3) {
  function i3(t6) {
    var n3 = t6.cacheContext, i4 = t6.requestQueue, r3 = t6.dispatcher, o3 = t6.baseLimit, s4 = void 0 === o3 ? 100 : o3, a3 = t6.maxLimit, c3 = void 0 === a3 ? 1e3 : a3, u3 = t6.minLimit, l3 = void 0 === u3 ? 10 : u3, h3 = e3.call(this) || this;
    return h3.queue = [], h3.flushWaitQueue = [], h3.enabledState = co.PENDING, h3.isFlushing = false, h3.generation = 1, h3.lastFlushedAt = 0, h3._collectRequestStat = true, h3._collectFeatureLocalCacheStat = true, h3._collectionNotificationStat = true, h3.deviceId = Y(), h3.cacheContext = n3, h3.requestQueue = i4, h3.dispatcher = r3, h3.baseLimit = s4, h3.limit = s4, h3.maxLimit = c3, h3.minLimit = l3, h3;
  }
  return t(i3, e3), Object.defineProperty(i3.prototype, "isEnabled", { get: function() {
    return this.enabledState === co.ENABLED;
  }, enumerable: false, configurable: true }), i3.prototype._arrangeStat = function() {
    var e4 = c([], a(this.queue), false);
    this._collectRequestStat || (e4 = e4.filter(function(e5) {
      return e5.type !== Ae.API_RESULT && e5.type !== Ae.WEBSOCKET_CONNECT;
    })), this._collectFeatureLocalCacheStat || (e4 = e4.filter(function(e5) {
      return e5.type !== Ae.FEATURE_LOCALCACHE && e5.type !== Ae.FEATURE_LOCALCACHE_EVENT;
    })), this._collectionNotificationStat || (e4 = e4.filter(function(e5) {
      return e5.type !== Ae.NOTIFICATION;
    })), this.queue = e4;
  }, i3.prototype._save = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return this.isEnabled ? (e4 = c(c([], a(this.queue), false), a(this.flushWaitQueue), false), [4, this.cacheContext.preference.set(this.key, { deviceId: this.deviceId, statLogs: e4.map(function(e5) {
              return Ge.payloadify(e5);
            }), generation: this.generation++, lastFlushedAt: this.lastFlushedAt })]) : [3, 2];
          case 1:
            t6.sent(), this.dispatch("save", e4), t6.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, i3.prototype._flush = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, i4, r3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (!this.isEnabled)
              return [3, 10];
            if (this.isFlushing)
              return [3, 10];
            this.isFlushing = true, o3.label = 1;
          case 1:
            return o3.trys.push([1, 5, 9, 10]), this._arrangeStat(), e4 = this.queue.filter(function(e5) {
              if (e5 instanceof vo) {
                var t7 = /* @__PURE__ */ new Date(), n4 = a([e5.date.getFullYear(), t7.getFullYear()], 2), i5 = n4[0], r4 = n4[1];
                if (i5 < r4)
                  return true;
                if (i5 === r4) {
                  var o4 = a([e5.date.getMonth(), t7.getMonth()], 2), s4 = o4[0], c3 = o4[1];
                  if (s4 < c3)
                    return true;
                  if (s4 === c3) {
                    var u3 = a([e5.date.getDate(), t7.getDate()], 2);
                    return u3[0] < u3[1];
                  }
                }
              }
              return false;
            }), t6 = this.queue.filter(function(e5) {
              return !(e5 instanceof vo);
            }), (n3 = c(c([], a(e4), false), a(t6), false).slice(0, Math.min(this.limit, this.maxLimit))).length > 0 ? (i4 = new go({ deviceId: this.deviceId, statLogs: n3 }), [4, this.requestQueue.send(i4)]) : [3, 4];
          case 2:
            return o3.sent(), this.dispatch("flush", n3), this.queue = c(c([], a(e4), false), a(t6), false).slice(n3.length).concat(this.flushWaitQueue), this.flushWaitQueue = [], [4, this._save()];
          case 3:
            o3.sent(), o3.label = 4;
          case 4:
            return this.limit = this.baseLimit, this.lastFlushedAt = Date.now(), [3, 10];
          case 5:
            return (r3 = o3.sent()) instanceof g ? r3.code !== u.STAT_LOG_NOT_ALLOWED ? [3, 7] : [4, this.clear()] : [3, 8];
          case 6:
            return o3.sent(), this.enabledState = co.DISABLED, [3, 8];
          case 7:
            r3.code === u.STAT_UPLOAD_NOT_ALLOWED && (this.enabledState = co.COLLECT_ONLY), o3.label = 8;
          case 8:
            return this.limit = this.limit + 20, [3, 10];
          case 9:
            return this.isFlushing = false, [7];
          case 10:
            return [2];
        }
      });
    });
  }, i3.prototype.init = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, i4, r3 = this;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this.key = e4, [4, this.cacheContext.preference.get(this.key)];
          case 1:
            return (t6 = o3.sent()) ? (this.deviceId = t6.deviceId, this.queue = t6.statLogs.map(function(e5) {
              var t7;
              return e5.stat_type === Ae.FEATURE_LOCALCACHE_EVENT && (e5.data = n({ message_init_policy: "", starting_point: 0 }, e5.data)), e5.stat_type === Ae.NOTIFICATION && (e5.data = te(n(n({}, e5.data), { message_id: null !== (t7 = e5.data.notificationId) && void 0 !== t7 ? t7 : e5.data.message_id, notificationId: void 0 }))), new Ge({ type: e5.stat_type, ts: e5.ts, data: e5.data });
            }), this.generation = t6.generation, this.lastFlushedAt = t6.lastFlushedAt, Date.now() - this.lastFlushedAt >= 108e5 && this.queue.length >= this.minLimit ? (i4 = Math.min(Math.floor(18e4 * Math.random()), 100), [4, Zr(i4)]) : [3, 4]) : [3, 4];
          case 2:
            return o3.sent(), [4, this._flush()];
          case 3:
            o3.sent(), o3.label = 4;
          case 4:
            return this.commandEventContext || (this.commandEventContext = this.dispatcher.on(function(e5) {
              if (e5 instanceof Me) {
                var t7 = e5.statLog;
                r3.put(t7);
              } else if (e5 instanceof Hr) {
                var n3 = e5.request, i5 = e5.features, o4 = e5.options;
                r3._collectRequestStat = n3, r3._collectFeatureLocalCacheStat = null == i5 ? void 0 : i5.localCache, r3._collectionNotificationStat = null == i5 ? void 0 : i5.notification, r3._arrangeStat(), r3._collectRequestStat || r3._collectFeatureLocalCacheStat || r3._collectionNotificationStat ? r3.enabledState = o4.ingestion ? co.ENABLED : co.COLLECT_ONLY : r3.enabledState = co.DISABLED, r3.isEnabled ? r3.queue.length >= r3.limit && r3._flush() : r3.clear();
              }
            })), [2];
        }
      });
    });
  }, i3.prototype.put = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, i4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            if (this.enabledState === co.DISABLED)
              return [3, 3];
            if (t6 = this.isFlushing ? this.flushWaitQueue : this.queue, e4 instanceof vo)
              this._collectFeatureLocalCacheStat && (n3 = a(this.queue.filter(function(t7) {
                return t7 instanceof vo && t7.key === e4.key;
              }), 1), (i4 = n3[0]) ? i4.data = bo(i4.data, e4.data) : t6.push(e4));
            else
              switch (e4.type) {
                case Ae.API_RESULT:
                case Ae.WEBSOCKET_CONNECT:
                  this._collectRequestStat && t6.push(e4);
                  break;
                case Ae.FEATURE_LOCALCACHE:
                case Ae.FEATURE_LOCALCACHE_EVENT:
                  this._collectFeatureLocalCacheStat && t6.push(e4);
                  break;
                case Ae.NOTIFICATION:
                  this._collectionNotificationStat && t6.push(e4);
              }
            return [4, this._save()];
          case 1:
            return r3.sent(), t6.length >= this.limit ? [4, this._flush()] : [3, 3];
          case 2:
            r3.sent(), r3.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, i3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this.queue = [], this.flushWaitQueue = [], this.generation = 1, [4, this._save()];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, i3.prototype.close = function() {
    this.commandEventContext && (this.commandEventContext.close(), this.commandEventContext = void 0);
  }, i3;
}(J);
!function(e3) {
  e3[e3.NONE = 0] = "NONE", e3[e3.VERBOSE = 1] = "VERBOSE", e3[e3.DEBUG = 2] = "DEBUG", e3[e3.INFO = 3] = "INFO", e3[e3.WARN = 4] = "WARN", e3[e3.ERROR = 5] = "ERROR";
}(mo || (mo = {}));
var wo;
var No = function() {
  function e3() {
    this.level = mo.WARN;
  }
  return e3.prototype.verbose = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.level <= mo.VERBOSE && console.log.apply(console, c(["[verbose]"], a(e4), false));
  }, e3.prototype.debug = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.level <= mo.DEBUG && console.log.apply(console, c(["[debug]"], a(e4), false));
  }, e3.prototype.info = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.level <= mo.INFO && console.log.apply(console, c(["[info]"], a(e4), false));
  }, e3.prototype.warn = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.level <= mo.WARN && console.warn.apply(console, c(["[warn]"], a(e4), false));
  }, e3.prototype.error = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.level <= mo.ERROR && console.error.apply(console, c(["[error]"], a(e4), false));
  }, e3;
}();
var To = {};
var So = function() {
  function e3(e4, t6) {
    var n3, i3, r3, o3, s4, a3, c3, u3, l3, d3;
    if (this.connectedAt = 0, this.firstConnectedAt = 0, this.connectionHandlers = /* @__PURE__ */ new Map(), this.userEventHandlers = /* @__PURE__ */ new Map(), !To[e4]) {
      To[e4] = this;
      var _2 = null !== (n3 = t6.options) && void 0 !== n3 ? n3 : new R(), f4 = this.sdkState = { appId: t6.appId, appVersion: null !== (i3 = t6.appVersion) && void 0 !== i3 ? i3 : "", appState: "foreground", userId: void 0, extensions: {}, api: { host: null !== (r3 = t6.apiHost) && void 0 !== r3 ? r3 : "https://api-".concat(t6.appId, ".sendbird.com") }, websocket: { host: null !== (o3 = t6.websocketHost) && void 0 !== o3 ? o3 : "wss://ws-".concat(t6.appId, ".sendbird.com"), pingerDisabled: !!t6.noPingpong, pingInterval: void 0, pongTimeout: void 0, connectMaxRetry: 2, compression: true, reconnectMaxRetry: -1, reconnectRetryStrategy: new Yr(), responseTimeout: _2.websocketResponseTimeout }, sessionTokenRefreshTimeout: _2.sessionTokenRefreshTimeout };
      this.appInfo = void 0, this.subscribedUnreadMessageCount = { all: 0, feed: 0, customTypes: {}, ts: 0 };
      var p5 = this.logger = new No();
      this.logger.level = null !== (s4 = t6.logLevel) && void 0 !== s4 ? s4 : mo.WARN, this.connectedAt = 0, this.firstConnectedAt = 0, this.connectionHandlers = /* @__PURE__ */ new Map(), this.userEventHandlers = /* @__PURE__ */ new Map();
      var E3 = this.cacheContext = new x({ encryption: t6.encryption, store: t6.store, localCacheEnabled: null !== (a3 = t6.localCacheEnabled) && void 0 !== a3 && a3, localCacheConfig: null !== (c3 = t6.localCacheConfig) && void 0 !== c3 ? c3 : new M() });
      this.debugMode = null !== (u3 = t6.debugMode) && void 0 !== u3 && u3, this.maxSuperGroupChannelUnreadCount = h.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL, this.useMemberInfoInMessage = _2.useMemberInfoInMessage, this.typingIndicatorInvalidateTime = _2.typingIndicatorInvalidateTime, this.typingIndicatorThrottle = _2.typingIndicatorThrottle, this.concurrentCallLimit = void 0, this.backOffDelay = void 0;
      var v5 = this.dispatcher = new $(), g4 = new Z();
      this.requestQueue = new lo(e4, { session: g4, sdkState: f4, dispatcher: v5, logger: p5, useFetchCompat: t6.useFetchCompat }), this.sessionManager = new po({ _iid: e4, session: g4, cacheContext: E3, sdkState: f4, dispatcher: v5, requestQueue: this.requestQueue, logger: p5 }), this.connectionManager = new Eo(e4, { sdkState: f4, cacheContext: this.cacheContext, connectionHandlers: this.connectionHandlers, dispatcher: v5, sessionManager: this.sessionManager, websocketClient: this.requestQueue.commandRouter.websocketClient, disableWebSocketCloseEventHandling: null !== (l3 = t6.disableWebSocketCloseEventHandling) && void 0 !== l3 && l3, logger: p5 }), this.statLogCollector = new yo({ cacheContext: this.cacheContext, requestQueue: this.requestQueue, dispatcher: v5 }), this.appStateToggleEnabled = null === (d3 = t6.appStateToggleEnabled) || void 0 === d3 || d3;
    }
    return To[e4];
  }
  return e3.of = function(e4) {
    if (To[e4])
      return To[e4];
    throw g.lostInstance;
  }, e3.clear = function(e4) {
    To[e4] && delete To[e4];
  }, e3.prototype.hasExtension = function(e4) {
    return this.sdkState.extensions && this.sdkState.extensions[e4];
  }, e3;
}();
var Ao = function() {
  function e3() {
  }
  return e3.prototype.init = function(e4, t6) {
    var n3 = t6.sdkState, i3 = t6.dispatcher, r3 = t6.sessionManager, o3 = t6.requestQueue, s4 = t6.logger;
    t6.onlineDetector;
    var a3 = t6.cacheContext;
    this._iid = e4, this._cacheContext = a3, this._sdkState = n3, this._dispatcher = i3, this._sessionManager = r3, this._requestQueue = o3, this._logger = s4;
  }, e3;
}();
!function(e3) {
  e3.OPEN = "open", e3.CLOSED = "closed";
}(wo || (wo = {}));
var Co;
var Oo = "removed";
var ko = function(e3) {
  switch (e3) {
    case "open":
      return wo.OPEN;
    case "closed":
      return wo.CLOSED;
    default:
      return null;
  }
};
var Io = function(e3) {
  return !e3 || !!e3.text && w("string", e3.text);
};
var Ro = function(e3) {
  function i3(t6, n3) {
    var i4, r3, o3, s4, a3, c3, u3, l3 = this;
    return (l3 = e3.call(this, t6) || this).pollId = 0, l3.id = 0, l3.text = null, l3.voteCount = 0, l3.createdBy = null, l3.createdAt = 0, l3.updatedAt = 0, l3._lastVotedAt = 0, l3.pollId = null !== (i4 = n3.poll_id) && void 0 !== i4 ? i4 : 0, l3.id = null !== (r3 = n3.id) && void 0 !== r3 ? r3 : 0, l3.text = null !== (o3 = n3.text) && void 0 !== o3 ? o3 : null, l3.voteCount = null !== (s4 = n3.vote_count) && void 0 !== s4 ? s4 : 0, l3.createdBy = null !== (a3 = n3.created_by) && void 0 !== a3 ? a3 : null, l3.createdAt = null !== (c3 = n3.created_at) && void 0 !== c3 ? c3 : 0, l3.updatedAt = null !== (u3 = n3.updated_at) && void 0 !== u3 ? u3 : 0, l3;
  }
  return t(i3, e3), i3.payloadify = function(t6) {
    return te(ne(n(n({}, e3.payloadify.call(this, t6)), { vote_count: t6.voteCount, poll_id: t6.pollId, text: t6.text, created_at: t6.createdAt, id: t6.id, created_by: t6.createdBy, updated_at: t6.updatedAt })));
  }, i3;
}(Ar);
var Do = function(e3) {
  function i3(t6, n3) {
    var i4, r3, o3, s4, a3, c3, u3, l3, h3, d3, _2, f4, p5, E3 = this;
    return (E3 = e3.call(this, t6) || this).id = 0, E3.title = null, E3.createdAt = 0, E3.updatedAt = 0, E3.closeAt = -1, E3.status = wo.CLOSED, E3.messageId = 0, E3.data = null, E3.voterCount = -1, E3.options = [], E3.createdBy = null, E3.allowUserSuggestion = false, E3.allowMultipleVotes = false, E3.votedPollOptionIds = [], E3.id = null !== (i4 = n3.id) && void 0 !== i4 ? i4 : 0, E3.title = null !== (r3 = n3.title) && void 0 !== r3 ? r3 : null, E3.createdAt = null !== (o3 = n3.created_at) && void 0 !== o3 ? o3 : 0, E3.updatedAt = null !== (s4 = n3.updated_at) && void 0 !== s4 ? s4 : 0, E3.closeAt = null !== (a3 = n3.close_at) && void 0 !== a3 ? a3 : -1, E3.status = null !== (c3 = ko(n3.status)) && void 0 !== c3 ? c3 : wo.CLOSED, E3.messageId = null !== (u3 = n3.message_id) && void 0 !== u3 ? u3 : 0, E3.data = null !== (l3 = n3.data) && void 0 !== l3 ? l3 : null, E3.voterCount = null !== (h3 = n3.voter_count) && void 0 !== h3 ? h3 : -1, E3.options = n3.options ? n3.options.map(function(e4) {
      return new Ro(E3._iid, e4);
    }) : [], E3.createdBy = null !== (d3 = n3.created_by) && void 0 !== d3 ? d3 : null, E3.allowUserSuggestion = null !== (_2 = n3.allow_user_suggestion) && void 0 !== _2 && _2, E3.allowMultipleVotes = null !== (f4 = n3.allow_multiple_votes) && void 0 !== f4 && f4, E3.votedPollOptionIds = null !== (p5 = n3.voted_option_ids) && void 0 !== p5 ? p5 : [], E3;
  }
  return t(i3, e3), i3.prototype._applyPollUpdatePayload = function(e4) {
    var t6, n3, i4, r3, o3, s4, a3, c3, u3 = this;
    this.title = null !== (t6 = e4.title) && void 0 !== t6 ? t6 : this.title, this.updatedAt = null !== (n3 = e4.updated_at) && void 0 !== n3 ? n3 : this.updatedAt, this.closeAt = null !== (i4 = e4.close_at) && void 0 !== i4 ? i4 : this.closeAt, this.status = null !== (r3 = ko(e4.status)) && void 0 !== r3 ? r3 : this.status, this.data = null !== (o3 = e4.data) && void 0 !== o3 ? o3 : this.data, this.voterCount = null !== (s4 = e4.voter_count) && void 0 !== s4 ? s4 : this.voterCount, e4.options && (this.options = e4.options.map(function(e5) {
      return new Ro(u3._iid, e5);
    }), this.votedPollOptionIds = e4.options.filter(function(e5) {
      return e5.vote_count > 0;
    }).map(function(e5) {
      return e5.id;
    })), this.allowUserSuggestion = null !== (a3 = e4.allow_user_suggestion) && void 0 !== a3 ? a3 : this.allowUserSuggestion, this.allowMultipleVotes = null !== (c3 = e4.allow_multiple_votes) && void 0 !== c3 ? c3 : this.allowMultipleVotes;
  }, i3.payloadify = function(t6) {
    return te(ne(n(n({}, e3.payloadify.call(this, t6)), { id: t6.id, title: t6.title, created_at: t6.createdAt, updated_at: t6.updatedAt, close_at: t6.closeAt, status: t6.status, message_id: t6.messageId, data: t6.data, voter_count: t6.voterCount, options: t6.options.map(function(e4) {
      return Ro.payloadify(e4);
    }), created_by: t6.createdBy, allow_user_suggestion: t6.allowUserSuggestion, allow_multiple_votes: t6.allowMultipleVotes, voted_option_ids: t6.votedPollOptionIds })));
  }, i3.prototype.applyPollUpdateEvent = function(e4) {
    var t6 = e4._payload.poll;
    return !(!t6 || this.id !== t6.id || t6.updated_at < this.updatedAt) && (this._applyPollUpdatePayload(t6), true);
  }, i3.prototype.applyPollVoteEvent = function(e4) {
    if (this.id !== e4.pollId)
      return false;
    var t6 = this.options, n3 = t6.map(function(e5) {
      return e5.id;
    }), i4 = e4._payload, r3 = Math.floor(i4.ts / 1e3);
    return i4.updated_vote_counts.forEach(function(e5) {
      var i5 = n3.indexOf(e5.option_id);
      if (i5 > -1) {
        var o3 = t6[i5];
        r3 >= o3._lastVotedAt && (o3.voteCount = e5.vote_count, o3._lastVotedAt = r3);
      }
    }), i4.req_id && i4.voted_option_ids && (this.votedPollOptionIds = i4.voted_option_ids), "number" == typeof i4.voter_count && (this.voterCount = i4.voter_count), true;
  }, i3.prototype.serialize = function() {
    return xr(this);
  }, i3;
}(Ar);
!function(e3) {
  e3.UNKNOWN = "UNKNOWN", e3.EVENT_CHANNEL_CREATED = "EVENT_CHANNEL_CREATED", e3.EVENT_CHANNEL_UPDATED = "EVENT_CHANNEL_UPDATED", e3.EVENT_CHANNEL_DELETED = "EVENT_CHANNEL_DELETED", e3.EVENT_CHANNEL_READ = "EVENT_CHANNEL_READ", e3.EVENT_CHANNEL_DELIVERED = "EVENT_CHANNEL_DELIVERED", e3.EVENT_CHANNEL_INVITED = "EVENT_CHANNEL_INVITED", e3.EVENT_CHANNEL_JOINED = "EVENT_CHANNEL_JOINED", e3.EVENT_CHANNEL_LEFT = "EVENT_CHANNEL_LEFT", e3.EVENT_CHANNEL_ACCEPTED_INVITE = "EVENT_CHANNEL_ACCEPTED_INVITE", e3.EVENT_CHANNEL_DECLINED_INVITE = "EVENT_CHANNEL_DECLINED_INVITE", e3.EVENT_CHANNEL_OPERATOR_UPDATED = "EVENT_CHANNEL_OPERATOR_UPDATED", e3.EVENT_CHANNEL_BANNED = "EVENT_CHANNEL_BANNED", e3.EVENT_CHANNEL_UNBANNED = "EVENT_CHANNEL_UNBANNED", e3.EVENT_CHANNEL_MUTED = "EVENT_CHANNEL_MUTED", e3.EVENT_CHANNEL_UNMUTED = "EVENT_CHANNEL_UNMUTED", e3.EVENT_CHANNEL_FROZEN = "EVENT_CHANNEL_FROZEN", e3.EVENT_CHANNEL_UNFROZEN = "EVENT_CHANNEL_UNFROZEN", e3.EVENT_CHANNEL_HIDDEN = "EVENT_CHANNEL_HIDDEN", e3.EVENT_CHANNEL_UNHIDDEN = "EVENT_CHANNEL_UNHIDDEN", e3.EVENT_CHANNEL_RESET_HISTORY = "EVENT_CHANNEL_RESET_HISTORY", e3.EVENT_CHANNEL_TYPING_STATUS_UPDATE = "EVENT_CHANNEL_TYPING_STATUS_UPDATE", e3.EVENT_CHANNEL_MEMBER_COUNT_UPDATED = "EVENT_CHANNEL_MEMBER_COUNT_UPDATED", e3.EVENT_CHANNEL_METADATA_CREATED = "EVENT_CHANNEL_METADATA_CREATED", e3.EVENT_CHANNEL_METADATA_UPDATED = "EVENT_CHANNEL_METADATA_UPDATED", e3.EVENT_CHANNEL_METADATA_DELETED = "EVENT_CHANNEL_METADATA_DELETED", e3.EVENT_CHANNEL_METACOUNTER_CREATED = "EVENT_CHANNEL_METACOUNTER_CREATED", e3.EVENT_CHANNEL_METACOUNTER_UPDATED = "EVENT_CHANNEL_METACOUNTER_UPDATED", e3.EVENT_CHANNEL_METACOUNTER_DELETED = "EVENT_CHANNEL_METACOUNTER_DELETED", e3.EVENT_MESSAGE_SENT = "EVENT_MESSAGE_SENT", e3.EVENT_MESSAGE_RECEIVED = "EVENT_MESSAGE_RECEIVED", e3.EVENT_MESSAGE_UPDATED = "EVENT_MESSAGE_UPDATED", e3.EVENT_PINNED_MESSAGE_UPDATED = "EVENT_PINNED_MESSAGE_UPDATED", e3.REQUEST_CHANNEL = "REQUEST_CHANNEL", e3.REQUEST_CHANNEL_CHANGELOGS = "REQUEST_CHANNEL_CHANGELOGS", e3.REFRESH_CHANNEL = "REFRESH_CHANNEL", e3.CHANNEL_LASTACCESSEDAT_UPDATED = "CHANNEL_LASTACCESSEDAT_UPDATED", e3.SYNC_CHANNEL_BACKGROUND = "SYNC_CHANNEL_BACKGROUND", e3.SYNC_CHANNEL_CHANGELOGS = "SYNC_CHANNEL_CHANGELOGS", e3.EVENT_MESSAGE_SENT_SUCCESS = "EVENT_MESSAGE_SENT_SUCCESS", e3.EVENT_MESSAGE_SENT_FAILED = "EVENT_MESSAGE_SENT_FAILED", e3.EVENT_MESSAGE_SENT_PENDING = "EVENT_MESSAGE_SENT_PENDING", e3.EVENT_MESSAGE_DELETED = "EVENT_MESSAGE_DELETED", e3.EVENT_MESSAGE_READ = "EVENT_MESSAGE_READ", e3.EVENT_MESSAGE_DELIVERED = "EVENT_MESSAGE_DELIVERED", e3.EVENT_MESSAGE_REACTION_UPDATED = "EVENT_MESSAGE_REACTION_UPDATED", e3.EVENT_MESSAGE_THREADINFO_UPDATED = "EVENT_MESSAGE_THREADINFO_UPDATED", e3.EVENT_MESSAGE_OFFSET_UPDATED = "EVENT_MESSAGE_OFFSET_UPDATED", e3.REQUEST_MESSAGE = "REQUEST_MESSAGE", e3.EVENT_POLL_UPDATED = "EVENT_POLL_UPDATED", e3.EVENT_POLL_VOTED = "EVENT_POLL_VOTED", e3.SYNC_POLL_CHANGELOGS = "SYNC_POLL_CHANGELOGS", e3.REQUEST_RESEND_MESSAGE = "REQUEST_RESEND_MESSAGE", e3.REQUEST_THREADED_MESSAGE = "REQUEST_THREADED_MESSAGE", e3.REQUEST_MESSAGE_CHANGELOGS = "REQUEST_MESSAGE_CHANGELOGS", e3.SYNC_MESSAGE_FILL = "SYNC_MESSAGE_FILL", e3.SYNC_MESSAGE_BACKGROUND = "SYNC_MESSAGE_BACKGROUND", e3.SYNC_MESSAGE_CHANGELOGS = "SYNC_MESSAGE_CHANGELOGS", e3.LOCAL_MESSAGE_PENDING_CREATED = "LOCAL_MESSAGE_PENDING_CREATED", e3.LOCAL_MESSAGE_FAILED = "LOCAL_MESSAGE_FAILED", e3.LOCAL_MESSAGE_CANCELED = "LOCAL_MESSAGE_CANCELED", e3.LOCAL_MESSAGE_RESEND_STARTED = "LOCAL_MESSAGE_RESEND_STARTED";
}(Co || (Co = {}));
var Lo = n({}, Co);
var xo = function(e3) {
  return e3.startsWith("EVENT_") || e3.startsWith("LOCAL_MESSAGE_") || e3 === Co.SYNC_MESSAGE_FILL || e3 === Co.SYNC_MESSAGE_CHANGELOGS || e3 === Co.SYNC_POLL_CHANGELOGS;
};
var Uo = function(e3) {
  function n3(t6) {
    var n4 = t6.messages, i3 = t6.source, r3 = t6.isWebSocketEventComing, o3 = void 0 !== r3 && r3, s4 = e3.call(this) || this;
    return s4.messages = n4, s4.source = i3, s4.isWebSocketEventComing = o3, s4;
  }
  return t(n3, e3), n3;
}(ee);
var Po = function(e3) {
  function n3(t6) {
    var n4 = t6.messageIds, i3 = t6.source, r3 = t6.isWebSocketEventComing, o3 = void 0 !== r3 && r3, s4 = e3.call(this) || this;
    return s4.messageIds = n4, s4.source = i3, s4.isWebSocketEventComing = o3, s4;
  }
  return t(n3, e3), n3;
}(ee);
var Mo = function(e3) {
  function n3(t6) {
    var n4 = t6.reqId, i3 = t6.source, r3 = e3.call(this) || this;
    return r3.reqId = n4, r3.source = i3, r3;
  }
  return t(n3, e3), n3;
}(ee);
var Fo = function(e3) {
  function n3(t6) {
    var n4 = t6.polls, i3 = t6.source, r3 = e3.call(this) || this;
    return r3.polls = n4, r3.source = i3, r3;
  }
  return t(n3, e3), n3;
}(ee);
var zo = function(e3) {
  function n3(t6) {
    var n4 = t6.event, i3 = t6.source, r3 = e3.call(this) || this;
    return r3.event = n4, r3.source = i3, r3;
  }
  return t(n3, e3), n3;
}(ee);
var Vo = function(e3) {
  function n3(t6) {
    var n4 = t6.event, i3 = t6.source, r3 = e3.call(this) || this;
    return r3.event = n4, r3.source = i3, r3;
  }
  return t(n3, e3), n3;
}(ee);
var Ho = function() {
  function e3(e4, t6) {
    var n3;
    this.limit = 20, this._isLoading = false, this._hasNext = true, this._token = "", this._iid = e4, this.limit = null !== (n3 = t6.limit) && void 0 !== n3 ? n3 : 20;
  }
  return Object.defineProperty(e3.prototype, "hasNext", { get: function() {
    return this._hasNext;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isLoading", { get: function() {
    return this._isLoading;
  }, enumerable: false, configurable: true }), e3.prototype._validate = function() {
    return w("number", this.limit) && this.limit > 0;
  }, e3;
}();
var Go = function(e3) {
  function n3(t6, n4, i3, r3) {
    var o3 = e3.call(this, t6, r3) || this;
    return o3.channelUrl = n4, o3.channelType = i3, o3;
  }
  return t(n3, e3), n3.prototype._validate = function() {
    return e3.prototype._validate.call(this) && w("string", this.channelUrl) && N(F, this.channelType);
  }, n3;
}(Ho);
var qo = function(e3) {
  this.pollId = 0, this.messageId = 0, this.pollId = e3.poll_id, this.messageId = e3.message_id, this._payload = e3;
};
var jo = function(e3) {
  function n3(t6) {
    var n4 = t6.title, i3 = t6.optionTexts, r3 = t6.data, o3 = t6.allowUserSuggestion, s4 = t6.allowMultipleVotes, a3 = t6.closeAt, c3 = e3.call(this) || this;
    return c3.method = ie.POST, c3.path = pe, c3.params = { title: n4, options: i3, data: r3, allow_user_suggestion: o3, allow_multiple_votes: s4, close_at: a3 }, c3;
  }
  return t(n3, e3), n3;
}(Ce);
var Ko = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.poll = new Do(t6, n4), i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Bo = function(e3) {
  function n3(t6) {
    var n4 = t6.channelUrl, i3 = t6.channelType, r3 = t6.pollId, o3 = e3.call(this) || this;
    return o3.method = ie.GET, o3.path = "".concat(pe, "/").concat(encodeURIComponent(r3)), o3.params = { channel_url: n4, channel_type: i3 }, o3;
  }
  return t(n3, e3), n3;
}(Ce);
var Wo = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.poll = new Do(t6, n4), i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Qo = function(e3) {
  function n3(t6) {
    var n4 = t6.channelUrl, i3 = t6.channelType, r3 = t6.pollId, o3 = t6.pollOptionId, s4 = e3.call(this) || this;
    return s4.method = ie.GET, s4.path = "".concat(pe, "/").concat(encodeURIComponent(r3), "/options/").concat(encodeURIComponent(o3)), s4.params = { channel_url: n4, channel_type: i3 }, s4;
  }
  return t(n3, e3), n3;
}(Ce);
var Zo = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.pollOption = new Ro(t6, n4), i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Yo = function(e3) {
  function n3(t6) {
    var n4 = t6.channelType, i3 = t6.channelUrl, r3 = t6.timestamp, o3 = t6.token, s4 = e3.call(this) || this;
    return s4.method = ie.GET, s4.path = "".concat(ye(n4), "/").concat(encodeURIComponent(i3), "/polls/changelogs"), s4.params = te({ change_ts: r3, token: o3 }), s4;
  }
  return t(n3, e3), n3;
}(Ce);
var Xo = function(e3) {
  function n3(t6, n4) {
    var i3 = e3.call(this, t6, n4) || this;
    return i3.updatedPolls = n4.updated.map(function(e4) {
      return function(e5, t7) {
        return new Do(e5, t7);
      }(t6, e4);
    }), i3.deletedPollIds = n4.deleted.map(function(e4) {
      return e4;
    }), i3.hasMore = n4.has_more, i3.nextToken = n4.next, i3;
  }
  return t(n3, e3), n3;
}(Oe);
var Jo = { title: "", optionTexts: [], data: void 0, allowUserSuggestion: void 0, allowMultipleVotes: void 0, closeAt: -1 };
var $o = function(e3) {
  return w("string", e3.title) && (t6 = e3.optionTexts, S("string", t6) && t6.every(function(e4) {
    return "" !== e4.trim();
  })) && Io(e3.data) && w("boolean", e3.allowUserSuggestion, true) && w("boolean", e3.allowMultipleVotes, true) && w("number", e3.closeAt, true);
  var t6;
};
var es = { channelUrl: "", channelType: F.BASE, pollId: 0, pollOptionId: 0 };
var ts = function(e3) {
  return w("string", e3.channelUrl) && "" !== e3.channelUrl && N(F, e3.channelType) && w("number", e3.pollId) && e3.pollId > 0 && w("number", e3.pollOptionId) && e3.pollOptionId > 0;
};
var ns = { channelUrl: "", channelType: F.BASE, pollId: 0 };
var is = function(e3) {
  return w("string", e3.channelUrl) && "" !== e3.channelUrl && N(F, e3.channelType) && w("number", e3.pollId);
};
var rs = {};
var os = function() {
  function e3(e4, t6) {
    var n3 = t6.sdkState, i3 = t6.dispatcher, r3 = t6.sessionManager, o3 = t6.requestQueue, s4 = t6.logger;
    this._iid = e4, this._sdkState = n3, this._sessionManager = r3, this._requestQueue = o3, this._dispatcher = i3, this._logger = s4, rs[e4] = this;
  }
  return e3.of = function(e4) {
    return rs[e4];
  }, e3.prototype.buildPollFromSerializedData = function(e4) {
    var t6 = Ur(e4);
    return new Do(this._iid, Do.payloadify(t6));
  }, e3.prototype.get = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, i3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(is(e4)).throw(g.invalidParameters), t6 = new Bo(n({}, e4)), [4, this._requestQueue.send(t6)];
          case 1:
            return i3 = r3.sent(), [2, i3.as(Wo).poll];
        }
      });
    });
  }, e3.prototype.create = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, i3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr($o(e4)).throw(g.invalidParameters), t6 = new jo(n({}, e4)), [4, this._requestQueue.send(t6)];
          case 1:
            return i3 = r3.sent(), [2, i3.as(Ko).poll];
        }
      });
    });
  }, e3.prototype.getOption = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, i3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(ts(e4)).throw(g.invalidParameters), t6 = new Qo(n({}, e4)), [4, this._requestQueue.send(t6)];
          case 1:
            return i3 = r3.sent(), [2, i3.as(Zo).pollOption];
        }
      });
    });
  }, e3.prototype.getPollChangeLogs = function(e4, t6, n3, i3) {
    return void 0 === i3 && (i3 = Co.SYNC_POLL_CHANGELOGS), r(this, void 0, void 0, function() {
      var r3, s4, a3, c3, u3, l3, h3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return r3 = new Yo(ne({ channelType: t6, channelUrl: e4, timestamp: "number" == typeof n3 ? n3 : null, token: "string" == typeof n3 ? n3 : null })), [4, this._requestQueue.send(r3)];
          case 1:
            return s4 = o3.sent(), a3 = s4.as(Xo), c3 = a3.updatedPolls, u3 = a3.deletedPollIds, l3 = a3.hasMore, h3 = a3.nextToken, c3.length > 0 && this._dispatcher.dispatch(new Fo({ polls: c3, source: i3 })), [2, { updatedPolls: c3, deletedPollIds: u3, hasMore: l3, token: h3 }];
        }
      });
    });
  }, e3;
}();
var ss = function(e3) {
  function n3(t6) {
    var n4 = t6.channelUrl, i3 = t6.channelType, r3 = t6.token, o3 = t6.limit, s4 = e3.call(this) || this;
    return s4.method = ie.GET, s4.path = pe, s4.params = { channel_url: n4, channel_type: i3, token: r3, limit: o3 }, s4;
  }
  return t(n3, e3), n3;
}(Ce);
var as = function(e3) {
  function n3(t6, n4) {
    var i3, r3 = this;
    return (r3 = e3.call(this, t6, n4) || this).polls = (null !== (i3 = n4.polls) && void 0 !== i3 ? i3 : []).map(function(e4) {
      return new Do(t6, e4);
    }), r3.token = n4.next, r3;
  }
  return t(n3, e3), n3;
}(Oe);
var cs = function(e3) {
  function i3(t6, n3) {
    return e3.call(this, t6, n3.channelUrl, n3.channelType, n3) || this;
  }
  return t(i3, e3), i3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, i4, r3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e4 = So.of(this._iid).requestQueue, t6 = new ss(n(n({}, this), { token: this._token })), [4, e4.send(t6)]) : [3, 2] : [3, 5];
          case 1:
            return i4 = o3.sent(), r3 = i4.as(as), s4 = r3.polls, a3 = r3.token, this._token = a3, this._hasNext = !!a3, this._isLoading = false, [2, s4];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, i3;
}(Go);
var us = function(e3) {
  function n3(t6) {
    var n4 = t6.channelUrl, i3 = t6.channelType, r3 = t6.pollId, o3 = t6.pollOptionId, s4 = t6.token, a3 = t6.limit, c3 = e3.call(this) || this;
    return c3.method = ie.GET, c3.path = "".concat(pe, "/").concat(encodeURIComponent(r3), "/options/").concat(encodeURIComponent(o3), "/voters"), c3.params = { channel_url: n4, channel_type: i3, token: s4, limit: a3 }, c3;
  }
  return t(n3, e3), n3;
}(Ce);
var ls = function(e3) {
  function n3(t6, n4) {
    var i3, r3 = this;
    return (r3 = e3.call(this, t6, n4) || this).voters = (null !== (i3 = n4.voters) && void 0 !== i3 ? i3 : []).map(function(e4) {
      return new Fr(t6, e4);
    }), r3.token = n4.next, r3;
  }
  return t(n3, e3), n3;
}(Oe);
var hs = function(e3) {
  function i3(t6, n3) {
    var i4 = e3.call(this, t6, n3.channelUrl, n3.channelType, n3) || this;
    return i4.pollId = n3.pollId, i4.pollOptionId = n3.pollOptionId, i4;
  }
  return t(i3, e3), i3.prototype._validate = function() {
    return e3.prototype._validate.call(this) && w("number", this.pollId) && w("number", this.pollOptionId);
  }, i3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, i4, r3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e4 = So.of(this._iid).requestQueue, t6 = new us(n(n({}, this), { pollId: this.pollId, pollOptionId: this.pollOptionId, token: this._token })), [4, e4.send(t6)]) : [3, 2] : [3, 5];
          case 1:
            return i4 = o3.sent(), r3 = i4.as(ls), s4 = r3.voters, a3 = r3.token, this._token = a3, this._hasNext = !!a3, this._isLoading = false, [2, s4];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, i3;
}(Go);

// node_modules/@sendbird/chat/lib/__bundle-85e002d3.js
var we2;
var Te2 = function(i3) {
  function s4(e3) {
    var s5 = i3.call(this) || this;
    if (s5.method = ie.POST, s5.path = "".concat(se), s5.params = te({ file: e3.file, channel_url: e3.channelUrl }), e3.thumbnailSizes)
      for (var a3 = 0; a3 < e3.thumbnailSizes.length; a3++) {
        var o3 = e3.thumbnailSizes[a3], u3 = o3.maxWidth, c3 = o3.maxHeight;
        s5.params["thumbnail".concat(a3 + 1)] = "".concat(u3, ",").concat(c3);
      }
    return s5.requestId = e3.requestId, s5;
  }
  return t(s4, i3), s4;
}(Ce);
var Se2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3 = this;
    return (a3 = t6.call(this, e3, n4) || this).url = n4.url, a3.fileSize = null !== (r3 = n4.file_size) && void 0 !== r3 ? r3 : 0, a3.thumbnailSizes = null !== (i3 = n4.thumbnails) && void 0 !== i3 ? i3 : [], a3.requireAuth = null !== (s4 = n4.require_auth) && void 0 !== s4 && s4, a3;
  }
  return t(n3, t6), n3;
}(Oe);
var Me2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3 = this;
    return (a3 = t6.call(this, e3) || this).replyCount = 0, a3.lastRepliedAt = 0, a3.updatedAt = 0, a3.replyCount = null !== (r3 = n4.reply_count) && void 0 !== r3 ? r3 : 0, a3.mostRepliedUsers = n4.most_replies && S("object", n4.most_replies) ? n4.most_replies.map(function(e4) {
      return new Fr(a3._iid, e4);
    }) : [], a3.lastRepliedAt = null !== (i3 = n4.last_replied_at) && void 0 !== i3 ? i3 : 0, a3.updatedAt = null !== (s4 = n4.updated_at) && void 0 !== s4 ? s4 : 0, a3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { reply_count: e3.replyCount, most_replies: Array.isArray(e3.mostRepliedUsers) ? e3.mostRepliedUsers.map(function(e4) {
      return Fr.payloadify(e4);
    }) : [], last_replied_at: e3.lastRepliedAt, updated_at: e3.updatedAt })));
  }, n3;
}(Ar);
!function(e3) {
  e3.ADD = "add", e3.DELETE = "delete";
}(we2 || (we2 = {}));
var Ae2;
var Ne2;
var Ue2 = function(e3) {
  this.messageId = 0, this.operation = null, this.updatedAt = 0;
  var t6 = w("string", e3.msg_id) ? parseInt(e3.msg_id) : e3.msg_id, n3 = e3.user_id, r3 = e3.operation ? e3.operation.toLowerCase() : null, i3 = e3.reaction, s4 = e3.updated_at;
  t6 && w("string", n3) && w("string", r3) && N(we2, r3) && w("string", i3) && i3 && w("number", s4) && (this.messageId = t6, this.userId = n3, this.key = i3, this.operation = r3, this.updatedAt = s4);
};
var Ce2 = function() {
  function e3(e4) {
    var t6, n3, r3, i3 = e4.key, s4 = null !== (r3 = c([], a(e4.user_ids), false)) && void 0 !== r3 ? r3 : [], a3 = e4.updated_at;
    w("string", i3) && i3 && S("string", s4) && s4.length > 0 && w("number", a3) && (this.key = i3, this.userIds = s4, this.updatedAt = a3);
    var o3 = {};
    try {
      for (var u3 = s(this.userIds), c3 = u3.next(); !c3.done; c3 = u3.next()) {
        o3[c3.value] = this.updatedAt;
      }
    } catch (e5) {
      t6 = { error: e5 };
    } finally {
      try {
        c3 && !c3.done && (n3 = u3.return) && n3.call(u3);
      } finally {
        if (t6)
          throw t6.error;
      }
    }
    this._version = o3;
  }
  return Object.defineProperty(e3.prototype, "isEmpty", { get: function() {
    return 0 === this.userIds.length;
  }, enumerable: false, configurable: true }), e3.payloadify = function(e4) {
    return te(ne({ key: e4.key, user_ids: e4.userIds, updated_at: e4.updatedAt }));
  }, e3.prototype.applyEvent = function(e4) {
    if (e4.key === this.key && this.updatedAt <= e4.updatedAt) {
      if (!this._version[e4.userId] || this._version[e4.userId] <= e4.updatedAt) {
        var t6 = this.userIds.indexOf(e4.userId);
        switch (e4.operation) {
          case we2.ADD:
            t6 < 0 && this.userIds.push(e4.userId);
            break;
          case we2.DELETE:
            t6 >= 0 && this.userIds.splice(t6, 1);
        }
        this._version[e4.userId] = e4.updatedAt;
      }
      this.updatedAt = Math.max(this.updatedAt, e4.updatedAt);
    }
  }, e3;
}();
var Oe2 = function() {
  function e3(e4) {
    this.secureUrl = null, this.type = null, this.width = 0, this.height = 0, this.alt = null, this.url = e4.url, e4.secure_url && (this.secureUrl = e4.secure_url), e4.type && (this.type = e4.type), e4.width && (this.width = e4.width), e4.height && (this.height = e4.height), e4.alt && (this.alt = e4.alt);
  }
  return e3.payloadify = function(e4) {
    var t6, n3;
    return te(ne({ url: e4.url, secure_url: e4.secureUrl, type: e4.type, width: null !== (t6 = e4.width) && void 0 !== t6 ? t6 : 0, height: null !== (n3 = e4.height) && void 0 !== n3 ? n3 : 0, alt: e4.alt }));
  }, e3;
}();
var Pe2 = function() {
  function e3(e4) {
    this.title = null, this.url = null, this.description = null, this.defaultImage = null, e4["og:title"] && (this.title = e4["og:title"]), e4["og:url"] && (this.url = e4["og:url"]), e4["og:description"] && (this.description = e4["og:description"]), e4["og:image"] && (this.defaultImage = new Oe2(e4["og:image"]));
  }
  return e3.payloadify = function(e4) {
    return te(ne({ "og:title": e4.title, "og:url": e4.url, "og:description": e4.description, "og:image": e4.defaultImage ? Oe2.payloadify(e4.defaultImage) : null }));
  }, e3;
}();
var ke2 = function() {
  function e3(e4) {
    var t6, n3;
    this.volume = 0, this.name = null !== (t6 = e4.name) && void 0 !== t6 ? t6 : "default", this.volume = null !== (n3 = e4.volume) && void 0 !== n3 ? n3 : 1;
  }
  return e3.prototype.serialize = function() {
    return { name: this.name, volume: this.volume };
  }, e3.payloadify = function(e4) {
    return te(ne({ name: e4.name, volume: e4.volume }));
  }, e3;
}();
var Re2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3 = this;
    return (i3 = t6.call(this, e3, n4) || this).isBlockedByMe = false, i3.role = N(z, n4.role) ? n4.role : z.NONE, i3.isBlockedByMe = null !== (r3 = n4.is_blocked_by_me) && void 0 !== r3 && r3, i3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { role: e3.role, is_blocked_by_me: e3.isBlockedByMe })));
  }, n3;
}(Fr);
var xe2 = function() {
  function e3(e4) {
    this.key = e4.key, this.value = S("string", e4.value) ? c([], a(e4.value), false) : [];
  }
  return e3.payloadify = function(e4) {
    var t6;
    return te(ne({ key: e4.key, value: null !== (t6 = e4.value) && void 0 !== t6 ? t6 : [] }));
  }, e3;
}();
var De2 = function(e3) {
  switch (e3) {
    case H.BASE:
      return "";
    case H.USER:
      return "MESG";
    case H.FILE:
      return "FILE";
    case H.ADMIN:
      return "ADMM";
  }
};
var Le2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3, c3, l3, d3, f4, p5, m4 = this;
    (m4 = t6.call(this, e3) || this).channelType = F.BASE, m4.messageType = H.BASE, m4.mentionType = null, m4.mentionedUsers = null, m4.mentionedUserIds = null, m4.metaArrays = [], m4.extendedMessage = {}, m4.createdAt = 0, m4.updatedAt = 0, m4.channelUrl = n4.channel_url, m4.channelType = N(F, n4.channel_type) ? n4.channel_type : F.GROUP, n4.channel && (n4.channel.channel_url && (m4.channelUrl = n4.channel.channel_url), n4.channel.channel_type && (m4.channelType = n4.channel.channel_type)), m4.data = null !== (r3 = n4.data) && void 0 !== r3 ? r3 : "", m4.customType = null !== (i3 = n4.custom_type) && void 0 !== i3 ? i3 : "", m4.mentionType = N(j, n4.mention_type) ? n4.mention_type : null, m4.mentionedUsers = n4.mentioned_users ? n4.mentioned_users.map(function(e4) {
      return new Fr(m4._iid, e4);
    }) : null, m4.mentionedUserIds = null !== (s4 = n4.mentioned_user_ids) && void 0 !== s4 ? s4 : null, m4.mentionedUsers && !m4.mentionedUserIds && (m4.mentionedUserIds = m4.mentionedUsers.map(function(e4) {
      return e4.userId;
    })), m4.mentionedMessageTemplate = null !== (a3 = n4.mentioned_message_template) && void 0 !== a3 ? a3 : "";
    var v5 = null !== (o3 = n4.metaarray) && void 0 !== o3 ? o3 : {}, y3 = null !== (c3 = n4.metaarray_key_order) && void 0 !== c3 ? c3 : Object.keys(v5).sort(function(e4, t7) {
      return e4.localeCompare(t7);
    });
    m4.metaArrays = [];
    for (var g4 = 0; g4 < y3.length; g4++) {
      var E3 = y3[g4];
      m4.metaArrays.push(new xe2({ key: E3, value: v5[E3] || [] }));
    }
    return n4.sorted_metaarray && (m4.metaArrays = n4.sorted_metaarray.map(function(e4) {
      return new xe2(e4);
    })), m4.extendedMessage = null !== (l3 = n4.extended_message) && void 0 !== l3 ? l3 : {}, m4.extendedMessagePayload = n4.extended_message_payload, m4.createdAt = null !== (f4 = null !== (d3 = n4.created_at) && void 0 !== d3 ? d3 : n4.ts) && void 0 !== f4 ? f4 : 0, m4.updatedAt = null !== (p5 = n4.updated_at) && void 0 !== p5 ? p5 : 0, m4;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    var n4, i3;
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { channel_url: e3.channelUrl, channel_type: e3.channelType, type: De2(e3.messageType), data: e3.data, custom_type: e3.customType, mention_type: e3.mentionType, mentioned_user_ids: e3.mentionedUserIds, mentioned_users: null === (n4 = e3.mentionedUsers) || void 0 === n4 ? void 0 : n4.map(function(e4) {
      return Fr.payloadify(e4);
    }), mentioned_message_template: e3.mentionedMessageTemplate, sorted_metaarray: null === (i3 = e3.metaArrays) || void 0 === i3 ? void 0 : i3.map(function(e4) {
      return xe2.payloadify(e4);
    }), extended_message: e3.extendedMessage, extended_message_payload: e3.extendedMessagePayload, created_at: e3.createdAt, updated_at: e3.updatedAt })));
  }, n3.prototype.isIdentical = function(e3) {
    return true;
  }, n3.prototype.isEqual = function(e3) {
    return y(this, e3);
  }, n3.prototype.isUserMessage = function() {
    return this.messageType === H.USER;
  }, n3.prototype.isFileMessage = function() {
    return this.messageType === H.FILE && !Object.prototype.hasOwnProperty.call(this, "fileInfoList");
  }, n3.prototype.isMultipleFilesMessage = function() {
    return this.messageType === H.FILE && Object.prototype.hasOwnProperty.call(this, "fileInfoList");
  }, n3.prototype.isAdminMessage = function() {
    return this.messageType === H.ADMIN;
  }, n3.prototype.serialize = function() {
    return xr(this);
  }, n3.prototype.getMetaArraysByKeys = function(e3) {
    return this.metaArrays.filter(function(t7) {
      return e3.includes(t7.key);
    });
  }, n3;
}(Ar);
var Fe2 = function(n3) {
  function i3(e3) {
    var i4 = n3.call(this) || this;
    return i4.method = ie.POST, i4.path = me(e3.channelUrl, e3.messageId), i4.params = te({ forms: e3.forms }), i4;
  }
  return t(i3, n3), i3;
}(Ce);
!function(e3) {
  e3.PENDING = "pending", e3.SENT = "sent", e3.FAILED = "failed", e3.CANCELED = "canceled";
}(Ae2 || (Ae2 = {})), function(e3) {
  e3.PENDING = "pending", e3.IN_QUEUE = "in_queue", e3.SENT = "sent", e3.FAILED = "failed", e3.CANCELED = "canceled", e3.REMOVED = "removed";
}(Ne2 || (Ne2 = {}));
var qe2;
var ze2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3, u3, c3, l3 = this;
    return (l3 = t6.call(this, e3, n4) || this).parentMessage = null, l3.silent = false, l3.isOperatorMessage = false, l3.threadInfo = null, l3.reactions = [], l3.appleCriticalAlertOptions = null, l3.scheduledInfo = null, l3.suggestedReplies = null, l3._isContinuousMessages = false, l3._scheduledStatus = null, l3.messageId = null !== (i3 = null !== (r3 = n4.msg_id) && void 0 !== r3 ? r3 : n4.message_id) && void 0 !== i3 ? i3 : 0, l3.parentMessageId = null !== (s4 = "string" == typeof n4.parent_message_id ? parseInt(n4.parent_message_id) : n4.parent_message_id) && void 0 !== s4 ? s4 : 0, l3.threadInfo = n4.thread_info ? new Me2(l3._iid, n4.thread_info) : null, l3.reactions = n4.reactions ? n4.reactions.map(function(e4) {
      return new Ce2(e4);
    }) : [], l3.ogMetaData = n4.og_tag ? new Pe2(n4.og_tag) : null, l3.silent = null !== (a3 = n4.silent) && void 0 !== a3 && a3, l3.isOperatorMessage = null !== (o3 = n4.is_op_msg) && void 0 !== o3 && o3, l3.appleCriticalAlertOptions = n4.apple_critical_alert_options ? new ke2(n4.apple_critical_alert_options) : null, "number" == typeof n4.scheduled_message_id && "number" == typeof n4.scheduled_at && n4.scheduled_status && (l3.scheduledInfo = { scheduledMessageId: n4.scheduled_message_id, scheduledAt: n4.scheduled_at }, l3._scheduledStatus = n4.scheduled_status), l3._isContinuousMessages = null !== (u3 = n4.is_continuous_messages) && void 0 !== u3 && u3, l3.suggestedReplies = null !== (c3 = n4.suggested_replies) && void 0 !== c3 ? c3 : null, l3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    var n4, i3;
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { message_id: e3.messageId, parent_message_id: e3.parentMessageId, thread_info: e3.threadInfo ? Me2.payloadify(e3.threadInfo) : null, reactions: e3.reactions.map(function(e4) {
      return Ce2.payloadify(e4);
    }), og_tag: e3.ogMetaData ? Pe2.payloadify(e3.ogMetaData) : null, silent: e3.silent, is_op_msg: e3.isOperatorMessage, apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, scheduled_message_id: null === (n4 = e3.scheduledInfo) || void 0 === n4 ? void 0 : n4.scheduledMessageId, scheduled_at: null === (i3 = e3.scheduledInfo) || void 0 === i3 ? void 0 : i3.scheduledAt, scheduled_status: e3._scheduledStatus, suggested_replies: e3.suggestedReplies })));
  }, n3._getParentMessageInfoPayload = function(e3) {
    return te(ne({ type: De2(e3.messageType), ts: e3.createdAt, user: e3.sender ? Re2.payloadify(e3.sender) : null, message: e3.message, file: { url: e3.plainUrl, name: e3.name, type: e3.type, require_auth: e3.requireAuth } }));
  }, n3.prototype.isIdentical = function(e3) {
    return this.messageId === e3.messageId;
  }, n3.prototype.applyThreadInfoUpdateEvent = function(e3) {
    return this.messageId === e3.targetMessageId && (this.threadInfo = e3.threadInfo), false;
  }, n3.prototype.applyReactionEvent = function(e3) {
    if (this.messageId === e3.messageId) {
      for (var t7 = false, n4 = 0; n4 < this.reactions.length; n4++)
        if (this.reactions[n4].key === e3.key) {
          this.reactions[n4].applyEvent(e3), this.reactions[n4].isEmpty && this.reactions.splice(n4, 1), t7 = true;
          break;
        }
      t7 || "add" !== e3.operation || this.reactions.push(new Ce2(Ce2.payloadify({ key: e3.key, userIds: [e3.userId], updatedAt: e3.updatedAt })));
    }
  }, n3.prototype.applyParentMessage = function(e3) {
    if (!this.parentMessage)
      return this.parentMessage = e3, true;
    if (this.parentMessageId === e3.messageId) {
      var t7 = this.parentMessage.updatedAt;
      if (e3.updatedAt >= t7)
        return this.parentMessage = e3, true;
    }
    return false;
  }, n3.prototype.submitForm = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return t7 = So.of(this._iid), n4 = t7.requestQueue, r3 = t7.sdkState, i3 = new Fe2({ userId: r3.userId, channelUrl: this.channelUrl, channelType: this.channelType, messageId: this.messageId, forms: [{ form_key: e3.formId, data: e3.answers }] }), [4, n4.send(i3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, n3;
}(Le2);
var Be2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3 = this;
    if ((o3 = t6.call(this, e3, n4) || this).reqId = "", o3.replyToChannel = false, o3.errorCode = 0, o3.sender = n4.user ? new Re2(o3._iid, n4.user) : n4.sender_id, o3.reqId = null !== (i3 = null !== (r3 = n4.req_id) && void 0 !== r3 ? r3 : n4.request_id) && void 0 !== i3 ? i3 : "", o3.replyToChannel = null !== (s4 = n4.reply_to_channel) && void 0 !== s4 && s4, n4.request_state && N(W, n4.request_state) && (o3.sendingStatus = n4.request_state), !o3.sendingStatus)
      if (o3.messageId > 0)
        o3.sendingStatus = W.SUCCEEDED;
      else if (o3.scheduledInfo)
        switch (n4.scheduled_status && (o3._scheduledStatus = n4.scheduled_status), n4.scheduled_status) {
          case Ne2.SENT:
          case Ne2.IN_QUEUE:
            o3.sendingStatus = W.SUCCEEDED;
            break;
          case Ne2.PENDING:
            o3.sendingStatus = W.SCHEDULED;
            break;
          case Ne2.FAILED:
          case Ne2.REMOVED:
            o3.sendingStatus = W.FAILED;
            break;
          case Ne2.CANCELED:
            o3.sendingStatus = W.CANCELED;
        }
      else
        o3.sendingStatus = W.PENDING;
    return o3.errorCode = null !== (a3 = n4.error_code) && void 0 !== a3 ? a3 : 0, o3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { user: Re2.payloadify(e3.sender), req_id: e3.reqId, reply_to_channel: e3.replyToChannel, request_state: e3.sendingStatus, error_code: e3.errorCode })));
  }, Object.defineProperty(n3.prototype, "isResendable", { get: function() {
    return (this.sendingStatus === W.FAILED || this.sendingStatus === W.CANCELED) && C(this.errorCode);
  }, enumerable: false, configurable: true }), n3.prototype.isIdentical = function(e3) {
    return this.messageId > 0 && e3.messageId > 0 ? this.messageId === e3.messageId : this.reqId === e3.reqId;
  }, n3;
}(ze2);
var Ke2 = function() {
  function e3(e4, t6, n3) {
    var r3, i3;
    this.width = 0, this.height = 0, this.realWidth = 0, this.realHeight = 0, this._requireAuth = false, this._iid = e4, this.plainUrl = t6.url, this.width = t6.width, this.height = t6.height, this.realWidth = null !== (r3 = t6.real_width) && void 0 !== r3 ? r3 : t6.width, this.realHeight = null !== (i3 = t6.real_height) && void 0 !== i3 ? i3 : t6.height, this._requireAuth = n3;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ url: "", width: e4.maxWidth, height: e4.maxHeight, real_width: 0, real_height: 0 }));
  }, Object.defineProperty(e3.prototype, "url", { get: function() {
    var e4 = So.of(this._iid).sessionManager;
    return this._requireAuth ? "".concat(this.plainUrl, "?auth=").concat(e4.ekey) : this.plainUrl;
  }, enumerable: false, configurable: true }), e3;
}();
var je2 = { prevResultSize: 0, nextResultSize: 0, isInclusive: false, reverse: false, messageTypeFilter: G.ALL, customTypesFilter: void 0, senderUserIdsFilter: void 0, includeReactions: false, includeMetaArray: false, includeParentMessageInfo: false };
var Qe2 = function(e3) {
  return w("number", e3.prevResultSize) && w("number", e3.nextResultSize) && w("boolean", e3.isInclusive) && w("boolean", e3.reverse) && w("string", e3.messageTypeFilter) && N(G, e3.messageTypeFilter) && S("string", e3.customTypesFilter, true) && S("string", e3.senderUserIdsFilter, true) && w("boolean", e3.includeMetaArray) && w("boolean", e3.includeReactions) && w("boolean", e3.includeParentMessageInfo);
};
var Ge2 = function(t6) {
  function n3(e3, n4) {
    var i3, s4, u3, c3, l3 = this;
    if ((l3 = t6.call(this, e3, n4) || this).translations = {}, l3.message = null !== (i3 = n4.message) && void 0 !== i3 ? i3 : "", l3.messageType = H.ADMIN, l3.translations = null !== (s4 = n4.translations) && void 0 !== s4 ? s4 : {}, n4.parent_message_info) {
      var d3 = n4.parent_message_info;
      l3.parentMessage = $e2(e3, te(ne(n(n({}, d3), { message_id: l3.parentMessageId, channel_url: l3.channelUrl, channel_type: l3.channelType, file: d3.file, url: null === (u3 = d3.file) || void 0 === u3 ? void 0 : u3.url, require_auth: null === (c3 = d3.file) || void 0 === c3 ? void 0 : c3.require_auth }))));
    }
    return l3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { message: e3.message, translations: e3.translations, parent_message_info: e3.parentMessage ? t6._getParentMessageInfoPayload.call(this, e3.parentMessage) : null })));
  }, n3.prototype.getThreadedMessagesByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, je2), t7), Pr(this.messageId > 0 && w("number", e3) && Qe2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getThreadedMessagesByTimestamp(this, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3;
}(ze2);
var Ve2 = function() {
  function e3(e4) {
    var t6, n3;
    this.detail = {}, this.type = null !== (t6 = e4.type) && void 0 !== t6 ? t6 : "", this.vendor = null !== (n3 = e4.vendor) && void 0 !== n3 ? n3 : "", e4.detail && w("object", e4.detail) && !Array.isArray(e4.detail) && (this.detail = e4.detail);
  }
  return e3.payloadify = function(e4) {
    return te(ne({ type: e4.type, vendor: e4.vendor, detail: e4.detail }));
  }, e3;
}();
var He2 = function() {
  function e3(e4) {
    this.status = e4.status, e4.original_message_info && (this.originalMessageInfo = { createdAt: e4.original_message_info.ts, messageId: e4.original_message_info.id });
  }
  return e3.payloadify = function(e4) {
    return te({ status: e4.status, original_message_info: e4.originalMessageInfo ? { id: e4.originalMessageInfo.messageId, ts: e4.originalMessageInfo.createdAt } : void 0 });
  }, e3;
}();
var We2 = function(t6) {
  function n3(e3, n4) {
    var i3, s4, u3, c3, l3, d3, h3, f4 = this;
    if ((f4 = t6.call(this, e3, n4) || this).message = "", f4.messageParams = null, f4.translations = {}, f4.translationTargetLanguages = [], f4.messageSurvivalSeconds = -1, f4.plugins = [], f4._poll = null, f4.message = n4.message, f4.messageType = H.USER, f4.translations = null !== (u3 = n4.translations) && void 0 !== u3 ? u3 : {}, f4.translationTargetLanguages = null !== (c3 = n4.target_langs) && void 0 !== c3 ? c3 : [], 0 === Object.keys(f4.translations).length && f4.translationTargetLanguages.length > 0)
      try {
        for (var p5 = s(f4.translationTargetLanguages), v5 = p5.next(); !v5.done; v5 = p5.next()) {
          var y3 = v5.value;
          f4.translations[y3] = "";
        }
      } catch (e4) {
        i3 = { error: e4 };
      } finally {
        try {
          v5 && !v5.done && (s4 = p5.return) && s4.call(p5);
        } finally {
          if (i3)
            throw i3.error;
        }
      }
    if (f4.messageSurvivalSeconds = null !== (l3 = n4.message_survival_seconds) && void 0 !== l3 ? l3 : -1, f4.plugins = n4.plugins ? n4.plugins.map(function(e4) {
      return new Ve2(e4);
    }) : [], f4._poll = n4.poll ? new Do(f4._iid, n4.poll) : null, n4.parent_message_info) {
      var g4 = n4.parent_message_info;
      f4.parentMessage = $e2(e3, te(ne(n(n({}, g4), { created_at: g4.ts, message_id: f4.parentMessageId, channel_url: f4.channelUrl, channel_type: f4.channelType, file: g4.file, url: null === (d3 = g4.file) || void 0 === d3 ? void 0 : d3.url, require_auth: null === (h3 = g4.file) || void 0 === h3 ? void 0 : h3.require_auth }))));
    }
    return n4.review_info && (f4.messageReviewInfo = new He2(n4.review_info)), f4;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { message: e3.message, translations: e3.translations, message_survival_seconds: e3.messageSurvivalSeconds, plugins: e3.plugins.map(function(e4) {
      return Ve2.payloadify(e4);
    }), poll: e3._poll ? Do.payloadify(e3._poll) : null, parent_message_info: e3.parentMessage ? t6._getParentMessageInfoPayload.call(this, e3.parentMessage) : null, review_info: e3.messageReviewInfo ? He2.payloadify(e3.messageReviewInfo) : void 0 })));
  }, n3.prototype.getThreadedMessagesByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, je2), t7), Pr(this.messageId > 0 && w("number", e3) && Qe2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getThreadedMessagesByTimestamp(this, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.prototype.applyPoll = function(e3) {
    return !(this._poll && this._poll.id === e3.id && this._poll.updatedAt > e3.updatedAt) && (this._poll = e3, true);
  }, Object.defineProperty(n3.prototype, "poll", { get: function() {
    return this._poll;
  }, enumerable: false, configurable: true }), n3;
}(Be2);
var Ye2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, u3, c3 = this;
    return (c3 = t6.call(this, e3) || this).plainUrl = "", c3.fileName = null, c3.mimeType = null, c3.fileSize = 0, c3.thumbnails = [], c3._requireAuth = false, c3.plainUrl = null !== (r3 = n4.url) && void 0 !== r3 ? r3 : "", c3.fileName = null !== (i3 = n4.file_name) && void 0 !== i3 ? i3 : null, c3.mimeType = null !== (s4 = n4.file_type) && void 0 !== s4 ? s4 : null, c3.fileSize = null !== (a3 = n4.file_size) && void 0 !== a3 ? a3 : 0, c3._requireAuth = null !== (u3 = n4.require_auth) && void 0 !== u3 && u3, c3.thumbnails = n4.thumbnails ? n4.thumbnails.map(function(e4) {
      var t7;
      return new Ke2(c3._iid, "string" == typeof e4 ? { url: e4, width: 0, height: 0 } : n(n({}, e4), { url: (null !== (t7 = e4.url) && void 0 !== t7 ? t7 : "").split("auth=")[0] }), c3._requireAuth);
    }) : [], c3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    var t7;
    return te(ne({ url: e3.plainUrl, file_name: e3.fileName, file_type: e3.mimeType, file_size: e3.fileSize, thumbnails: null === (t7 = e3.thumbnails) || void 0 === t7 ? void 0 : t7.map(function(e4) {
      return { url: e4.url, width: e4.width, height: e4.height, real_width: e4.realWidth, real_height: e4.realHeight };
    }), require_auth: e3._requireAuth }));
  }, Object.defineProperty(n3.prototype, "url", { get: function() {
    var e3 = So.of(this._iid).sessionManager;
    return this._requireAuth ? "".concat(this.plainUrl, "?auth=").concat(e3.ekey) : this.plainUrl;
  }, enumerable: false, configurable: true }), n3;
}(Ar);
var Je2 = function(t6) {
  function n3(e3, n4) {
    var i3, s4, u3, c3, l3, d3 = this;
    if ((d3 = t6.call(this, e3, n4) || this).messageParams = null, d3.fileInfoList = [], d3.messageSurvivalSeconds = -1, d3.messageType = H.FILE, d3.fileInfoList = null !== (s4 = null === (i3 = n4.files) || void 0 === i3 ? void 0 : i3.map(function(t7) {
      return new Ye2(e3, t7);
    })) && void 0 !== s4 ? s4 : [], d3.messageSurvivalSeconds = null !== (u3 = n4.message_survival_seconds) && void 0 !== u3 ? u3 : -1, n4.parent_message_info) {
      var h3 = n4.parent_message_info;
      d3.parentMessage = $e2(e3, te(ne(n(n({}, h3), { created_at: h3.ts, message_id: d3.parentMessageId, channel_url: d3.channelUrl, channel_type: d3.channelType, file: h3.file, url: null === (c3 = h3.file) || void 0 === c3 ? void 0 : c3.url, require_auth: null === (l3 = h3.file) || void 0 === l3 ? void 0 : l3.require_auth }))));
    }
    return d3;
  }
  return t(n3, t6), n3.prototype.getThreadedMessagesByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, je2), t7), Pr(this.messageId > 0 && w("number", e3) && Qe2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getThreadedMessagesByTimestamp(this, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { files: e3.fileInfoList && e3.fileInfoList && Array.isArray(e3.fileInfoList) ? e3.fileInfoList.map(function(e4) {
      return Ye2.payloadify(e4);
    }) : null, message_survival_seconds: e3.messageSurvivalSeconds, parent_message_info: e3.parentMessage ? t6._getParentMessageInfoPayload.call(this, e3.parentMessage) : null })));
  }, n3._isMultipleFilesMessagePayload = function(e3) {
    var t7 = e3.files;
    return Array.isArray(t7) && t7.length >= 2;
  }, n3._isMultipleFilesMessageSerializedData = function(e3) {
    var t7 = e3.fileInfoList;
    return Array.isArray(t7);
  }, n3;
}(Be2);
!function(e3) {
  e3.SENT = "SENT", e3.READ = "READ";
}(qe2 || (qe2 = {}));
var Xe2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3 = this;
    if ((i3 = t6.call(this, e3, n4) || this).notificationData = null, i3.notificationId = n4.notification_message_id, i3.messageType = H.ADMIN, i3.messageStatus = null !== (r3 = n4.message_status) && void 0 !== r3 ? r3 : qe2.SENT, 0 === i3.extendedMessage.sub_type)
      try {
        var s4 = JSON.parse(i3.extendedMessage.sub_data), a3 = s4.label, o3 = s4.tags, u3 = void 0 === o3 ? [] : o3, c3 = s4.template_key, l3 = s4.template_variables;
        i3.notificationData = { label: a3, tags: u3, templateKey: c3, templateVariables: l3 };
      } catch (e4) {
      }
    return i3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { notification_message_id: e3.notificationId, message_status: e3.messageStatus })));
  }, n3.prototype.isIdentical = function(e3) {
    return this.notificationId === e3.notificationId;
  }, n3;
}(Le2);
var Ze2 = function(e3) {
  if (e3.notificationId)
    return Xe2.payloadify(e3);
  switch (e3.messageType) {
    case H.USER:
      return We2.payloadify(e3);
    case H.FILE:
      return e3.fileInfoList ? Je2.payloadify(e3) : et2.payloadify(e3);
    case H.ADMIN:
      return Ge2.payloadify(e3);
    default:
      throw g.unknown;
  }
};
var $e2 = function(e3, t6) {
  if (t6.notification_message_id)
    return new Xe2(e3, t6);
  switch (t6.type) {
    case "MESG":
      return new We2(e3, t6);
    case "FILE":
      return Je2._isMultipleFilesMessagePayload(t6) ? new Je2(e3, t6) : new et2(e3, t6);
    case "ADMM":
    case "BRDM":
      return new Ge2(e3, t6);
    default:
      return null;
  }
};
var et2 = function(t6) {
  function n3(e3, n4) {
    var i3, s4, u3, c3, l3, d3, h3, f4, p5, m4, v5, y3, g4, b4, I4 = this;
    (I4 = t6.call(this, e3, n4) || this).messageParams = null, I4.plainUrl = "", I4.requireAuth = false, I4.thumbnails = [], I4.messageSurvivalSeconds = -1, I4.messageType = H.FILE;
    var E3 = n4.file;
    if (I4.plainUrl = (null !== (s4 = null !== (i3 = null == E3 ? void 0 : E3.url) && void 0 !== i3 ? i3 : n4.url) && void 0 !== s4 ? s4 : "").split("?auth=")[0], I4.name = null !== (c3 = null !== (u3 = null == E3 ? void 0 : E3.name) && void 0 !== u3 ? u3 : n4.name) && void 0 !== c3 ? c3 : "File", I4.size = null !== (d3 = null !== (l3 = null == E3 ? void 0 : E3.size) && void 0 !== l3 ? l3 : n4.size) && void 0 !== d3 ? d3 : 0, I4.data = null !== (f4 = null !== (h3 = null == E3 ? void 0 : E3.data) && void 0 !== h3 ? h3 : n4.custom) && void 0 !== f4 ? f4 : "", I4.type = E3 ? null !== (p5 = E3.type) && void 0 !== p5 ? p5 : "" : null !== (m4 = n4.type) && void 0 !== m4 ? m4 : "", I4.requireAuth = null !== (v5 = n4.require_auth) && void 0 !== v5 && v5, I4.thumbnails = n4.thumbnails ? n4.thumbnails.map(function(e4) {
      var t7;
      return new Ke2(I4._iid, "string" == typeof e4 ? { url: e4, width: 0, height: 0 } : n(n({}, e4), { url: (null !== (t7 = e4.url) && void 0 !== t7 ? t7 : "").split("auth=")[0] }), I4.requireAuth);
    }) : [], I4.messageSurvivalSeconds = null !== (y3 = n4.message_survival_seconds) && void 0 !== y3 ? y3 : -1, n4.parent_message_info) {
      var w3 = n4.parent_message_info;
      I4.parentMessage = $e2(e3, te(ne(n(n({}, w3), { created_at: w3.ts, message_id: I4.parentMessageId, channel_url: I4.channelUrl, channel_type: I4.channelType, file: w3.file, url: null === (g4 = w3.file) || void 0 === g4 ? void 0 : g4.url, require_auth: null === (b4 = w3.file) || void 0 === b4 ? void 0 : b4.require_auth }))));
    }
    return I4;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    var n4;
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { url: e3.plainUrl, require_auth: e3.requireAuth, file: { name: e3.name, size: e3.size, type: e3.type, data: e3.data }, thumbnails: null === (n4 = e3.thumbnails) || void 0 === n4 ? void 0 : n4.map(function(e4) {
      return { url: e4.plainUrl, width: e4.width, height: e4.height, real_width: e4.realWidth, real_height: e4.realHeight };
    }), message_survival_seconds: e3.messageSurvivalSeconds, parent_message_info: e3.parentMessage ? t6._getParentMessageInfoPayload.call(this, e3.parentMessage) : null })));
  }, Object.defineProperty(n3.prototype, "url", { get: function() {
    var e3 = So.of(this._iid).sessionManager;
    return this.requireAuth ? "".concat(this.plainUrl, "?auth=").concat(e3.ekey) : this.plainUrl;
  }, enumerable: false, configurable: true }), n3.prototype.getThreadedMessagesByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, je2), t7), Pr(this.messageId > 0 && w("number", e3) && Qe2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getThreadedMessagesByTimestamp(this, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3;
}(Be2);
var tt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = n4.file, i3 = n4.fileUrl, s4 = n4.fileName, a3 = n4.fileSize, o3 = n4.mimeType, u3 = n4.thumbnailSizes, c3 = n4._uploadedMetaData, l3 = t6.call(this, e3) || this;
    return l3._plainUrl = i3, l3.file = r3, l3.fileName = s4, l3.fileSize = a3, l3.mimeType = o3, l3.thumbnailSizes = u3, l3._uploadedMetaData = c3, l3;
  }
  return t(n3, t6), n3.getPlainUrl = function(e3) {
    return e3 instanceof n3 ? e3._plainUrl : e3.fileUrl;
  }, Object.defineProperty(n3.prototype, "fileUrl", { get: function() {
    var e3;
    if (this._plainUrl && (null === (e3 = this._uploadedMetaData) || void 0 === e3 ? void 0 : e3.requireAuth)) {
      var t7 = So.of(this._iid).sessionManager;
      return "".concat(this._plainUrl, "?auth=").concat(t7.ekey);
    }
    return this._plainUrl;
  }, set: function(e3) {
    this._plainUrl = e3;
  }, enumerable: false, configurable: true }), n3.prototype.toJSON = function() {
    return { file: this.file, fileUrl: this._plainUrl, fileName: this.fileName, fileSize: this.fileSize, mimeType: this.mimeType, thumbnailSizes: this.thumbnailSizes, _uploadedMetaData: this._uploadedMetaData };
  }, n3;
}(Ar);
var nt2 = function(t6) {
  function n3(e3) {
    var n4, i3, s4, o3 = [];
    return e3.mentionType === j.USERS && (e3.mentionedUserIds ? o3 = e3.mentionedUserIds : e3.mentionedUsers && (o3 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    }))), t6.call(this, { code: "FILE", ackRequired: true, payload: te(ne({ channel_url: e3.channelUrl, files: e3.files ? at2(e3.files) : null, url: e3.url, name: null !== (n4 = e3.fileName) && void 0 !== n4 ? n4 : "", type: null !== (i3 = e3.mimeType) && void 0 !== i3 ? i3 : "", size: null !== (s4 = e3.fileSize) && void 0 !== s4 ? s4 : 0, custom: e3.data, custom_type: e3.customType, thumbnails: e3.thumbnailSizes, require_auth: e3.requireAuth, metaarray: e3.metaArrays, mention_type: e3.mentionType, mentioned_user_ids: o3, push_option: e3.pushNotificationDeliveryOption && e3.pushNotificationDeliveryOption !== B.DEFAULT ? e3.pushNotificationDeliveryOption : void 0, apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, silent: e3.silent, reply_to_channel: e3.isReplyToChannel, parent_message_id: e3.parentMessageId ? e3.parentMessageId : null, req_id: e3.reqId, pin_message: e3.isPinnedMessage })) }) || this;
  }
  return t(n3, t6), n3;
}(De);
var rt2 = function(n3) {
  function i3(e3) {
    var i4, s4, o3 = this;
    o3 = n3.call(this) || this;
    var u3 = [];
    return e3.mentionType === j.USERS && (e3.mentionedUserIds ? u3 = e3.mentionedUserIds : e3.mentionedUsers && (u3 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    }))), o3.method = ie.POST, o3.path = "".concat(ye(e3.channelType), "/").concat(encodeURIComponent(e3.channelUrl), "/messages"), o3.params = te(ne({ message_type: H.FILE, user_id: e3.userId, files: e3.files ? at2(e3.files) : null, url: e3.fileUrl, mention_type: e3.mentionType, mentioned_user_ids: u3, file_name: e3.fileName, file_size: e3.fileSize, file_type: e3.mimeType, data: e3.data, custom_type: e3.customType, thumbnails: null === (i4 = e3.thumbnailSizes) || void 0 === i4 ? void 0 : i4.map(function(e4) {
      return Ke2.payloadify(e4);
    }), require_auth: e3.requireAuth, sorted_metaarray: null === (s4 = e3.metaArrays) || void 0 === s4 ? void 0 : s4.map(function(e4) {
      return xe2.payloadify(e4);
    }), push_option: e3.pushNotificationDeliveryOption, parent_message_id: e3.parentMessageId ? e3.parentMessageId : null, apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, reply_to_channel: e3.isReplyToChannel, req_id: e3.reqId, pin_message: e3.isPinnedMessage })), o3;
  }
  return t(i3, n3), i3;
}(Ce);
var it2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3, s4, a3, o3, u3 = this;
    (u3 = t6.call(this, e3, "FILE", r3) || this).message = r3.files && r3.files.length >= 2 ? new Je2(e3, r3) : new et2(e3, r3);
    var c3 = So.of(e3).sdkState;
    return u3.isMentioned = Ne(u3.message.mentionType, null !== (a3 = null !== (i3 = u3.message.mentionedUserIds) && void 0 !== i3 ? i3 : null === (s4 = u3.message.mentionedUsers) || void 0 === s4 ? void 0 : s4.map(function(e4) {
      return e4.userId;
    })) && void 0 !== a3 ? a3 : [], c3.userId), u3.forceUpdateLastMessage = null !== (o3 = r3.force_update_last_message) && void 0 !== o3 && o3, u3;
  }
  return t(n3, t6), n3;
}(Re);
var st2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3 = this;
    (o3 = t6.call(this, e3, n4) || this).message = n4.files && n4.files.length >= 2 ? new Je2(e3, n4) : new et2(e3, n4);
    var u3 = So.of(e3).sdkState;
    return o3.isMentioned = Ne(o3.message.mentionType, null !== (s4 = null !== (r3 = o3.message.mentionedUserIds) && void 0 !== r3 ? r3 : null === (i3 = o3.message.mentionedUsers) || void 0 === i3 ? void 0 : i3.map(function(e4) {
      return e4.userId;
    })) && void 0 !== s4 ? s4 : [], u3.userId), o3.forceUpdateLastMessage = null !== (a3 = n4.force_update_last_message) && void 0 !== a3 && a3, o3;
  }
  return t(n3, t6), n3;
}(Oe);
function at2(e3) {
  return e3.map(function(e4) {
    var t6, n3;
    return te(ne({ url: tt2.getPlainUrl(e4), file_name: e4.fileName, file_type: e4.mimeType, file_size: e4.fileSize, thumbnails: null === (t6 = e4.thumbnailSizes) || void 0 === t6 ? void 0 : t6.map(function(e5) {
      return Ke2.payloadify(e5);
    }), require_auth: null === (n3 = e4._uploadedMetaData) || void 0 === n3 ? void 0 : n3.requireAuth }));
  });
}
var ot2;
!function(e3) {
  e3[e3.PENDING = 0] = "PENDING", e3[e3.UPLOADING = 1] = "UPLOADING", e3[e3.UPLOADED = 2] = "UPLOADED", e3[e3.SENDING = 3] = "SENDING", e3[e3.FAILED = 4] = "FAILED";
}(ot2 || (ot2 = {}));
var ut2 = function() {
  function e3(e4, t6) {
    var n3 = t6.sdkState, r3 = t6.dispatcher, i3 = t6.requestQueue, s4 = t6.onlineDetector, a3 = t6.cacheContext, o3 = this;
    this._queueMap = /* @__PURE__ */ new Map(), this._iid = e4, this._sdkState = n3, this._requestQueue = i3, this._cacheContext = a3, this._dispatcher = r3, this._dispatcher.on(function(e5) {
      e5 instanceof Er && (o3._connectionState = e5.stateType);
    }), this._onlineDetector = s4;
  }
  return Object.defineProperty(e3.prototype, "_shouldSendThroughWebSocket", { get: function() {
    return this._connectionState === dr.CONNECTED || this._connectionState === dr.CONNECTING || this._connectionState === dr.RECONNECTING;
  }, enumerable: false, configurable: true }), e3.prototype._sendFileMessage = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return n3 = this._createSendFileMessageRequestParams(e4, t6), this._shouldSendThroughWebSocket ? (r3 = new nt2(n3), [4, this._requestQueue.send(r3)]) : [3, 2];
          case 1:
            return i3 = s4.sent(), [2, i3.as(it2).message];
          case 2:
            return r3 = new rt2(n(n({}, n3), { userId: this._sdkState.userId })), [4, this._requestQueue.send(r3)];
          case 3:
            return i3 = s4.sent(), [2, i3.as(st2).message];
        }
      });
    });
  }, e3.prototype._createSendFileMessageRequestParams = function(e4, t6) {
    var n3 = n(n({}, t6.params), { channelUrl: e4.url, channelType: e4.channelType, reqId: t6.requestId, url: "" });
    if (t6.multipleFileUploadInfo) {
      var r3 = t6.params;
      n3.files = r3.fileInfoList;
    } else {
      r3 = t6.params;
      n3.url = r3.fileUrl, n3.requireAuth = r3.requireAuth;
    }
    return n3;
  }, e3.prototype._resolveMessageQueue = function(e4) {
    var t6;
    return r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4, p5;
      return o(this, function(v5) {
        switch (v5.label) {
          case 0:
            if (!(n3 = this._queueMap.get(e4.url)))
              return [3, 21];
            if (n3.isResolving)
              return [3, 20];
            n3.isResolving = true, r3 = [], i3 = true, v5.label = 1;
          case 1:
            v5.trys.push([1, 15, 16, 17]), s4 = s(n3.messageQueue), a3 = s4.next(), v5.label = 2;
          case 2:
            if (a3.done)
              return [3, 14];
            switch (o3 = a3.value, o3.state) {
              case ot2.PENDING:
              case ot2.UPLOADING:
                return [3, 3];
              case ot2.UPLOADED:
                return [3, 4];
              case ot2.FAILED:
                return [3, 12];
            }
            return [3, 13];
          case 3:
            return i3 = false, r3.push(o3), [3, 13];
          case 4:
            if (!i3)
              return [3, 10];
            v5.label = 5;
          case 5:
            return v5.trys.push([5, 8, , 9]), o3.state = ot2.SENDING, [4, this._sendFileMessage(e4, o3)];
          case 6:
            return u3 = v5.sent(), o3.deferred.resolve(u3), [4, Zr(100)];
          case 7:
            return v5.sent(), [3, 9];
          case 8:
            return c3 = v5.sent(), o3.deferred.reject(c3), [3, 9];
          case 9:
            return [3, 11];
          case 10:
            r3.push(o3), v5.label = 11;
          case 11:
            return [3, 13];
          case 12:
            return l3 = null !== (t6 = o3.error) && void 0 !== t6 ? t6 : g.unknown, o3.deferred.reject(l3.code === u.REQUEST_CANCELED ? g.fileUploadCanceled : l3), [3, 13];
          case 13:
            return a3 = s4.next(), [3, 2];
          case 14:
            return [3, 17];
          case 15:
            return d3 = v5.sent(), f4 = { error: d3 }, [3, 17];
          case 16:
            try {
              a3 && !a3.done && (p5 = s4.return) && p5.call(s4);
            } finally {
              if (f4)
                throw f4.error;
            }
            return [7];
          case 17:
            return h3 = n3.isResolveRequestPending, n3.messageQueue = r3, n3.isResolving = false, n3.isResolveRequestPending = false, h3 ? [4, this._resolveMessageQueue(e4)] : [3, 19];
          case 18:
            v5.sent(), v5.label = 19;
          case 19:
            return [3, 21];
          case 20:
            n3.isResolveRequestPending = true, v5.label = 21;
          case 21:
            return [2];
        }
      });
    });
  }, e3.prototype._uploadNextPendingItem = function(e4) {
    var t6;
    return r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3, o3, u3, c3, l3, d3;
      return o(this, function(h3) {
        switch (h3.label) {
          case 0:
            return (n3 = this._queueMap.get(e4.url)) && (r3 = n3.messageQueue.find(function(e5) {
              return e5.state === ot2.PENDING;
            })) ? r3.multipleFileUploadInfo ? (i3 = r3.multipleFileUploadInfo, s4 = i3.uploadIndex, a3 = i3.uploadCount, o3 = i3.requestHandler, d3 = r3.params, u3 = d3.fileInfoList[s4], !k(u3.file) || (null === (t6 = u3._uploadedMetaData) || void 0 === t6 ? void 0 : t6.isUploaded) ? [3, 2] : [4, this._tryUploadNextItemAndUpdateItemState(e4, n3, r3)]) : [3, 4] : [3, 9];
          case 1:
            return h3.sent(), [3, 3];
          case 2:
            r3.state = s4 < a3 - 1 ? ot2.PENDING : ot2.UPLOADED, h3.label = 3;
          case 3:
            return c3 = d3.fileInfoList[s4], l3 = r3.multipleFileUploadInfo.uploadIndex++, r3.multipleFileUploadInfo.isCopy || null == o3 || o3._triggerOnFileUploaded(r3.requestId, l3, c3, r3.error), [3, 7];
          case 4:
            return d3 = r3.params, k(d3.file) ? [4, this._tryUploadNextItemAndUpdateItemState(e4, n3, r3)] : [3, 6];
          case 5:
            return h3.sent(), [3, 7];
          case 6:
            d3.thumbnailSizes = [], r3.state = ot2.UPLOADED, h3.label = 7;
          case 7:
            return this._uploadNextPendingItem(e4), [4, this._resolveMessageQueue(e4)];
          case 8:
            h3.sent(), h3.label = 9;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype._tryUploadNextItemAndUpdateItemState = function(e4, t6, n3) {
    return r(this, void 0, void 0, function() {
      var r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return [4, this._onlineDetector.isOnline()];
          case 1:
            if (r3 = c3.sent(), !So.of(this._iid).sessionManager.currentUser || !r3)
              return n3.error = g.connectionRequired, n3.state = ot2.FAILED, [2];
            if (!(t6.uploadQueue.length < 6))
              return [3, 9];
            n3.state = ot2.UPLOADING, t6.uploadQueue.push(n3), c3.label = 2;
          case 2:
            return c3.trys.push([2, 7, , 8]), n3.multipleFileUploadInfo ? (i3 = n3.multipleFileUploadInfo, s4 = i3.uploadIndex, a3 = i3.uploadCount, o3 = n3.params, [4, this._uploadNextFileForMultipleFilesItemAndUpdateParams(e4, n3, o3)]) : [3, 4];
          case 3:
            return c3.sent(), n3.state = s4 < a3 - 1 ? ot2.PENDING : ot2.UPLOADED, [3, 6];
          case 4:
            return o3 = n3.params, [4, this._uploadNextFileForSingleFileItemAndUpdateParams(e4, n3, o3)];
          case 5:
            c3.sent(), n3.state = ot2.UPLOADED, c3.label = 6;
          case 6:
            return [3, 8];
          case 7:
            switch ((u3 = c3.sent()).code) {
              case u.REQUEST_FAILED:
                n3.error = new g({ code: u.NETWORK_ERROR, message: "Failed to upload a file." });
                break;
              case u.REQUEST_CANCELED:
                n3.error = g.fileUploadCanceled;
                break;
              default:
                n3.error = u3;
            }
            return n3.state = ot2.FAILED, [3, 8];
          case 8:
            this._dequeueUploadItem(t6, n3), c3.label = 9;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype._dequeueUploadItem = function(e4, t6) {
    var n3 = e4.uploadQueue.findIndex(function(e5) {
      return e5.requestId === t6.requestId;
    });
    n3 >= 0 && e4.uploadQueue.splice(n3, 1);
  }, e3.prototype._uploadNextFileForSingleFileItemAndUpdateParams = function(e4, t6, n3) {
    var r3, i3, s4;
    return r(this, void 0, void 0, function() {
      var a3, o3, u3, c3, l3, d3, h3, f4, p5, m4;
      return o(this, function(v5) {
        switch (v5.label) {
          case 0:
            return a3 = new Te2({ file: n3.file, channelUrl: e4.url, thumbnailSizes: n3.thumbnailSizes, requestId: t6.requestId }), [4, this._requestQueue.send(a3)];
          case 1:
            return o3 = v5.sent(), u3 = o3.as(Se2), c3 = u3.url, l3 = u3.fileSize, d3 = void 0 === l3 ? n3.fileSize : l3, h3 = u3.thumbnailSizes, f4 = void 0 === h3 ? n3.thumbnailSizes : h3, p5 = u3.requireAuth, m4 = void 0 !== p5 && p5, n3.fileName = null !== (r3 = n3.fileName) && void 0 !== r3 ? r3 : n3.file.name, n3.mimeType = null !== (i3 = n3.mimeType) && void 0 !== i3 ? i3 : n3.file.type, n3.fileSize = null !== (s4 = n3.fileSize) && void 0 !== s4 ? s4 : n3.file.size, n3.fileUrl = c3, n3.fileSize = d3, n3.thumbnailSizes = f4, n3.requireAuth = m4, [2];
        }
      });
    });
  }, e3.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams = function(e4, t6, n3) {
    var r3, i3, s4;
    return r(this, void 0, void 0, function() {
      var a3, u3, c3, l3, d3, h3, f4, p5, m4, v5, y3, _2;
      return o(this, function(g4) {
        switch (g4.label) {
          case 0:
            return a3 = t6.multipleFileUploadInfo.uploadIndex, u3 = n3.fileInfoList[a3], c3 = new Te2({ file: u3.file, channelUrl: e4.url, thumbnailSizes: u3.thumbnailSizes, requestId: t6.requestId }), [4, this._requestQueue.send(c3)];
          case 1:
            return l3 = g4.sent(), d3 = l3.as(Se2), h3 = d3.url, f4 = d3.fileSize, p5 = void 0 === f4 ? u3.fileSize : f4, m4 = d3.thumbnailSizes, v5 = void 0 === m4 ? u3.thumbnailSizes : m4, y3 = d3.requireAuth, _2 = void 0 !== y3 && y3, u3.fileName = null !== (r3 = u3.fileName) && void 0 !== r3 ? r3 : u3.file.name, u3.mimeType = null !== (i3 = u3.mimeType) && void 0 !== i3 ? i3 : u3.file.type, u3.fileSize = null !== (s4 = u3.fileSize) && void 0 !== s4 ? s4 : u3.file.size, u3.file = void 0, u3.fileUrl = h3, u3.fileSize = p5, u3.thumbnailSizes = v5, u3._uploadedMetaData = n(n({}, u3._uploadedMetaData), { requireAuth: _2, isUploaded: true }), u3 instanceof tt2 || (n3.fileInfoList[a3] = new tt2(this._iid, u3)), [2];
        }
      });
    });
  }, e3.prototype.request = function(e4, t6, n3, r3) {
    return void 0 === r3 && (r3 = {}), r(this, void 0, void 0, function() {
      var i3, s4, a3, u3, c3;
      return o(this, function(l3) {
        return this._queueMap.has(e4.url) || (i3 = { messageQueue: [], uploadQueue: [], isResolving: false, isResolveRequestPending: false }, this._queueMap.set(e4.url, i3)), s4 = this._queueMap.get(e4.url), a3 = new We(), u3 = { requestId: t6, params: n3, state: ot2.PENDING, deferred: a3 }, function(e5) {
          return "fileInfoList" in e5;
        }(n3) && (c3 = n({ uploadIndex: 0, uploadCount: n3.fileInfoList.length }, r3), u3.multipleFileUploadInfo = c3), s4.messageQueue.push(u3), this._uploadNextPendingItem(e4), [2, a3.promise];
      });
    });
  }, e3.prototype.cancel = function(e4, t6) {
    var n3, r3, i3 = this._queueMap.get(e4.url);
    if (i3) {
      var s4 = t6 ? [i3.messageQueue.find(function(e5) {
        return e5.requestId === t6;
      })] : c([], a(i3.messageQueue), false);
      try {
        for (var a3 = s(s4), o3 = a3.next(); !o3.done; o3 = a3.next()) {
          var u3 = o3.value;
          if (u3)
            switch (u3.state) {
              case ot2.PENDING:
                if (u3.state = ot2.FAILED, u3.error = g.requestCanceled, u3.multipleFileUploadInfo && !u3.multipleFileUploadInfo.isCopy) {
                  var c3 = u3.multipleFileUploadInfo, l3 = c3.uploadIndex, d3 = c3.requestHandler, h3 = u3.params.fileInfoList[l3];
                  null == d3 || d3._triggerOnFileUploaded(u3.requestId, l3, h3, g.fileUploadCanceled);
                }
                this._resolveMessageQueue(e4);
                break;
              case ot2.UPLOADING:
                this._requestQueue.cancel(u3.requestId);
            }
        }
      } catch (e5) {
        n3 = { error: e5 };
      } finally {
        try {
          o3 && !o3.done && (r3 = a3.return) && r3.call(a3);
        } finally {
          if (n3)
            throw n3.error;
        }
      }
    }
  }, e3;
}();
var ct2;
var lt2 = { prevResultSize: 0, nextResultSize: 0, isInclusive: false, reverse: false, messageTypeFilter: G.ALL, customTypesFilter: void 0, senderUserIdsFilter: void 0, replyType: K.NONE, includeReactions: false, includeMetaArray: false, includeParentMessageInfo: false, includeThreadInfo: false, showSubchannelMessagesOnly: false };
var dt2 = function(e3) {
  return w("number", e3.prevResultSize) && w("number", e3.nextResultSize) && w("boolean", e3.isInclusive) && w("boolean", e3.reverse) && w("string", e3.messageTypeFilter) && N(G, e3.messageTypeFilter) && S("string", e3.customTypesFilter, true) && S("string", e3.senderUserIdsFilter, true) && N(K, e3.replyType) && w("boolean", e3.includeMetaArray) && w("boolean", e3.includeReactions) && w("boolean", e3.includeParentMessageInfo) && w("boolean", e3.includeThreadInfo) && w("boolean", e3.showSubchannelMessagesOnly);
};
var ht2 = { replyType: K.NONE, includeReactions: false, includeThreadInfo: false, includeMetaArray: false, includeParentMessageInfo: false };
var ft2 = function(e3) {
  return N(K, e3.replyType) && w("boolean", e3.includeReactions) && w("boolean", e3.includeMetaArray) && w("boolean", e3.includeParentMessageInfo) && w("boolean", e3.includeThreadInfo);
};
var pt2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelType, i3 = e3.channelUrl, s4 = e3.messageId, a3 = e3.includeMetaArray, o3 = e3.includeReactions, u3 = e3.includeThreadInfo, c3 = e3.includeParentMessageInfo, l3 = n3.call(this) || this;
    return l3.method = ie.GET, l3.path = "".concat(ye(r4), "/").concat(encodeURIComponent(i3), "/messages/").concat(encodeURIComponent(s4)), l3.params = { is_sdk: true, with_sorted_meta_array: a3, include_reactions: o3, include_thread_info: u3, include_parent_message_info: c3, include_poll_details: true }, l3;
  }
  return t(r3, n3), r3;
}(Ce);
var mt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.message = n4 ? $e2(e3, n({}, n4)) : null, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var vt2 = function(n3) {
  function i3(e3) {
    var i4 = e3.channelType, s4 = e3.channelUrl, o3 = e3.timestamp, u3 = e3.token, c3 = e3.prevResultSize, l3 = e3.nextResultSize, d3 = e3.isInclusive, h3 = e3.reverse, f4 = e3.messageTypeFilter, p5 = e3.customTypesFilter, m4 = e3.senderUserIdsFilter, v5 = e3.replyType, y3 = e3.includeMetaArray, _2 = e3.includeReactions, g4 = e3.parentMessageId, b4 = e3.includeThreadInfo, I4 = e3.includeParentMessageInfo, E3 = e3.showSubchannelMessagesOnly, w3 = e3.checkingHasNext, T4 = e3.checkingContinuousMessages, S4 = n3.call(this) || this;
    return S4.method = ie.GET, S4.path = "".concat(ye(i4), "/").concat(encodeURIComponent(s4), "/messages"), S4.params = te(ne({ is_sdk: true, prev_limit: c3, next_limit: l3, include: d3, reverse: h3, message_ts: o3, message_id: u3, message_type: null != f4 ? f4 : null, custom_types: p5, sender_ids: m4, include_reply_type: v5, with_sorted_meta_array: y3, include_reactions: _2, parent_message_id: g4, include_thread_info: b4, include_parent_message_info: I4, show_subchannel_message_only: E3, include_poll_details: true, checking_has_next: w3, checking_continuous_messages: T4 })), S4;
  }
  return t(i3, n3), i3;
}(Ce);
var yt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return void 0 !== n4.is_continuous_messages && (r3.isContinuousMessages = n4.is_continuous_messages), void 0 !== n4.has_next && (r3.hasNext = n4.has_next), r3.messages = n4.messages.map(function(t7) {
      return $e2(e3, t7);
    }), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var _t2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelType, i3 = e3.channelUrl, s4 = e3.timestamp, a3 = e3.token, o3 = e3.replyType, u3 = e3.includeMetaArray, c3 = e3.includeReactions, l3 = e3.includeThreadInfo, d3 = e3.includeParentMessageInfo, h3 = n3.call(this) || this;
    return h3.method = ie.GET, h3.path = "".concat(ye(r4), "/").concat(encodeURIComponent(i3), "/messages/changelogs"), h3.params = { change_ts: s4, token: a3, with_sorted_meta_array: u3, include_reactions: c3, include_thread_info: l3, include_reply_type: o3, include_parent_message_info: d3, include_poll_details: true }, h3;
  }
  return t(r3, n3), r3;
}(Ce);
var gt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.updatedMessages = n4.updated.map(function(t7) {
      return $e2(e3, t7);
    }), r3.deletedMessagesInfo = n4.deleted.map(function(e4) {
      return { messageId: e4.message_id, deletedAt: e4.deleted_at };
    }), r3.hasMore = n4.has_more, r3.nextToken = n4.next, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var bt2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelUrl, i3 = e3.scheduledMessageId, s4 = n3.call(this) || this;
    return s4.method = ie.GET, s4.path = "".concat(ae, "/").concat(encodeURIComponent(r4), "/scheduled_messages/").concat(encodeURIComponent(i3)), s4.params = {}, s4;
  }
  return t(r3, n3), r3;
}(Ce);
var It2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.message = n4 ? $e2(e3, n({}, n4)) : null, r3;
  }
  return t(n3, t6), n3;
}(Oe);
!function(e3) {
  e3.MUTED = "muted", e3.BANNED = "banned";
}(ct2 || (ct2 = {}));
var Et2 = function() {
  function e3(e4) {
    var t6, n3, r3, i3;
    this.restrictionType = null, N(ct2, e4.restriction_type) && (this.restrictionType = e4.restriction_type), this.description = null !== (t6 = e4.description) && void 0 !== t6 ? t6 : null, this.endAt = null !== (r3 = null !== (n3 = e4.end_at) && void 0 !== n3 ? n3 : e4.muted_end_at) && void 0 !== r3 ? r3 : -1, this.remainingDuration = null !== (i3 = e4.remaining_duration) && void 0 !== i3 ? i3 : -1;
  }
  return e3.payloadify = function(e4) {
    return te(ne({ restriction_type: e4.restrictionType, description: e4.description, end_at: e4.endAt, remaining_duration: e4.remainingDuration }));
  }, e3;
}();
var wt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.restrictionInfo = new Et2(n4), r3;
  }
  return t(n3, t6), n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), Et2.payloadify(e3.restrictionInfo))));
  }, n3;
}(Fr);
var Tt2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3 = this;
    return (i3 = t6.call(this, e3, n4) || this).isMuted = false, i3.isMuted = null !== (r3 = n4.is_muted) && void 0 !== r3 && r3, i3;
  }
  return t(n3, t6), n3;
}(Fr);
var St2 = function() {
  function e3() {
    this._onPending = Ze, this._onFailed = Ze, this._onSucceeded = Ze;
  }
  return e3.prototype._trigger = function(e4) {
    switch (null == e4 ? void 0 : e4.sendingStatus) {
      case W.PENDING:
        0 === e4.errorCode && this._onPending(e4);
        break;
      case W.SCHEDULED:
      case W.SUCCEEDED:
        this._onSucceeded(e4);
    }
  }, e3.prototype._triggerFailed = function(e4, t6) {
    switch (null == t6 ? void 0 : t6.sendingStatus) {
      case W.FAILED:
      case W.CANCELED:
        this._onFailed(e4, t6.scheduledInfo ? null : t6);
    }
  }, e3.prototype.onPending = function(e4) {
    return this._onPending = e4, this;
  }, e3.prototype.onFailed = function(e4) {
    return this._onFailed = e4, this;
  }, e3.prototype.onSucceeded = function(e4) {
    return this._onSucceeded = e4, this;
  }, e3;
}();
var Mt2 = { data: void 0, customType: void 0, mentionType: j.USERS, mentionedUserIds: void 0, mentionedUsers: void 0, mentionedMessageTemplate: void 0, metaArrays: void 0, parentMessageId: void 0, isReplyToChannel: false, pushNotificationDeliveryOption: void 0, appleCriticalAlertOptions: void 0, isPinnedMessage: false };
var At2 = function(e3) {
  return w("string", e3.data, true) && w("string", e3.customType, true) && N(j, e3.mentionType) && S("string", e3.mentionedUserIds, true) && S(Fr, e3.mentionedUsers, true) && w("string", e3.mentionedMessageTemplate, true) && S(xe2, e3.metaArrays, true) && w("number", e3.parentMessageId, true) && w("boolean", e3.isReplyToChannel) && N(B, e3.pushNotificationDeliveryOption, true) && w(ke2, e3.appleCriticalAlertOptions, true) && w("boolean", e3.isPinnedMessage, true);
};
var Nt2 = function(e3) {
  return { isReplyToChannel: e3.isReplyToChannel, pushNotificationDeliveryOption: e3.pushNotificationDeliveryOption, pollId: e3.pollId };
};
var Ut2 = n(n({}, Mt2), { message: "", translationTargetLanguages: void 0, pollId: void 0 });
function Ct2(e3) {
  var t6, n3, r3;
  return null !== (t6 = e3.messageParams) && void 0 !== t6 ? t6 : ne(n(n({}, e3), { mentionType: e3.mentionType, mentionedUserIds: null !== (n3 = e3.mentionedUserIds) && void 0 !== n3 ? n3 : null === (r3 = e3.mentionedUsers) || void 0 === r3 ? void 0 : r3.map(function(e4) {
    return e4.userId;
  }), translationTargetLanguages: Object.keys(e3.translations), pushNotificationDeliveryOption: B.DEFAULT, parentMessageId: null, isReplyToChannel: false, isPinnedMessage: false }));
}
var Ot2;
var Pt2 = function(e3) {
  var t6;
  return te(ne({ data: e3.data, customType: e3.customType, mentionType: e3.mentionType, mentionedUsers: e3.mentionedUsers, mentionedUserIds: e3.mentionedUserIds, mentionedMessageTemplate: e3.mentionedMessageTemplate, metaArrays: e3.metaArrays, pollId: null === (t6 = e3.poll) || void 0 === t6 ? void 0 : t6.id, parentMessageId: e3.parentMessageId, appleCriticalAlertOptions: e3.appleCriticalAlertOptions, message: e3.message, translationTargetLanguages: Object.keys(e3.translations) }));
};
var kt2 = function(e3) {
  return At2(e3) && w("string", e3.message) && S("string", e3.translationTargetLanguages, true) && w("number", e3.pollId, true);
};
!function(e3) {
  e3.FILE = "file", e3.BLOB = "blob", e3.BLOB_LIKE_OBJECT = "blobLikeObject", e3.URL = "url";
}(Ot2 || (Ot2 = {}));
var Rt2 = function(e3) {
  return "undefined" != typeof window && "Blob" in window && "undefined" != typeof Blob && e3 instanceof Blob;
};
var xt2 = function(e3) {
  return e3 === Ot2.BLOB || e3 === Ot2.FILE;
};
var Dt2 = function(e3) {
  return { file: e3.file, fileKey: e3.fileKey, fileType: e3.fileType, isReplyToChannel: e3.isReplyToChannel, pushNotificationDeliveryOption: e3.pushNotificationDeliveryOption };
};
var Lt2 = n(n({}, Mt2), { file: void 0, fileKey: void 0, fileUrl: void 0, fileName: void 0, fileType: void 0, fileSize: void 0, mimeType: void 0, thumbnailSizes: void 0, requireAuth: false });
function Ft2(e3) {
  var t6, n3, r3, i3;
  return null !== (t6 = e3.messageParams) && void 0 !== t6 ? t6 : ne(n(n({}, e3), { fileUrl: e3.plainUrl, fileName: e3.name, fileSize: e3.size, mimeType: e3.type, mentionType: e3.mentionType, mentionedUserIds: null !== (n3 = e3.mentionedUserIds) && void 0 !== n3 ? n3 : null === (r3 = e3.mentionedUsers) || void 0 === r3 ? void 0 : r3.map(function(e4) {
    return e4.userId;
  }), pushNotificationDeliveryOption: B.DEFAULT, parentMessageId: null, isReplyToChannel: false, thumbnailSizes: null === (i3 = e3.thumbnails) || void 0 === i3 ? void 0 : i3.map(function(e4) {
    return { maxWidth: e4.width, maxHeight: e4.height };
  }), requireAuth: e3.requireAuth, isPinnedMessage: false }));
}
var qt2;
var zt2 = function(e3, t6) {
  var n3;
  return e3.messageParams ? (!e3.url && k(t6) && (e3.messageParams.file = t6), e3.messageParams) : te(ne({ data: e3.data, customType: e3.customType, mentionType: e3.mentionType, mentionedUsers: e3.mentionedUsers, mentionedUserIds: e3.mentionedUserIds, metaArrays: e3.metaArrays, parentMessageId: e3.parentMessageId, appleCriticalAlertOptions: e3.appleCriticalAlertOptions, file: t6, fileUrl: e3.url, fileName: e3.name, fileSize: e3.size, mimeType: e3.type, thumbnailSizes: null === (n3 = e3.thumbnails) || void 0 === n3 ? void 0 : n3.map(function(e4) {
    return { maxWidth: e4.width, maxHeight: e4.height };
  }) }));
};
var Bt2 = function(e3) {
  return At2(e3) && (k(e3.file) || w("string", e3.fileUrl)) && w("string", e3.fileName, true) && w("string", e3.mimeType, true) && w("number", e3.fileSize, true) && (null === e3.thumbnailSizes || void 0 === e3.thumbnailSizes || Array.isArray(e3.thumbnailSizes) && e3.thumbnailSizes.every(function(e4) {
    return w("object", e4) && e4.maxWidth > 0 && e4.maxHeight > 0;
  }));
};
var Kt2 = { data: void 0, customType: void 0, mentionType: j.USERS, mentionedUserIds: void 0, mentionedUsers: void 0, mentionedMessageTemplate: void 0, metaArrays: void 0, pushNotificationDeliveryOption: void 0, appleCriticalAlertOptions: void 0 };
var jt2 = function(e3) {
  return w("string", e3.data, true) && w("string", e3.customType, true) && N(j, e3.mentionType) && S("string", e3.mentionedUserIds, true) && S(Fr, e3.mentionedUsers, true) && w("string", e3.mentionedMessageTemplate, true) && S(xe2, e3.metaArrays, true) && N(B, e3.pushNotificationDeliveryOption, true) && w(ke2, e3.appleCriticalAlertOptions, true);
};
var Qt2 = n(n({}, Kt2), { message: void 0, translationTargetLanguages: void 0, pollId: void 0 });
var Gt2 = function(e3) {
  return jt2(e3) && w("string", e3.message, true) && S("string", e3.translationTargetLanguages, true) && w("number", e3.pollId, true);
};
var Vt2 = n({}, Kt2);
var Ht2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelUrl, i3 = e3.channelType, s4 = e3.token, a3 = e3.limit, o3 = n3.call(this) || this;
    return o3.method = ie.GET, o3.path = "".concat(ye(i3), "/").concat(encodeURIComponent(r4), "/operators"), o3.params = { token: s4, limit: a3 }, o3;
  }
  return t(r3, n3), r3;
}(Ce);
var Wt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.operators = n4.operators.map(function(t7) {
      return new Fr(e3, t7);
    }), r3.token = n4.next, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Yt2 = function(t6) {
  function n3(e3, n4, r3, i3) {
    return t6.call(this, e3, n4, r3, i3) || this;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4, a3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : (e3 = [], this._hasNext ? (this._isLoading = true, t7 = So.of(this._iid).requestQueue, n4 = new Ht2(n(n({}, this), { channelUrl: this.channelUrl, token: this._token })), [4, t7.send(n4)]) : [3, 2]) : [3, 5];
          case 1:
            return r3 = u3.sent(), i3 = r3.as(Wt2), s4 = i3.operators, a3 = i3.token, this._token = a3, this._hasNext = !!a3, this._isLoading = false, [2, s4];
          case 2:
            return [2, e3];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Go);
var Jt2 = function(t6) {
  function n3(e3, n4, r3, i3) {
    var s4, a3, o3, u3, c3, l3, d3, h3, f4, p5, m4 = this;
    return (m4 = t6.call(this, e3, n4, r3, i3) || this).reverse = false, m4.messageTypeFilter = G.ALL, m4.customTypesFilter = null, m4.senderUserIdsFilter = null, m4.replyType = K.NONE, m4.includeMetaArray = false, m4.includeReactions = false, m4.includeParentMessageInfo = false, m4.includeThreadInfo = false, m4.showSubchannelMessagesOnly = false, m4._edge = Number.MAX_SAFE_INTEGER, m4.reverse = null !== (s4 = i3.reverse) && void 0 !== s4 && s4, m4.messageTypeFilter = null !== (a3 = i3.messageTypeFilter) && void 0 !== a3 ? a3 : G.ALL, m4.customTypesFilter = null !== (o3 = i3.customTypesFilter) && void 0 !== o3 ? o3 : null, m4.senderUserIdsFilter = null !== (u3 = i3.senderUserIdsFilter) && void 0 !== u3 ? u3 : null, m4.replyType = null !== (c3 = i3.replyType) && void 0 !== c3 ? c3 : K.NONE, m4.includeMetaArray = null !== (l3 = i3.includeMetaArray) && void 0 !== l3 && l3, m4.includeReactions = null !== (d3 = i3.includeReactions) && void 0 !== d3 && d3, m4.includeParentMessageInfo = null !== (h3 = i3.includeParentMessageInfo) && void 0 !== h3 && h3, m4.includeThreadInfo = null !== (f4 = i3.includeThreadInfo) && void 0 !== f4 && f4, m4.showSubchannelMessagesOnly = null !== (p5 = i3.showSubchannelMessagesOnly) && void 0 !== p5 && p5, m4;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && w("boolean", this.reverse) && N(G, this.messageTypeFilter) && N(K, this.replyType) && S("string", this.customTypesFilter, true) && S("string", this.senderUserIdsFilter, true) && w("boolean", this.includeMetaArray) && w("boolean", this.includeReactions) && w("boolean", this.includeParentMessageInfo) && w("boolean", this.includeThreadInfo) && w("boolean", this.showSubchannelMessagesOnly);
  }, n3.prototype.load = function() {
    return r(this, void 0, void 0, function() {
      var e3;
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, [4, ys.of(this._iid).getMessagesByTimestamp(this.channelUrl, this.channelType, this._edge, ne({ prevResultSize: this.limit, nextResultSize: 0, isInclusive: false, reverse: this.reverse, messageTypeFilter: this.messageTypeFilter, customTypesFilter: this.customTypesFilter, replyType: this.replyType, senderUserIdsFilter: this.senderUserIdsFilter, includeReactions: this.includeReactions, includeMetaArray: this.includeMetaArray, includeParentMessageInfo: this.includeParentMessageInfo, includeThreadInfo: this.includeThreadInfo, showSubchannelMessagesOnly: this.showSubchannelMessagesOnly }))]) : [3, 2] : [3, 5];
          case 1:
            return e3 = t7.sent(), this._edge = Math.min.apply(Math, c([Number.MAX_SAFE_INTEGER], a(e3.map(function(e4) {
              return e4.createdAt;
            })), false)), this._hasNext = e3.length >= this.limit, this._isLoading = false, [2, e3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Go);
var Xt2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.limit, o3 = e3.token;
    return (r4 = n3.call(this) || this).method = ie.GET, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/mute"), r4.params = { limit: a3, token: o3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var Zt2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    r3.mutedUsers = [];
    var i3 = n4.next, s4 = n4.muted_list;
    return r3.token = i3, s4 && s4.length > 0 && (r3.mutedUsers = s4.map(function(t7) {
      return new wt2(e3, t7);
    })), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var $t2 = function(t6) {
  function n3(e3, n4, r3, i3) {
    return t6.call(this, e3, n4, r3, i3) || this;
  }
  return t(n3, t6), n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new Xt2(n(n({}, this), { token: this._token })), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n4 = a3.sent(), r3 = n4.as(Zt2), i3 = r3.mutedUsers, s4 = r3.token, this._token = s4, this._hasNext = !!s4, this._isLoading = false, [2, i3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Go);
var en2 = function(n3) {
  function i3(e3) {
    var i4 = this, s4 = e3.channelUrl, a3 = e3.channelType, o3 = e3.limit, u3 = e3.token;
    return (i4 = n3.call(this) || this).method = ie.GET, i4.path = "".concat(ye(a3), "/").concat(encodeURIComponent(s4), "/ban"), i4.params = te({ limit: o3, token: u3 }), i4;
  }
  return t(i3, n3), i3;
}(Ce);
var tn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    r3.bannedUsers = [];
    var i3 = n4.next, s4 = n4.banned_list;
    return r3.token = i3, s4 && s4.length > 0 && (r3.bannedUsers = s4.map(function(t7) {
      return new wt2(e3, t7.user);
    })), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var nn2 = function(t6) {
  function n3(e3, n4, r3, i3) {
    return t6.call(this, e3, n4, r3, i3) || this;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new en2(n(n({}, this), { token: this._token })), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n4 = a3.sent(), r3 = n4.as(tn2), i3 = r3.bannedUsers, s4 = r3.token, this._token = s4, this._hasNext = !!s4, this._isLoading = false, [2, i3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Go);
!function(e3) {
  e3.SPAM = "spam", e3.HARASSING = "harassing", e3.SUSPICIOUS = "suspicious", e3.INAPPROPRIATE = "inappropriate";
}(qt2 || (qt2 = {}));
var rn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.operatorUserIds;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/operators"), r4.params = { operator_ids: a3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var sn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.operatorUserIds;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/operators"), r4.params = { operator_ids: a3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var an2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.userId;
    return (r4 = n3.call(this) || this).method = ie.GET, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/mute/").concat(a3), r4;
  }
  return t(r3, n3), r3;
}(Ce);
var on2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    r3.isMuted = false, r3.startAt = 0, r3.endAt = 0;
    var i3 = n4.is_muted, s4 = n4.start_at, a3 = n4.end_at, o3 = n4.remaining_duration, u3 = n4.description;
    return r3.isMuted = i3, r3.startAt = s4, r3.endAt = a3, r3.remainingDuration = o3, r3.description = u3, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var un2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.keys;
    return (r4 = n3.call(this) || this).method = ie.GET, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metadata"), r4.params = { keys: a3, include_ts: true }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var cn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this, i3 = n4.metadata, s4 = n4.ts;
    return r3.metadata = i3, r3.ts = s4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var ln2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.metadata;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metadata"), r4.params = { metadata: a3, include_ts: true }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var dn2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4 = this;
    return (s4 = t6.call(this, e3, n4) || this).metaData = null !== (r3 = n4.metadata) && void 0 !== r3 ? r3 : {}, s4.ts = null !== (i3 = n4.ts) && void 0 !== i3 ? i3 : null, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var hn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.metadata, o3 = e3.upsert;
    return (r4 = n3.call(this) || this).method = ie.PUT, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metadata"), r4.params = { metadata: a3, include_ts: true, upsert: null != o3 && o3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var fn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this, i3 = n4.metadata, s4 = n4.ts;
    return r3.metadata = i3, r3.ts = s4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var pn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return r3.data && (i3.created = r3.data.created, i3.updated = r3.data.updated, i3.deleted = r3.data.deleted), i3;
  }
  return t(n3, t6), n3;
}(Re);
var mn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.key;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metadata/").concat(a3), r4.params = { include_ts: true }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var vn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this, i3 = n4.ts;
    return r3.ts = i3, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var yn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metadata"), r4.params = { include_ts: true }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var _n2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this, i3 = n4.ts;
    return r3.ts = i3, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var gn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.keys;
    return (r4 = n3.call(this) || this).method = ie.GET, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metacounter"), r4.params = { keys: a3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var bn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.metaCounter = n4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var In2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.metaCounter;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metacounter"), r4.params = { metacounter: a3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var En2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.metaCounter = n4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var wn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.metaCounter, o3 = e3.upsert, u3 = void 0 !== o3 && o3, c3 = e3.mode, l3 = void 0 === c3 ? "set" : c3;
    return (r4 = n3.call(this) || this).method = ie.PUT, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metacounter"), r4.params = { metacounter: a3, upsert: u3, mode: l3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var Tn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.metaCounter = n4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Sn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return r3.data && (i3.created = r3.data.created, i3.updated = r3.data.updated, i3.deleted = r3.data.deleted), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Mn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.key;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metacounter/").concat(a3), r4.params = {}, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var An2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/metacounter"), r4.params = {}, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var Nn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.userId, o3 = e3.seconds, u3 = e3.description;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/mute"), r4.params = { user_id: a3, seconds: o3, description: u3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var Un2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return i3.user = new wt2(e3, r3.data), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Cn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.userId;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/mute/").concat(encodeURIComponent(a3)), r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var On2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return i3.user = new wt2(e3, r3.data), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Pn2 = function(n3) {
  function i3(e3) {
    var i4 = this, s4 = e3.channelUrl, a3 = e3.channelType, o3 = e3.userId, u3 = e3.seconds, c3 = e3.description;
    return (i4 = n3.call(this) || this).method = ie.POST, i4.path = "".concat(ye(a3), "/").concat(encodeURIComponent(s4), "/ban"), i4.params = te({ user_id: o3, seconds: u3, description: c3 }), i4;
  }
  return t(i3, n3), i3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var kn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return i3.user = new wt2(e3, r3.data), r3.data.member_count && (i3.memberCount = r3.data.member_count), r3.data.joined_member_count && (i3.joinedMemberCount = r3.data.joined_member_count), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Rn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.userId;
    return (r4 = n3.call(this) || this).method = ie.DELETE, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/ban/").concat(encodeURIComponent(a3)), r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var xn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return i3.user = new wt2(e3, r3.data), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Dn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.freezing;
    return (r4 = n3.call(this) || this).method = ie.PUT, r4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(i3), "/freeze"), r4.params = { freeze: a3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var Ln2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "SYEV", r3) || this;
    return i3.freeze = r3.data.freeze, i3;
  }
  return t(n3, t6), n3;
}(Re);
var Fn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.category, o3 = e3.userId, u3 = e3.description;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(we(s4), "/").concat(encodeURIComponent(i3)), r4.params = { report_category: a3, reporting_user_id: o3, report_description: u3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var qn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.category, o3 = e3.userId, u3 = e3.offendingUserId, c3 = e3.description;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(de, "/users/").concat(u3), r4.params = { channel_url: i3, channel_type: s4 === F.OPEN ? "open_channels" : "group_channels", report_category: a3, reporting_user_id: o3, report_description: c3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var zn2 = function(n3) {
  function r3(e3) {
    var r4 = this, i3 = e3.channelUrl, s4 = e3.channelType, a3 = e3.category, o3 = e3.userId, u3 = e3.offendingUserId, c3 = e3.messageId, l3 = e3.description;
    return (r4 = n3.call(this) || this).method = ie.POST, r4.path = "".concat(we(s4), "/").concat(encodeURIComponent(i3), "/messages/").concat(c3), r4.params = { report_category: a3, reporting_user_id: o3, report_description: l3, offending_user_id: u3 }, r4;
  }
  return t(r3, n3), r3;
}(Ce);
var Bn2 = function(t6) {
  function n3(e3) {
    var n4 = [];
    return e3.mentionType === j.USERS && (e3.mentionedUserIds ? n4 = e3.mentionedUserIds : e3.mentionedUsers && (n4 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    }))), t6.call(this, { code: "MESG", ackRequired: true, payload: te(ne({ channel_url: e3.channelUrl, message: e3.message, data: e3.data, custom_type: e3.customType, metaarray: e3.metaArrays, mention_type: e3.mentionType, mentioned_user_ids: n4, mentioned_message_template: e3.mentionedMessageTemplate, target_langs: e3.translationTargetLanguages, push_option: e3.pushNotificationDeliveryOption && e3.pushNotificationDeliveryOption !== B.DEFAULT ? e3.pushNotificationDeliveryOption : void 0, apple_critical_alert_options: e3.appleCriticalAlertOptions, silent: e3.silent, reply_to_channel: e3.isReplyToChannel, parent_message_id: e3.parentMessageId ? e3.parentMessageId : null, req_id: e3.reqId, poll_id: e3.pollId, pin_message: e3.isPinnedMessage })) }) || this;
  }
  return t(n3, t6), n3;
}(De);
var Kn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3, s4, a3, o3, u3 = this;
    (u3 = t6.call(this, e3, "MESG", r3) || this).message = new We2(e3, r3);
    var c3 = So.of(e3).sdkState;
    return u3.isMentioned = Ne(u3.message.mentionType, null !== (a3 = null !== (i3 = u3.message.mentionedUserIds) && void 0 !== i3 ? i3 : null === (s4 = u3.message.mentionedUsers) || void 0 === s4 ? void 0 : s4.map(function(e4) {
      return e4.userId;
    })) && void 0 !== a3 ? a3 : [], c3.userId), u3.forceUpdateLastMessage = null !== (o3 = r3.force_update_last_message) && void 0 !== o3 && o3, u3;
  }
  return t(n3, t6), n3;
}(Re);
var jn2 = function(t6) {
  function n3(e3) {
    var n4 = null;
    return e3.mentionType === j.USERS && (e3.mentionedUserIds ? n4 = e3.mentionedUserIds : e3.mentionedUsers && (n4 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    }))), t6.call(this, { code: "MEDI", ackRequired: true, payload: te(ne({ channel_url: e3.channelUrl, msg_id: e3.messageId, message: e3.message, data: e3.data, custom_type: e3.customType, metaarray: e3.metaArrayParams, mention_type: e3.mentionType, mentioned_user_ids: n4, mentioned_message_template: e3.mentionedMessageTemplate, apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, poll_id: e3.pollId })) }) || this;
  }
  return t(n3, t6), n3;
}(De);
var Qn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3, s4, o3, u3, c3, l3 = this;
    (l3 = t6.call(this, e3, "MEDI", r3) || this).message = new We2(e3, r3);
    var d3 = So.of(e3).sdkState;
    return l3.mentionCountChange = Te({ mentionType: null === (i3 = r3.old_values) || void 0 === i3 ? void 0 : i3.mention_type, mentionedUserIds: null !== (o3 = null === (s4 = r3.old_values) || void 0 === s4 ? void 0 : s4.mentioned_user_ids) && void 0 !== o3 ? o3 : [] }, ne({ mentionType: l3.message.mentionType, mentionedUserIds: null !== (u3 = l3.message.mentionedUserIds) && void 0 !== u3 ? u3 : null === (c3 = l3.message.mentionedUsers) || void 0 === c3 ? void 0 : c3.map(function(e4) {
      return e4.userId;
    }) }), d3.userId), l3;
  }
  return t(n3, t6), n3;
}(Re);
var Gn2 = function(t6) {
  function n3(e3) {
    var n4 = null;
    return e3.mentionType === j.USERS && (e3.mentionedUserIds ? n4 = e3.mentionedUserIds : e3.mentionedUsers && (n4 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    }))), t6.call(this, { code: "FEDI", ackRequired: true, payload: te(ne({ channel_url: e3.channelUrl, msg_id: e3.messageId, data: e3.data, custom_type: e3.customType, metaarray: e3.metaArrayParams, mention_type: e3.mentionType, mentioned_user_ids: n4, apple_critical_alert_options: e3.appleCriticalAlertOptions })) }) || this;
  }
  return t(n3, t6), n3;
}(De);
var Vn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3, s4, o3, u3, c3, l3 = this;
    (l3 = t6.call(this, e3, "FEDI", r3) || this).message = new et2(e3, r3);
    var d3 = So.of(e3).sdkState;
    return l3.mentionCountChange = Te({ mentionType: null === (i3 = r3.old_values) || void 0 === i3 ? void 0 : i3.mention_type, mentionedUserIds: null !== (o3 = null === (s4 = r3.old_values) || void 0 === s4 ? void 0 : s4.mentioned_user_ids) && void 0 !== o3 ? o3 : [] }, ne({ mentionType: l3.message.mentionType, mentionedUserIds: null !== (u3 = l3.message.mentionedUserIds) && void 0 !== u3 ? u3 : null === (c3 = l3.message.mentionedUsers) || void 0 === c3 ? void 0 : c3.map(function(e4) {
      return e4.userId;
    }) }), d3.userId), l3;
  }
  return t(n3, t6), n3;
}(Re);
var Hn2 = function(n3) {
  function r3(e3) {
    var r4 = n3.call(this) || this;
    return r4.method = ie.DELETE, r4.path = "".concat(ye(e3.channelType), "/").concat(e3.channelUrl, "/messages/").concat(e3.messageId), r4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var Wn2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "DELM", r3) || this;
    return i3.channelUrl = r3.channel_url, i3.channelType = r3.channel_type, i3.messageId = Number(r3.msg_id), i3;
  }
  return t(n3, t6), n3;
}(Re);
var Yn2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelType, i3 = e3.channelUrl, s4 = e3.messageId, a3 = e3.reactionKey, o3 = n3.call(this) || this;
    return o3.method = ie.POST, o3.path = "".concat(ye(r4), "/").concat(encodeURIComponent(i3), "/messages/").concat(s4, "/reactions"), o3.params = { reaction: a3 }, o3;
  }
  return t(r3, n3), r3;
}(Ce);
var Jn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.reactionEvent = new Ue2(n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Xn2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelType, i3 = e3.channelUrl, s4 = e3.messageId, a3 = e3.reactionKey, o3 = n3.call(this) || this;
    return o3.method = ie.DELETE, o3.path = "".concat(ye(r4), "/").concat(encodeURIComponent(i3), "/messages/").concat(s4, "/reactions"), o3.params = { reaction: a3 }, o3;
  }
  return t(r3, n3), r3;
}(Ce);
var Zn2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.reactionEvent = new Ue2(n({}, n4)), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var $n2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelType, i3 = e3.channelUrl, s4 = e3.messageId, a3 = e3.translationTargetLanguages, o3 = n3.call(this) || this;
    return o3.method = ie.POST, o3.path = "".concat(ye(r4), "/").concat(encodeURIComponent(i3), "/messages/").concat(encodeURIComponent(s4), "/translation"), o3.params = { target_langs: a3 }, o3;
  }
  return t(r3, n3), r3;
}(Ce);
var er2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.message = new We2(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var tr2 = function(n3) {
  function i3(e3) {
    var i4, s4 = this;
    s4 = n3.call(this) || this;
    var o3 = [];
    e3.mentionType === j.USERS && (e3.mentionedUserIds ? o3 = e3.mentionedUserIds : e3.mentionedUsers && (o3 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    })));
    var u3 = e3.channelType, c3 = e3.channelUrl;
    return s4.method = ie.POST, s4.path = "".concat(ye(u3), "/").concat(encodeURIComponent(c3), "/scheduled_messages"), s4.params = te(ne({ req_id: e3.reqId, scheduled_at: e3.scheduledAt, message_type: q.USER, message: e3.message, custom_type: e3.customType, data: e3.data, mention_type: e3.mentionType, mentioned_user_ids: o3, sorted_metaarray: null === (i4 = e3.metaArrays) || void 0 === i4 ? void 0 : i4.map(function(e4) {
      return xe2.payloadify(e4);
    }), apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, target_langs: e3.translationTargetLanguages, push_option: e3.pushNotificationDeliveryOption })), s4;
  }
  return t(i3, n3), i3;
}(Ce);
var nr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.message = new We2(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var rr2 = function(n3) {
  function r3(e3) {
    var r4, i3 = this;
    i3 = n3.call(this) || this;
    var s4 = [];
    e3.mentionType === j.USERS && (e3.mentionedUserIds ? s4 = e3.mentionedUserIds : e3.mentionedUsers && (s4 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    })));
    var o3 = e3.channelType, u3 = e3.channelUrl;
    return i3.method = ie.POST, i3.path = "".concat(ye(o3), "/").concat(encodeURIComponent(u3), "/scheduled_messages"), i3.params = ne({ req_id: e3.reqId, scheduled_at: e3.scheduledAt, message_type: q.FILE, url: e3.fileUrl, file_name: e3.fileName, file_size: e3.fileSize, file_type: e3.mimeType, thumbnails: e3.thumbnailSizes ? e3.thumbnailSizes.map(function(e4) {
      return Ke2.payloadify(e4);
    }) : [], custom_type: e3.customType, data: e3.data, require_auth: e3.requireAuth, mention_type: e3.mentionType, mentioned_user_ids: s4, sorted_metaarray: null === (r4 = e3.metaArrays) || void 0 === r4 ? void 0 : r4.map(function(e4) {
      return xe2.payloadify(e4);
    }), apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, push_option: e3.pushNotificationDeliveryOption }), i3;
  }
  return t(r3, n3), r3;
}(Ce);
var ir2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.message = new et2(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var sr2 = function(n3) {
  function r3(e3) {
    var r4 = e3.pollId, i3 = e3.title, s4 = e3.data, a3 = e3.allowUserSuggestion, o3 = e3.allowMultipleVotes, u3 = e3.closeAt, c3 = n3.call(this) || this;
    return c3.method = ie.PUT, c3.path = "".concat(pe, "/").concat(encodeURIComponent(r4)), c3.params = { title: i3, data: s4, allow_user_suggestion: a3, allow_multiple_votes: o3, close_at: u3 }, c3;
  }
  return t(r3, n3), r3;
}(Ce);
var ar2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.poll = new Do(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var or2 = function(n3) {
  function r3(e3) {
    var r4 = e3.pollId, i3 = n3.call(this) || this;
    return i3.method = ie.DELETE, i3.path = "".concat(pe, "/").concat(encodeURIComponent(r4)), i3;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var ur2 = function(n3) {
  function r3(e3) {
    var r4 = e3.pollId, i3 = n3.call(this) || this;
    return i3.method = ie.PUT, i3.path = "".concat(pe, "/").concat(encodeURIComponent(r4), "/close"), i3;
  }
  return t(r3, n3), r3;
}(Ce);
var cr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.poll = new Do(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var lr2 = function(n3) {
  function r3(e3) {
    var r4 = e3.channelUrl, i3 = e3.channelType, s4 = e3.pollId, a3 = e3.optionText, o3 = n3.call(this) || this;
    return o3.method = ie.POST, o3.path = "".concat(pe, "/").concat(encodeURIComponent(s4), "/options"), o3.params = { channel_url: r4, channel_type: i3, text: a3 }, o3;
  }
  return t(r3, n3), r3;
}(Ce);
var dr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.poll = new Do(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var hr2 = function(n3) {
  function r3(e3) {
    var r4 = e3.pollId, i3 = e3.pollOptionId, s4 = e3.optionText, a3 = n3.call(this) || this;
    return a3.method = ie.PUT, a3.path = "".concat(pe, "/").concat(encodeURIComponent(r4), "/options/").concat(encodeURIComponent(i3)), a3.params = { text: s4 }, a3;
  }
  return t(r3, n3), r3;
}(Ce);
var fr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.poll = new Do(e3, n4), r3;
  }
  return t(n3, t6), n3;
}(Oe);
var pr2 = function(n3) {
  function r3(e3) {
    var r4 = e3.pollId, i3 = e3.pollOptionId, s4 = n3.call(this) || this;
    return s4.method = ie.DELETE, s4.path = "".concat(pe, "/").concat(encodeURIComponent(r4), "/options/").concat(encodeURIComponent(i3)), s4;
  }
  return t(r3, n3), r3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var mr2 = function(t6) {
  function n3(e3) {
    var n4 = e3.reqId, i3 = e3.channelType, s4 = e3.channelUrl, a3 = e3.pollId, o3 = e3.pollOptionIds;
    return t6.call(this, { code: "VOTE", ackRequired: true, payload: te({ req_id: n4, channel_type: i3 === F.OPEN ? "open_channels" : "group_channels", channel_url: s4, poll_id: a3, option_ids: o3 }) }) || this;
  }
  return t(n3, t6), n3;
}(De);
var vr2 = function(t6) {
  function n3(e3, n4, r3) {
    var i3 = t6.call(this, e3, "VOTE", r3) || this;
    return i3.event = new qo(r3), i3.channelUrl = r3.channel_url, i3.channelType = r3.channel_type, i3;
  }
  return t(n3, t6), n3;
}(Re);
var yr2 = 100;
var _r2 = "GroupChannel";
var gr2 = "url";
var br2 = 100;
var Ir2 = "Message";
var Er2 = "messageId";
var Tr2 = "NotificationMessage";
var Sr2 = "notificationId";
var Mr2 = "Poll";
var Ar2 = "pollId";
var Ur2 = "FeedChannel";
var Cr2 = "url";
function Or2(e3) {
  var t6, n3, r3;
  return null !== (t6 = e3.messageParams) && void 0 !== t6 ? t6 : ne(n(n({}, e3), { isReplyToChannel: false, mentionedUserIds: null !== (n3 = e3.mentionedUserIds) && void 0 !== n3 ? n3 : null === (r3 = e3.mentionedUsers) || void 0 === r3 ? void 0 : r3.map(function(e4) {
    return e4.userId;
  }), pushNotificationDeliveryOption: B.DEFAULT, isPinnedMessage: false, fileInfoList: e3.fileInfoList.map(function(e4) {
    var t7;
    return { fileUrl: e4.plainUrl, fileName: e4.fileName, fileSize: e4.fileSize, mimeType: e4.mimeType, thumbnailSizes: null === (t7 = e4.thumbnails) || void 0 === t7 ? void 0 : t7.map(function(e5) {
      return { maxWidth: e5.width, maxHeight: e5.height };
    }), _uploadedMetaData: { requireAuth: e4._requireAuth, isUploaded: true } };
  }) }));
}
var Pr2;
var kr2 = n(n({}, Mt2), { fileInfoList: [] });
var Rr2 = function(e3) {
  return (k(e3.file) || w("string", e3.fileUrl)) && w("string", e3.fileName, true) && w("string", e3.mimeType, true) && w("number", e3.fileSize, true) && (void 0 === e3.thumbnailSizes || Array.isArray(e3.thumbnailSizes) && e3.thumbnailSizes.every(function(e4) {
    return e4.maxWidth > 0 && e4.maxHeight > 0;
  }));
};
var xr2 = function(t6) {
  function n3() {
    var e3 = null !== t6 && t6.apply(this, arguments) || this;
    return e3._onFileUploaded = Ze, e3;
  }
  return t(n3, t6), n3.prototype._triggerOnFileUploaded = function(e3, t7, n4, r3) {
    this._onFileUploaded(e3, t7, n4, r3);
  }, n3.prototype.onFileUploaded = function(e3) {
    return this._onFileUploaded = e3, this;
  }, n3.prototype.onPending = function(e3) {
    return t6.prototype.onPending.call(this, e3), this;
  }, n3.prototype.onFailed = function(e3) {
    return t6.prototype.onFailed.call(this, e3), this;
  }, n3.prototype.onSucceeded = function(e3) {
    return t6.prototype.onSucceeded.call(this, e3), this;
  }, n3;
}(St2);
var Dr2 = 2;
!function(e3) {
  e3.SEND = "send", e3.RESEND = "resend", e3.COPY = "copy";
}(Pr2 || (Pr2 = {}));
var Lr2;
var Fr2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3, c3, l3 = this;
    return (l3 = t6.call(this, e3) || this)._name = "", l3._createdAt = 0, l3.channelType = F.BASE, l3.coverUrl = "", l3.customType = "", l3.data = "", l3.isFrozen = false, l3.isEphemeral = false, l3.creator = null, l3._messageCollectionLastAccessedAt = 0, l3._url = n4.channel_url, l3._name = null !== (r3 = n4.name) && void 0 !== r3 ? r3 : "", l3._createdAt = 1e3 * n4.created_at, l3.coverUrl = null !== (i3 = n4.cover_url) && void 0 !== i3 ? i3 : "", l3.customType = null !== (s4 = n4.custom_type) && void 0 !== s4 ? s4 : "", l3.data = null !== (a3 = n4.data) && void 0 !== a3 ? a3 : "", l3.isFrozen = null !== (o3 = n4.freeze) && void 0 !== o3 && o3, l3.isEphemeral = null !== (c3 = n4.is_ephemeral) && void 0 !== c3 && c3, l3.creator = n4.created_by ? new Fr(l3._iid, n4.created_by) : null, n4.metadata && Object.keys(n4.metadata).length > 0 && n4.ts && (l3._cachedMetaData = /* @__PURE__ */ new Map(), Object.keys(n4.metadata).forEach(function(e4) {
      l3._cachedMetaData.set(e4, { value: n4.metadata[e4], isRemoved: false, updatedAt: n4.ts });
    })), l3;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "url", { get: function() {
    return this._url;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "name", { get: function() {
    return this._name;
  }, set: function(e3) {
    this._name = e3;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "createdAt", { get: function() {
    return this._createdAt;
  }, enumerable: false, configurable: true }), n3.prototype.toJSON = function() {
    return n(n({}, this), { url: this._url, name: this._name, createdAt: this._createdAt });
  }, n3.payloadify = function(e3) {
    return te(ne(n(n({}, t6.payloadify.call(this, e3)), { channel_url: e3.url, name: e3.name, cover_url: e3.coverUrl, custom_type: e3.customType, data: e3.data, freeze: e3.isFrozen, is_ephemeral: e3.isEphemeral, created_by: e3.creator ? Fr.payloadify(e3.creator) : null, created_at: e3.createdAt / 1e3 })));
  }, n3.prototype.isGroupChannel = function() {
    return this.channelType === F.GROUP;
  }, n3.prototype.isOpenChannel = function() {
    return this.channelType === F.OPEN;
  }, n3.prototype.isFeedChannel = function() {
    return this.channelType === F.FEED;
  }, Object.defineProperty(n3.prototype, "cachedMetaData", { get: function() {
    var e3 = {};
    return this._cachedMetaData ? (this._cachedMetaData.forEach(function(t7, n4) {
      t7.isRemoved || (e3[n4] = t7.value);
    }), e3) : e3;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "messageCollectionLastAccessedAt", { get: function() {
    return this._messageCollectionLastAccessedAt;
  }, enumerable: false, configurable: true }), n3.prototype._updateMessageCollectionLastAccessedAt = function() {
    this._messageCollectionLastAccessedAt = Date.now();
  }, n3.prototype._update = function(e3) {
    var t7 = te(e3);
    Object.assign(this, t7);
  }, n3.prototype._upsertCachedMetaData = function(e3, t7) {
    var n4 = this;
    Object.keys(e3).forEach(function(r3) {
      n4._cachedMetaData || (n4._cachedMetaData = /* @__PURE__ */ new Map());
      var i3 = n4._cachedMetaData.get(r3);
      (!i3 || i3.updatedAt <= t7) && n4._cachedMetaData.set(r3, { value: e3[r3], isRemoved: false, updatedAt: t7 });
    });
  }, n3.prototype._updateCachedMetaData = function(e3, t7) {
    var n4 = this;
    this._cachedMetaData ? this._cachedMetaData.forEach(function(r3, i3) {
      var s4;
      r3.updatedAt <= t7 && n4._cachedMetaData.set(i3, { value: null !== (s4 = e3[i3]) && void 0 !== s4 ? s4 : r3.value, isRemoved: !e3[i3], updatedAt: t7 });
    }) : (this._cachedMetaData = /* @__PURE__ */ new Map(), Object.keys(e3).forEach(function(r3) {
      n4._cachedMetaData.set(r3, { value: e3[r3], isRemoved: false, updatedAt: t7 });
    }));
  }, n3.prototype._removeFromCachedMetaData = function(e3, t7) {
    var n4 = this;
    this._cachedMetaData && e3.forEach(function(e4) {
      var r3 = n4._cachedMetaData.get(e4);
      r3 && r3.updatedAt < t7 && (r3.isRemoved = true, r3.updatedAt = t7);
    });
  }, n3.prototype._runIfHandleableWithGroupChannel = function(e3) {
    this.isGroupChannel() ? e3(this) : this.isFeedChannel() && e3(this.groupChannel);
  }, n3.prototype._generateRequestId = function() {
    return "rq-".concat(Y());
  }, n3.prototype.isIdentical = function(e3) {
    return e3 && this.url === e3.url;
  }, n3.prototype.isEqual = function(e3) {
    return y(this, e3);
  }, n3.prototype.createOperatorListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new Yt2(this._iid, this.url, this.channelType, e3);
  }, n3.prototype.createMutedUserListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new $t2(this._iid, this.url, this.channelType, e3);
  }, n3.prototype.createBannedUserListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new nn2(this._iid, this.url, this.channelType, e3);
  }, n3.prototype.createPreviousMessageListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new Jt2(this._iid, this.url, this.channelType, e3);
  }, n3.prototype.addOperators = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(S("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new rn2({ channelUrl: this.url, channelType: this.channelType, operatorUserIds: e3 }), [4, t7.send(n4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, n3.prototype.removeOperators = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(S("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new sn2({ channelUrl: this.url, channelType: this.channelType, operatorUserIds: e3 }), [4, t7.send(n4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, n3.prototype.getMyMutedInfo = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4, a3, o3, u3, c3, l3;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return e3 = So.of(this._iid), t7 = e3.sdkState, n4 = e3.requestQueue, r3 = new an2({ channelUrl: this.url, channelType: this.channelType, userId: t7.userId }), [4, n4.send(r3)];
          case 1:
            return i3 = d3.sent(), s4 = i3.as(on2), a3 = s4.isMuted, o3 = s4.startAt, u3 = s4.endAt, c3 = s4.remainingDuration, l3 = s4.description, [2, { isMuted: a3, startAt: o3, endAt: u3, remainingDuration: c3, description: l3 }];
        }
      });
    });
  }, n3.prototype.getMetaData = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(S("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new un2({ channelUrl: this.url, channelType: this.channelType, keys: e3 }), [4, t7.send(n4)];
          case 1:
            return r3 = o3.sent(), i3 = r3.as(cn2), s4 = i3.metadata, a3 = i3.ts, this._upsertCachedMetaData(s4, a3), [2, s4];
        }
      });
    });
  }, n3.prototype.getAllMetaData = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new un2({ channelUrl: this.url, channelType: this.channelType, keys: [] }), [4, e3.send(t7)];
          case 1:
            return n4 = a3.sent(), r3 = n4.as(cn2), i3 = r3.metadata, s4 = r3.ts, this._updateCachedMetaData(i3, s4), [2, i3];
        }
      });
    });
  }, n3.prototype.createMetaData = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return t7 = So.of(this._iid).requestQueue, n4 = new ln2({ channelUrl: this.url, channelType: this.channelType, metadata: e3 }), [4, t7.send(n4)];
          case 1:
            return r3 = s4.sent(), i3 = r3.as(dn2).metaData, this._upsertCachedMetaData(i3, 0), [2, i3];
        }
      });
    });
  }, n3.prototype.updateMetaData = function(e3, t7) {
    return void 0 === t7 && (t7 = false), r(this, void 0, void 0, function() {
      var n4, r3, i3, s4, a3, o3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return n4 = So.of(this._iid).requestQueue, r3 = new hn2({ channelUrl: this.url, channelType: this.channelType, metadata: e3, upsert: t7 }), [4, n4.send(r3)];
          case 1:
            return i3 = u3.sent(), s4 = i3.as(fn2), a3 = s4.metadata, o3 = s4.ts, this._upsertCachedMetaData(a3, o3), [2, a3];
        }
      });
    });
  }, n3.prototype.deleteMetaData = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new mn2({ channelUrl: this.url, channelType: this.channelType, key: e3 }), [4, t7.send(n4)];
          case 1:
            return r3 = s4.sent(), i3 = r3.as(vn2).ts, this._removeFromCachedMetaData([e3], i3), [2];
        }
      });
    });
  }, n3.prototype.deleteAllMetaData = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new yn2({ channelUrl: this.url, channelType: this.channelType }), [4, e3.send(t7)];
          case 1:
            return n4 = i3.sent(), r3 = n4.as(_n2).ts, this._removeFromCachedMetaData(c([], a(this._cachedMetaData.keys()), false), r3), [2];
        }
      });
    });
  }, n3.prototype.getMetaCounters = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return Pr(S("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new gn2({ channelUrl: this.url, channelType: this.channelType, keys: e3 }), [4, t7.send(n4)];
          case 1:
            return r3 = i3.sent(), [2, r3.as(bn2).metaCounter];
        }
      });
    });
  }, n3.prototype.getAllMetaCounters = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new gn2({ channelUrl: this.url, channelType: this.channelType, keys: [] }), [4, e3.send(t7)];
          case 1:
            return n4 = r3.sent(), [2, n4.as(bn2).metaCounter];
        }
      });
    });
  }, n3.prototype.createMetaCounters = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t7 = So.of(this._iid).requestQueue, n4 = new In2({ channelUrl: this.url, channelType: this.channelType, metaCounter: e3 }), [4, t7.send(n4)];
          case 1:
            return r3 = i3.sent(), [2, r3.as(En2).metaCounter];
        }
      });
    });
  }, n3.prototype.updateMetaCounters = function(e3, t7) {
    return void 0 === t7 && (t7 = false), r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return n4 = So.of(this._iid).requestQueue, r3 = new wn2({ channelUrl: this.url, channelType: this.channelType, metaCounter: e3, upsert: t7 }), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(Tn2).metaCounter];
        }
      });
    });
  }, n3.prototype.increaseMetaCounters = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t7 = So.of(this._iid).requestQueue, n4 = new wn2({ channelUrl: this.url, channelType: this.channelType, metaCounter: e3, upsert: false, mode: "increase" }), [4, t7.send(n4)];
          case 1:
            return r3 = i3.sent(), [2, r3.as(Tn2).metaCounter];
        }
      });
    });
  }, n3.prototype.decreaseMetaCounters = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t7 = So.of(this._iid).requestQueue, n4 = new wn2({ channelUrl: this.url, channelType: this.channelType, metaCounter: e3, upsert: false, mode: "decrease" }), [4, t7.send(n4)];
          case 1:
            return r3 = i3.sent(), [2, r3.as(Tn2).metaCounter];
        }
      });
    });
  }, n3.prototype.deleteMetaCounter = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(w("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new Mn2({ channelUrl: this.url, channelType: this.channelType, key: e3 }), [4, t7.send(n4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, n3.prototype.deleteAllMetaCounters = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new An2({ channelUrl: this.url, channelType: this.channelType }), [4, e3.send(t7)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.muteUser = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(r3) {
        return [2, this.muteUserWithUserId(e3.userId, t7, n4)];
      });
    });
  }, n3.prototype.muteUserWithUserId = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("string", e3) && w("number", t7, true) && w("string", n4, true)).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new Nn2({ channelUrl: this.url, channelType: this.channelType, userId: e3, seconds: t7, description: n4 }), [4, r3.send(i3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, n3.prototype.unmuteUser = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return [2, this.unmuteUserWithUserId(e3.userId)];
      });
    });
  }, n3.prototype.unmuteUserWithUserId = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(w("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new Cn2({ channelUrl: this.url, channelType: this.channelType, userId: e3 }), [4, t7.send(n4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, n3.prototype.banUser = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(r3) {
        return [2, this.banUserWithUserId(e3.userId, t7, n4)];
      });
    });
  }, n3.prototype.banUserWithUserId = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("string", e3) && w("number", t7, true) && w("string", n4, true)).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new Pn2({ channelUrl: this.url, channelType: this.channelType, userId: e3, seconds: t7, description: n4 }), [4, r3.send(i3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, n3.prototype.unbanUser = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return [2, this.unbanUserWithUserId(e3.userId)];
      });
    });
  }, n3.prototype.unbanUserWithUserId = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(w("string", e3)).throw(g.invalidParameters), t7 = So.of(this._iid).requestQueue, n4 = new Rn2({ channelUrl: this.url, channelType: this.channelType, userId: e3 }), [4, t7.send(n4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, n3.prototype.freeze = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new Dn2({ channelUrl: this.url, channelType: this.channelType, freezing: true }), [4, e3.send(t7)];
          case 1:
            return n4.sent(), this.isFrozen = true, [2];
        }
      });
    });
  }, n3.prototype.unfreeze = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t7 = new Dn2({ channelUrl: this.url, channelType: this.channelType, freezing: false }), [4, e3.send(t7)];
          case 1:
            return n4.sent(), this.isFrozen = false, [2];
        }
      });
    });
  }, n3.prototype.getMessagesByMessageId = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, lt2), t7), Pr(w("number", e3) && dt2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getMessagesByMessageId(this.url, this.channelType, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.prototype.getMessagesByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, lt2), t7), Pr(w("number", e3) && dt2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getMessagesByTimestamp(this.url, this.channelType, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.prototype.getMessageChangeLogsSinceTimestamp = function(e3, t7) {
    return void 0 === t7 && (t7 = {}), r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, ht2), t7), Pr(w("number", e3) && ft2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getMessageChangelogs(this.url, this.channelType, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.prototype.getMessageChangeLogsSinceToken = function(e3, t7) {
    return void 0 === t7 && (t7 = {}), r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return n4 = n(n({}, ht2), t7), Pr(w("string", e3) && ft2(n4)).throw(g.invalidParameters), [4, ys.of(this._iid).getMessageChangelogs(this.url, this.channelType, e3, n4)];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, n3.prototype._createPendingSendableMessagePayload = function(e3, t7, n4) {
    var i3, s4 = So.of(this._iid).sessionManager;
    return te(ne({ channel_url: this.url, channel_type: this.channelType, msg_id: 0, parent_message_id: e3.parentMessageId, data: e3.data, custom_type: e3.customType, mention_type: e3.mentionType, sorted_metaarray: e3.metaArrays ? e3.metaArrays.map(function(e4) {
      return xe2.payloadify(e4);
    }) : null, apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, created_at: n4, user: s4.currentUser ? Re2.payloadify(s4.currentUser) : null, req_id: t7, request_state: W.PENDING, mentioned_user_ids: e3.mentionedUserIds, mentioned_users: null === (i3 = e3.mentionedUsers) || void 0 === i3 ? void 0 : i3.map(function(e4) {
      return Fr.payloadify(e4);
    }) }));
  }, n3.prototype._createPendingUserMessage = function(e3, t7, n4) {
    var i3, s4, a3 = {};
    if (e3.translationTargetLanguages)
      try {
        for (var u3 = s(e3.translationTargetLanguages), c3 = u3.next(); !c3.done; c3 = u3.next()) {
          a3[c3.value] = "";
        }
      } catch (e4) {
        i3 = { error: e4 };
      } finally {
        try {
          c3 && !c3.done && (s4 = u3.return) && s4.call(u3);
        } finally {
          if (i3)
            throw i3.error;
        }
      }
    var l3 = te(n(n({}, this._createPendingSendableMessagePayload(e3, t7, n4)), { type: H.USER, message: e3.message, translations: a3 })), d3 = new We2(this._iid, l3);
    return d3.messageParams = e3, d3;
  }, n3.prototype._createPendingScheduledUserMessage = function(e3, t7, n4) {
    var r3 = this._createPendingUserMessage(e3, t7, n4);
    return r3.scheduledInfo = { scheduledMessageId: 0, scheduledAt: e3.scheduledAt, scheduledMessageParams: e3 }, r3;
  }, n3.prototype._createPendingFileMessage = function(e3, t7, n4) {
    var i3, s4, a3, u3, c3, l3, d3 = te(n(n({}, this._createPendingSendableMessagePayload(e3, t7, n4)), { type: H.FILE, url: e3.fileUrl, file: { name: null !== (i3 = e3.fileName) && void 0 !== i3 ? i3 : null === (s4 = e3.file) || void 0 === s4 ? void 0 : s4.name, size: null !== (a3 = e3.fileSize) && void 0 !== a3 ? a3 : null === (u3 = e3.file) || void 0 === u3 ? void 0 : u3.size, type: null !== (c3 = e3.mimeType) && void 0 !== c3 ? c3 : null === (l3 = e3.file) || void 0 === l3 ? void 0 : l3.type, data: e3.data }, thumbnails: e3.thumbnailSizes ? e3.thumbnailSizes.map(function(e4) {
      return { url: "", width: e4.maxWidth, height: e4.maxHeight };
    }) : [] })), h3 = new et2(this._iid, d3);
    return h3.messageParams = e3, h3;
  }, n3.prototype._createPendingMultipleFilesMessage = function(e3, t7, n4) {
    var i3 = te(n(n({}, this._createPendingSendableMessagePayload(e3, t7, n4)), { type: H.FILE })), s4 = new Je2(this._iid, i3);
    return s4.messageParams = e3, s4;
  }, n3.prototype._validateFailedFileMessageHasFile = function(e3, t7) {
    var n4;
    return Boolean(e3.url) || k(t7) || k(null === (n4 = e3.messageParams) || void 0 === n4 ? void 0 : n4.file);
  }, n3.prototype._createPendingScheduledFileMessage = function(e3, t7, n4) {
    var r3 = this._createPendingFileMessage(e3, t7, n4);
    return r3.scheduledInfo = { scheduledMessageId: 0, scheduledAt: e3.scheduledAt, scheduledMessageParams: e3 }, r3;
  }, n3.prototype._markMessageAsFailed = function(e3, t7, n4) {
    void 0 === n4 && (n4 = false), e3.errorCode = t7.code, t7.code === u.REQUEST_CANCELED || t7.code === u.FILE_UPLOAD_CANCEL_FAILED ? e3.sendingStatus = W.CANCELED : n4 || (e3.sendingStatus = W.FAILED);
  }, n3.prototype.sendUserMessage = function(e3) {
    var t7 = n(n({}, Ut2), e3);
    return Pr(kt2(t7)).throw(g.invalidParameters), this._sendUserMessage(t7);
  }, n3.prototype._sendUserMessage = function(e3, t7, n4) {
    var r3 = this;
    void 0 === t7 && (t7 = Pr2.SEND);
    var i3 = So.of(this._iid), s4 = i3.dispatcher, a3 = i3.requestQueue, u3 = null != n4 ? n4 : this._generateRequestId(), c3 = Date.now(), l3 = new St2();
    return Zr(2).then(function() {
      var n5 = r3._createPendingUserMessage(e3, u3, c3);
      s4.dispatch(new Uo({ messages: [n5], source: t7 === Pr2.RESEND ? Co.LOCAL_MESSAGE_RESEND_STARTED : Co.EVENT_MESSAGE_SENT_PENDING })), jr(function() {
        return r(r3, void 0, void 0, function() {
          return o(this, function(e4) {
            return [2, l3._trigger(n5)];
          });
        });
      });
      var i4 = new Bn2(n(n({}, e3), { channelUrl: r3.url, channelType: r3.channelType, reqId: u3 }));
      a3.send(i4).then(function(e4) {
        var t8 = e4.as(Kn2).message;
        s4.dispatch(new Uo({ messages: [t8], source: Co.EVENT_MESSAGE_SENT_SUCCESS })), jr(function() {
          return r(r3, void 0, void 0, function() {
            return o(this, function(e5) {
              return [2, l3._trigger(t8)];
            });
          });
        });
      }).catch(function(t8) {
        if (v(t8))
          throw t8;
        Zr(2).then(function() {
          var n6 = r3._createPendingUserMessage(e3, u3, c3), i5 = So.of(r3._iid).cacheContext, a4 = i5.localCacheEnabled && i5.localCacheConfig.enableAutoResend && O(t8.code);
          r3._markMessageAsFailed(n6, t8, a4), s4.dispatch(new Uo({ messages: [n6], source: n6.sendingStatus === W.PENDING ? Co.REQUEST_RESEND_MESSAGE : Co.EVENT_MESSAGE_SENT_FAILED })), jr(function() {
            return r(r3, void 0, void 0, function() {
              return o(this, function(e4) {
                return [2, l3._triggerFailed(t8, n6)];
              });
            });
          });
        });
      });
    }), l3;
  }, n3.prototype._autoResendUserMessage = function(e3) {
    return Pr(e3 instanceof We2 && !!e3.messageParams).throw(g.invalidParameters), this._sendUserMessage(e3.messageParams, Pr2.SEND, e3.reqId);
  }, n3.prototype.resendUserMessage = function(e3) {
    var t7;
    return r(this, void 0, void 0, function() {
      var n4, r3;
      return o(this, function(i3) {
        return Pr(e3 instanceof We2 && !e3.scheduledInfo).throw(g.invalidParameters), n4 = new We(), r3 = null !== (t7 = e3.messageParams) && void 0 !== t7 ? t7 : Pt2(e3), this._sendUserMessage(r3, Pr2.RESEND, e3.reqId).onFailed(function(e4) {
          return n4.reject(e4);
        }).onSucceeded(function(e4) {
          return n4.resolve(e4);
        }), [2, n4.promise];
      });
    });
  }, n3.prototype.updateUserMessage = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return n4 = n(n({}, Qt2), t7), Pr(w("number", e3) && Gt2(n4)).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new jn2(n({ channelType: this.channelType, channelUrl: this.url, messageId: e3, metaArrayParams: n4.metaArrays ? { array: n4.metaArrays, mode: "add", upsert: true } : void 0 }, n4)), [4, r3.send(i3)];
          case 1:
            return s4 = a3.sent(), [2, s4.as(Qn2).message];
        }
      });
    });
  }, n3.prototype.copyUserMessage = function(e3, t7) {
    var r3, i3, s4;
    return r(this, void 0, void 0, function() {
      var u3, c3;
      return o(this, function(l3) {
        return Pr(e3 instanceof n3 && t7 instanceof We2 && t7.sendingStatus === W.SUCCEEDED && this.url === t7.channelUrl && !t7.scheduledInfo).throw(g.invalidParameters), Pr(!t7.poll).throw(g.notSupportedError), u3 = new We(), c3 = null !== (r3 = t7.messageParams) && void 0 !== r3 ? r3 : ne(n(n({}, t7), { mentionType: t7.mentionType, mentionedUserIds: null !== (i3 = t7.mentionedUserIds) && void 0 !== i3 ? i3 : null === (s4 = t7.mentionedUsers) || void 0 === s4 ? void 0 : s4.map(function(e4) {
          return e4.userId;
        }), translationTargetLanguages: Object.keys(t7.translations), pushNotificationDeliveryOption: B.DEFAULT, parentMessageId: null, isReplyToChannel: false, isPinnedMessage: false })), e3._sendUserMessage(c3).onSucceeded(function(e4) {
          u3.resolve(e4);
        }).onFailed(function(e4) {
          return u3.reject(e4);
        }), [2, u3.promise];
      });
    });
  }, n3.prototype.translateUserMessage = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(e3 instanceof We2 && e3.messageId > 0 && S("string", t7)).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new $n2({ channelType: this.channelType, channelUrl: this.url, messageId: e3.messageId, translationTargetLanguages: t7 }), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(er2).message];
        }
      });
    });
  }, n3.prototype._createScheduledUserMessage = function(e3, t7) {
    var n4 = this, r3 = So.of(this._iid).requestQueue, i3 = Date.now(), s4 = this._generateRequestId();
    Zr(2).then(function() {
      var r4 = n4._createPendingScheduledUserMessage(e3, s4, i3);
      jr(function() {
        return r(n4, void 0, void 0, function() {
          return o(this, function(e4) {
            return [2, t7._trigger(r4)];
          });
        });
      });
    });
    var a3 = new tr2(n({ reqId: s4, channelType: this.channelType, channelUrl: this.url }, e3));
    r3.send(a3).then(function(e4) {
      var r4 = e4.as(nr2).message;
      jr(function() {
        return r(n4, void 0, void 0, function() {
          return o(this, function(e5) {
            return [2, t7._trigger(r4)];
          });
        });
      });
    }).catch(function(r4) {
      if (v(r4))
        throw r4;
      Zr(2).then(function() {
        var a4 = n4._createPendingScheduledUserMessage(e3, s4, i3);
        n4._markMessageAsFailed(a4, r4), jr(function() {
          return r(n4, void 0, void 0, function() {
            return o(this, function(e4) {
              return [2, t7._trigger(a4)];
            });
          });
        });
      });
    });
  }, n3.prototype.sendFileMessage = function(e3) {
    var t7 = n(n({}, Lt2), e3);
    return Pr(Bt2(t7)).throw(g.invalidParameters), this._sendFileMessage(t7);
  }, n3.prototype.sendMultipleFilesMessage = function(e3) {
    var t7, n4 = n(n({}, kr2), e3), r3 = So.of(this._iid);
    Pr(function(e4, t8) {
      return void 0 === t8 && (t8 = Tr), At2(e4) && Array.isArray(e4.fileInfoList) && e4.fileInfoList.length >= 2 && e4.fileInfoList.length <= t8 && e4.fileInfoList.every(function(e5) {
        return Rr2(e5);
      });
    }(n4, null === (t7 = r3.appInfo) || void 0 === t7 ? void 0 : t7.multipleFilesMessageFileCountLimit)).throw(g.invalidParameters);
    var i3 = !!e3.fileInfoList.find(function(e4) {
      var t8 = r3.appInfo.uploadSizeLimit;
      return e4.file instanceof Blob && e4.file.size > t8 || e4.fileSize > t8;
    });
    return Pr(!i3).throw(g.fileSizeLimitExceededError), this._sendMultipleFilesMessage(n4);
  }, n3.prototype._sendFileMessage = function(e3, t7, n4) {
    var r3 = this;
    void 0 === t7 && (t7 = Pr2.SEND);
    var i3 = So.of(this._iid).dispatcher, s4 = ys.of(this._iid).fileMessageQueue, a3 = null != n4 ? n4 : this._generateRequestId(), o3 = Date.now(), u3 = new St2();
    return Zr(2).then(function() {
      var n5 = r3._createPendingFileMessage(e3, a3, o3);
      i3.dispatch(new Uo({ messages: [n5], source: t7 === Pr2.RESEND ? Co.LOCAL_MESSAGE_RESEND_STARTED : Co.EVENT_MESSAGE_SENT_PENDING })), jr(function() {
        return r(r3, void 0, void 0, function() {
          return o(this, function(e4) {
            return [2, u3._trigger(n5)];
          });
        });
      }), s4.request(r3, a3, e3).then(function(e4) {
        i3.dispatch(new Uo({ messages: [e4], source: Co.EVENT_MESSAGE_SENT_SUCCESS })), jr(function() {
          return r(r3, void 0, void 0, function() {
            return o(this, function(t8) {
              return [2, u3._trigger(e4)];
            });
          });
        });
      }).catch(function(t8) {
        if (v(t8))
          throw t8;
        Zr(2).then(function() {
          var n6 = r3._createPendingFileMessage(e3, a3, o3), s5 = So.of(r3._iid).cacheContext, c3 = s5.localCacheEnabled && s5.localCacheConfig.enableAutoResend && O(t8.code);
          r3._markMessageAsFailed(n6, t8, c3), i3.dispatch(new Uo({ messages: [n6], source: n6.sendingStatus === W.PENDING ? Co.REQUEST_RESEND_MESSAGE : t8.code === u.FILE_UPLOAD_CANCEL_FAILED ? Co.LOCAL_MESSAGE_CANCELED : Co.EVENT_MESSAGE_SENT_FAILED })), jr(function() {
            return r(r3, void 0, void 0, function() {
              return o(this, function(e4) {
                return [2, u3._triggerFailed(t8, n6)];
              });
            });
          });
        });
      });
    }), u3;
  }, n3.prototype._autoResendFileMessage = function(e3) {
    Pr(e3 instanceof et2 && !!e3.messageParams).throw(g.invalidParameters);
    var t7 = So.of(this._iid).logger;
    return t7.debug("autoResendFileMessage pending", e3), this._sendFileMessage(e3.messageParams, Pr2.SEND, e3.reqId).onFailed(function(e4) {
      t7.debug("autoResendFileMessage failed", e4);
    }).onSucceeded(function(e4) {
      t7.debug("autoResendFileMessage success", e4);
    });
  }, n3.prototype._sendMultipleFilesMessage = function(e3, t7, n4) {
    var r3 = this, i3 = So.of(this._iid).dispatcher, s4 = ys.of(this._iid).fileMessageQueue, a3 = null != n4 ? n4 : this._generateRequestId(), o3 = Date.now(), u3 = new xr2();
    return Zr(2).then(function() {
      var n5 = r3._createPendingMultipleFilesMessage(e3, a3, o3);
      i3.dispatch(new Uo({ messages: [n5], source: t7 === Pr2.RESEND ? Co.LOCAL_MESSAGE_RESEND_STARTED : Co.EVENT_MESSAGE_SENT_PENDING })), jr(function() {
        return r(r3, void 0, void 0, function() {
          return o(this, function(e4) {
            return [2, u3._trigger(n5)];
          });
        });
      }), s4.request(r3, a3, e3, { requestHandler: u3, isCopy: t7 === Pr2.COPY }).then(function(e4) {
        i3.dispatch(new Uo({ messages: [e4], source: Co.EVENT_MESSAGE_SENT_SUCCESS })), jr(function() {
          return r(r3, void 0, void 0, function() {
            return o(this, function(t8) {
              return [2, u3._trigger(e4)];
            });
          });
        });
      }).catch(function(t8) {
        if (v(t8))
          throw t8;
        Zr(2).then(function() {
          var n6 = r3._createPendingMultipleFilesMessage(e3, a3, o3);
          r3._markMessageAsFailed(n6, t8), i3.dispatch(new Uo({ messages: [n6], source: Co.EVENT_MESSAGE_SENT_FAILED })), jr(function() {
            return r(r3, void 0, void 0, function() {
              return o(this, function(e4) {
                return [2, u3._triggerFailed(t8, n6)];
              });
            });
          });
        });
      });
    }), u3;
  }, n3.prototype._createScheduledFileMessage = function(e3, t7, n4, r3) {
    var i3 = this, s4 = So.of(this._iid).requestQueue, a3 = new rr2(n(n({ reqId: n4, channelType: this.channelType, channelUrl: this.url }, e3), { fileUrl: e3.fileUrl, requireAuth: e3.requireAuth }));
    s4.send(a3).then(function(e4) {
      var n5 = e4.as(ir2).message;
      jr(function() {
        return r(i3, void 0, void 0, function() {
          return o(this, function(e5) {
            return [2, t7._trigger(n5)];
          });
        });
      });
    }).catch(function(s5) {
      if (v(s5))
        throw s5;
      Zr(2).then(function() {
        var a4 = i3._createPendingScheduledFileMessage(e3, n4, r3);
        i3._markMessageAsFailed(a4, s5), jr(function() {
          return r(i3, void 0, void 0, function() {
            return o(this, function(e4) {
              return [2, t7._triggerFailed(s5, a4)];
            });
          });
        });
      });
    });
  }, n3.prototype.sendFileMessages = function(e3) {
    var t7, n4;
    Pr(e3.every(function(e4) {
      return Bt2(n(n({}, Lt2), e4));
    })).throw(g.invalidParameters);
    var r3 = new St2();
    try {
      for (var i3 = s(e3), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        this.sendFileMessage(a3).onPending(function(e4) {
          return r3._trigger(e4);
        }).onFailed(function(e4, t8) {
          return r3._triggerFailed(e4, t8);
        }).onSucceeded(function(e4) {
          return r3._trigger(e4);
        });
      }
    } catch (e4) {
      t7 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (n4 = i3.return) && n4.call(i3);
      } finally {
        if (t7)
          throw t7.error;
      }
    }
    return r3;
  }, n3.prototype.resendFileMessage = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        return n4 = this._validateFailedFileMessageHasFile(e3, t7), Pr(e3 instanceof et2 && n4 && !e3.scheduledInfo).throw(g.invalidParameters), r3 = new We(), i3 = zt2(e3, t7), this._sendFileMessage(i3, Pr2.RESEND, e3.reqId).onFailed(function(e4) {
          return r3.reject(e4);
        }).onSucceeded(function(e4) {
          return r3.resolve(e4);
        }), [2, r3.promise];
      });
    });
  }, n3.prototype.resendMessage = function(e3, t7) {
    var n4, r3;
    if (Pr(e3 instanceof Be2 && !e3.scheduledInfo && e3.isResendable).throw(g.invalidParameters), e3.isUserMessage()) {
      var i3 = null !== (n4 = e3.messageParams) && void 0 !== n4 ? n4 : Pt2(e3);
      return this._sendUserMessage(i3, Pr2.RESEND, e3.reqId);
    }
    if (e3.isFileMessage()) {
      var s4 = this._validateFailedFileMessageHasFile(e3, t7);
      Pr(s4).throw(g.invalidParameters);
      i3 = null !== (r3 = e3.messageParams) && void 0 !== r3 ? r3 : zt2(e3, t7);
      return this._sendFileMessage(i3, Pr2.RESEND, e3.reqId);
    }
    if (e3.isMultipleFilesMessage())
      throw g.channelTypeNotSupportedError;
  }, n3.prototype.updateFileMessage = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return n4 = n(n({}, Vt2), t7), Pr(w("number", e3) && function(e4) {
              return jt2(e4);
            }(n4)).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new Gn2(n({ channelType: this.channelType, channelUrl: this.url, messageId: e3, metaArrayParams: n4.metaArrays ? { array: n4.metaArrays, mode: "add", upsert: true } : void 0 }, n4)), [4, r3.send(i3)];
          case 1:
            return s4 = a3.sent(), [2, s4.as(Vn2).message];
        }
      });
    });
  }, n3.prototype.cancelUploadingFileMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return Pr(w("string", e3)).throw(g.invalidParameters), ys.of(this._iid).fileMessageQueue.cancel(this, e3), [2, true];
      });
    });
  }, n3.prototype.copyFileMessage = function(e3, t7) {
    var r3, i3, s4;
    return r(this, void 0, void 0, function() {
      var u3, c3;
      return o(this, function(l3) {
        return Pr(e3 instanceof n3 && t7 instanceof et2 && t7.sendingStatus === W.SUCCEEDED && this.url === t7.channelUrl && !t7.scheduledInfo).throw(g.invalidParameters), u3 = new We(), c3 = ne(n(n({}, t7), { fileUrl: t7.url, fileName: t7.name, fileSize: t7.size, mimeType: t7.type, mentionType: t7.mentionType, mentionedUserIds: null !== (r3 = t7.mentionedUserIds) && void 0 !== r3 ? r3 : null === (i3 = t7.mentionedUsers) || void 0 === i3 ? void 0 : i3.map(function(e4) {
          return e4.userId;
        }), pushNotificationDeliveryOption: B.DEFAULT, parentMessageId: null, isReplyToChannel: false, thumbnailSizes: null === (s4 = t7.thumbnails) || void 0 === s4 ? void 0 : s4.map(function(e4) {
          return { maxWidth: e4.width, maxHeight: e4.height };
        }), requireAuth: t7.requireAuth, isPinnedMessage: false })), e3._sendFileMessage(c3).onSucceeded(function(e4) {
          return u3.resolve(e4);
        }).onFailed(function(e4) {
          return u3.reject(e4);
        }), [2, u3.promise];
      });
    });
  }, n3.prototype.copyMessage = function(e3, t7) {
    Pr(e3 instanceof n3 && t7 instanceof Be2 && t7.sendingStatus === W.SUCCEEDED && this.url === t7.channelUrl && !t7.scheduledInfo).throw(g.invalidParameters);
    var r3 = t7, i3 = e3;
    if (r3.isUserMessage()) {
      Pr(!r3.poll).throw(g.notSupportedError);
      var s4 = Ct2(r3);
      return i3._sendUserMessage(s4);
    }
    if (r3.isFileMessage()) {
      s4 = Ft2(r3);
      return i3._sendFileMessage(s4);
    }
    if (t7.isMultipleFilesMessage())
      throw g.channelTypeNotSupportedError;
  }, n3.prototype.deleteMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return Pr(e3 instanceof ze2).throw(g.invalidParameters), e3.messageId > 0 ? (t7 = So.of(this._iid).requestQueue, n4 = new Hn2({ channelType: this.channelType, channelUrl: this.url, messageId: e3.messageId }), [4, t7.send(n4)]) : [3, 2];
          case 1:
            r3.sent(), r3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.addReaction = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(e3 instanceof ze2 && e3.messageId > 0 && w("string", t7)).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new Yn2({ channelType: this.channelType, channelUrl: this.url, messageId: e3.messageId, reactionKey: t7 }), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(Jn2).reactionEvent];
        }
      });
    });
  }, n3.prototype.deleteReaction = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(e3 instanceof ze2 && e3.messageId > 0 && w("string", t7)).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new Xn2({ channelType: this.channelType, channelUrl: this.url, messageId: e3.messageId, reactionKey: t7 }), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(Zn2).reactionEvent];
        }
      });
    });
  }, n3.prototype._updateUserMessageMetaArray = function(e3, t7, n4, r3) {
    return r(this, void 0, void 0, function() {
      var i3, s4, a3, o3, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return i3 = So.of(this._iid), s4 = i3.dispatcher, a3 = i3.requestQueue, o3 = new jn2({ channelType: this.channelType, channelUrl: this.url, messageId: e3, metaArrayParams: { array: t7, mode: n4, upsert: r3 } }), [4, a3.send(o3)];
          case 1:
            return u3 = l3.sent(), c3 = u3.as(Qn2).message, s4.dispatch(new Uo({ messages: [c3], source: Co.EVENT_MESSAGE_UPDATED })), [2, c3];
        }
      });
    });
  }, n3.prototype._updateFileMessageMetaArray = function(e3, t7, n4, r3) {
    return r(this, void 0, void 0, function() {
      var i3, s4, a3, o3, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return i3 = So.of(this._iid), s4 = i3.dispatcher, a3 = i3.requestQueue, o3 = new Gn2({ channelType: this.channelType, channelUrl: this.url, messageId: e3, metaArrayParams: { array: t7, mode: n4, upsert: r3 } }), [4, a3.send(o3)];
          case 1:
            return u3 = l3.sent(), c3 = u3.as(Vn2).message, s4.dispatch(new Uo({ messages: [c3], source: Co.EVENT_MESSAGE_UPDATED })), [2, c3];
        }
      });
    });
  }, n3.prototype.createMessageMetaArrayKeys = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        return Pr(e3 instanceof ze2 && e3.messageId > 0 && S("string", t7)).throw(g.invalidParameters), n4 = t7.map(function(e4) {
          return new xe2({ key: e4 });
        }), e3 instanceof et2 ? [2, this._updateFileMessageMetaArray(e3.messageId, n4, "add", true)] : [2, this._updateUserMessageMetaArray(e3.messageId, n4, "add", true)];
      });
    });
  }, n3.prototype.deleteMessageMetaArrayKeys = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4;
      return o(this, function(r3) {
        return Pr(e3 instanceof ze2 && e3.messageId > 0 && S("string", t7)).throw(g.invalidParameters), n4 = t7.map(function(e4) {
          return new xe2({ key: e4 });
        }), e3 instanceof et2 ? [2, this._updateFileMessageMetaArray(e3.messageId, n4, "remove", true)] : [2, this._updateUserMessageMetaArray(e3.messageId, n4, "remove", true)];
      });
    });
  }, n3.prototype.addMessageMetaArrayValues = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        return Pr(e3 instanceof ze2 && e3.messageId > 0 && t7.every(function(e4) {
          return e4 instanceof xe2;
        })).throw(g.invalidParameters), e3 instanceof et2 ? [2, this._updateFileMessageMetaArray(e3.messageId, t7, "add", true)] : [2, this._updateUserMessageMetaArray(e3.messageId, t7, "add", true)];
      });
    });
  }, n3.prototype.removeMessageMetaArrayValues = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        return Pr(e3 instanceof ze2 && e3.messageId > 0 && t7.every(function(e4) {
          return e4 instanceof xe2;
        })).throw(g.invalidParameters), e3 instanceof et2 ? [2, this._updateFileMessageMetaArray(e3.messageId, t7, "remove", true)] : [2, this._updateUserMessageMetaArray(e3.messageId, t7, "remove", true)];
      });
    });
  }, n3.prototype.report = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return Pr(N(qt2, e3) && w("string", t7)).throw(g.invalidParameters), n4 = So.of(this._iid), r3 = n4.sdkState, i3 = n4.requestQueue, s4 = new Fn2({ channelUrl: this.url, channelType: this.channelType, userId: r3.userId, category: e3, description: t7 }), [4, i3.send(s4)];
          case 1:
            return a3.sent(), [2];
        }
      });
    });
  }, n3.prototype.reportUser = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(e3 instanceof Fr && N(qt2, t7) && w("string", n4)).throw(g.invalidParameters), r3 = So.of(this._iid), i3 = r3.sdkState, s4 = r3.requestQueue, a3 = new qn2({ channelUrl: this.url, channelType: this.channelType, userId: i3.userId, offendingUserId: e3.userId, category: t7, description: n4 }), [4, s4.send(a3)];
          case 1:
            return o3.sent(), [2];
        }
      });
    });
  }, n3.prototype.reportMessage = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(e3 instanceof Be2 && N(qt2, t7) && w("string", n4)).throw(g.invalidParameters), r3 = So.of(this._iid), i3 = r3.sdkState, s4 = r3.requestQueue, a3 = new zn2({ channelUrl: this.url, channelType: this.channelType, userId: i3.userId, offendingUserId: e3.sender.userId, messageId: e3.messageId, category: t7, description: n4 }), [4, s4.send(a3)];
          case 1:
            return o3.sent(), [2];
        }
      });
    });
  }, n3.prototype.updatePoll = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("number", e3) && function(e4) {
              return w("string", e4.title, true) && Io(e4.data) && w("boolean", e4.allowUserSuggestion, true) && w("boolean", e4.allowMultipleVotes, true) && w("number", e4.closeAt, true);
            }(t7)).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new sr2(n({ pollId: e3 }, t7)), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(ar2).poll];
        }
      });
    });
  }, n3.prototype.deletePoll = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t7 = w("number", e3), Pr(t7).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new or2({ pollId: e3 }), [4, n4.send(r3)];
          case 1:
            return i3.sent(), [2];
        }
      });
    });
  }, n3.prototype.closePoll = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return t7 = w("number", e3), Pr(t7).throw(g.invalidParameters), n4 = So.of(this._iid).requestQueue, r3 = new ur2({ pollId: e3 }), [4, n4.send(r3)];
          case 1:
            return i3 = s4.sent(), [2, i3.as(cr2).poll];
        }
      });
    });
  }, n3.prototype.addPollOption = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return n4 = w("number", e3) && w("string", t7) && "" !== t7.trim(), Pr(n4).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new lr2({ channelUrl: this.url, channelType: this.channelType, pollId: e3, optionText: t7 }), [4, r3.send(i3)];
          case 1:
            return s4 = a3.sent(), [2, s4.as(dr2).poll];
        }
      });
    });
  }, n3.prototype.updatePollOption = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return r3 = w("number", e3) && w("number", t7) && w("string", n4) && "" !== n4.trim(), Pr(r3).throw(g.invalidParameters), i3 = So.of(this._iid).requestQueue, s4 = new hr2({ pollId: e3, pollOptionId: t7, optionText: n4 }), [4, i3.send(s4)];
          case 1:
            return a3 = o3.sent(), [2, a3.as(fr2).poll];
        }
      });
    });
  }, n3.prototype.deletePollOption = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return n4 = w("number", e3) && w("number", t7), Pr(n4).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, i3 = new pr2({ pollId: e3, pollOptionId: t7 }), [4, r3.send(i3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, n3.prototype.votePoll = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return n4 = w("number", e3) && S("number", t7), Pr(n4).throw(g.invalidParameters), r3 = So.of(this._iid), i3 = r3.requestQueue, s4 = r3.dispatcher, a3 = new mr2({ reqId: this._generateRequestId(), channelUrl: this.url, channelType: this.channelType, pollId: e3, pollOptionIds: t7 }), [4, i3.send(a3)];
          case 1:
            return o3 = c3.sent(), u3 = o3.as(vr2).event, s4.dispatch(new Vo({ event: u3, source: Co.EVENT_POLL_VOTED })), [2, u3];
        }
      });
    });
  }, n3.prototype.getPollChangeLogsSinceTimestamp = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return Pr(w("number", e3)).throw(g.invalidParameters), [4, os.of(this._iid).getPollChangeLogs(this.url, this.channelType, e3)];
          case 1:
            return [2, t7.sent()];
        }
      });
    });
  }, n3.prototype.getPollChangeLogsSinceToken = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return Pr(w("string", e3, true)), [4, os.of(this._iid).getPollChangeLogs(this.url, this.channelType, e3)];
          case 1:
            return [2, t7.sent()];
        }
      });
    });
  }, n3.prototype.createPollListQuery = function(e3) {
    return void 0 === e3 && (e3 = 10), new cs(this._iid, { channelUrl: this.url, channelType: this.channelType, limit: e3 });
  }, n3.prototype.createPollVoterListQuery = function(e3, t7, n4) {
    return void 0 === n4 && (n4 = 20), new hs(this._iid, { channelUrl: this.url, channelType: this.channelType, pollId: e3, pollOptionId: t7, limit: n4 });
  }, n3;
}(Ar);
var qr2 = function(t6) {
  function n3(e3) {
    void 0 === e3 && (e3 = {});
    var n4 = t6.call(this) || this;
    return Object.keys(e3).forEach(function(t7) {
      n4.hasOwnProperty(t7) && (n4[t7] = e3[t7]);
    }), n4;
  }
  return t(n3, t6), n3;
}(function() {
  this.onConnected = Ze, this.onReconnectStarted = Ze, this.onReconnectSucceeded = Ze, this.onReconnectFailed = Ze, this.onDisconnected = Ze;
});
var zr2 = function(t6) {
  function n3(e3) {
    void 0 === e3 && (e3 = {});
    var n4 = t6.call(this) || this;
    return Object.keys(e3).forEach(function(t7) {
      n4.hasOwnProperty(t7) && (n4[t7] = e3[t7]);
    }), n4;
  }
  return t(n3, t6), n3;
}(function() {
  this.onSessionExpired = Ze, this.onSessionTokenRequired = function(e3) {
    return e3(null);
  }, this.onSessionError = Ze, this.onSessionRefreshed = Ze, this.onSessionClosed = Ze;
});
var Br2 = function(t6) {
  function n3(e3) {
    void 0 === e3 && (e3 = {});
    var n4 = t6.call(this) || this;
    return Object.keys(e3).forEach(function(t7) {
      n4.hasOwnProperty(t7) && (n4[t7] = e3[t7]);
    }), n4;
  }
  return t(n3, t6), n3;
}(function() {
  this.onFriendsDiscovered = Ze, this.onTotalUnreadMessageCountChanged = Ze, this.onTotalUnreadMessageCountUpdated = Ze;
});
var Kr2 = function(n3) {
  function i3(e3) {
    var i4 = e3.limit, s4 = e3.token, a3 = e3.userIdsFilter, o3 = e3.metaDataKeyFilter, u3 = e3.metaDataValuesFilter, c3 = e3.nicknameStartsWithFilter, l3 = n3.call(this) || this;
    return l3.method = ie.GET, l3.path = oe, l3.params = te({ limit: i4, token: s4, user_ids: a3, metadatakey: o3, metadatavalues_in: u3, nickname_startswith: c3 }), l3;
  }
  return t(i3, n3), i3;
}(Ce);
var jr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.users = n4.users.map(function(t7) {
      return new Fr(e3, t7);
    }), r3.next = n4.next, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Qr2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3 = this;
    return (a3 = t6.call(this, e3, n4) || this).userIdsFilter = null, a3.metaDataKeyFilter = null, a3.metaDataValuesFilter = null, a3.nicknameStartsWithFilter = null, a3.userIdsFilter = null !== (r3 = n4.userIdsFilter) && void 0 !== r3 ? r3 : null, a3.metaDataKeyFilter = null !== (i3 = n4.metaDataKeyFilter) && void 0 !== i3 ? i3 : null, a3.metaDataValuesFilter = null !== (s4 = n4.metaDataValuesFilter) && void 0 !== s4 ? s4 : null, a3.nicknameStartsWithFilter = n4.nicknameStartsWithFilter || null, a3;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && S("string", this.userIdsFilter, true) && w("string", this.metaDataKeyFilter, true) && S("string", this.metaDataValuesFilter, true) && w("string", this.metaDataKeyFilter, true);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new Kr2(ne(n(n({}, this), { token: this._token }))), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n4 = u3.sent(), r3 = n4.as(jr2), i3 = r3.users, s4 = r3.next, this._token = s4, this._hasNext = !!s4, this._isLoading = false, [2, i3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Ho);
var Gr2 = function(n3) {
  function i3(e3) {
    var i4 = e3.userId, s4 = e3.limit, a3 = e3.token, o3 = e3.userIdsFilter, u3 = n3.call(this) || this;
    return u3.method = ie.GET, u3.path = "".concat(oe, "/").concat(i4, "/block"), u3.params = te({ limit: s4, token: a3, user_ids: o3 }), u3;
  }
  return t(i3, n3), i3;
}(Ce);
var Vr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.users = n4.users.map(function(t7) {
      return new Fr(e3, t7);
    }), r3.next = n4.next, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Hr2 = function(t6) {
  function n3(e3, n4) {
    var r3, i3 = this;
    return (i3 = t6.call(this, e3, n4) || this).userIdsFilter = null, i3.userIdsFilter = null !== (r3 = n4.userIdsFilter) && void 0 !== r3 ? r3 : null, i3;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && S("string", this.userIdsFilter, true);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid), t7 = e3.sdkState, n4 = e3.requestQueue, r3 = new Gr2(ne(n(n({}, this), { userId: t7.userId, token: this._token }))), [4, n4.send(r3)]) : [3, 2] : [3, 5];
          case 1:
            return i3 = l3.sent(), s4 = i3.as(Vr2), u3 = s4.users, c3 = s4.next, this._token = c3, this._hasNext = !!c3, this._isLoading = false, [2, u3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Ho);
var Wr2 = function(n3) {
  function r3(e3) {
    var r4 = e3.userId, i3 = e3.limit, s4 = e3.token, a3 = n3.call(this) || this;
    return a3.method = ie.GET, a3.path = "".concat(oe, "/").concat(encodeURIComponent(r4), "/friends"), a3.params = { limit: i3, token: s4 }, a3;
  }
  return t(r3, n3), r3;
}(Ce);
var Yr2 = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.hasMore = n4.has_more, r3.users = n4.users.map(function(t7) {
      return new Fr(e3, t7);
    }), r3.next = n4.next, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var Jr2 = function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4, a3, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid), t7 = e3.sdkState, n4 = e3.requestQueue, r3 = new Wr2(n(n({}, this), { userId: t7.userId, token: this._token })), [4, n4.send(r3)]) : [3, 2] : [3, 5];
          case 1:
            return i3 = l3.sent(), s4 = i3.as(Yr2), a3 = s4.users, u3 = s4.hasMore, c3 = s4.next, this._token = c3, this._hasNext = u3, this._isLoading = false, [2, a3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Ho);
var Xr2 = {};
var Zr2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.itemSizeLimit, r3 = void 0 === n3 ? 1048576 : n3, i3 = e4.cacheLimit, s4 = void 0 === i3 ? 256 : i3, a3 = e4.blockHashBase, o3 = void 0 === a3 ? 2 : a3, u3 = e4.blockHashMultiplier, c3 = void 0 === u3 ? 10 : u3, l3 = e4.blockHashConstant, d3 = void 0 === l3 ? 11 : l3, h3 = e4.transactionApplyDelay, f4 = void 0 === h3 ? 200 : h3, p5 = e4.disableLogger, m4 = void 0 !== p5 && p5;
    return Xr2[t6] || (this.itemSizeLimit = r3, this.cacheLimit = s4, this.blockHashBase = o3, this.blockHashMultiplier = c3, this.blockHashConstant = d3, this.transactionApplyDelay = f4, this.disableLogger = m4, Xr2[t6] = this), Xr2[t6];
  }
  return e3.get = function(e4) {
    return Xr2[e4];
  }, e3;
}();
!function(e3) {
  e3[e3.UNKNOWN_ERROR = 6e7] = "UNKNOWN_ERROR", e3[e3.STORE_NOT_DEFINED = 61001e3] = "STORE_NOT_DEFINED", e3[e3.STORE_NOT_AVAILABLE = 61001001] = "STORE_NOT_AVAILABLE", e3[e3.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING = 61001002] = "STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING", e3[e3.STORE_IS_FULL = 61001003] = "STORE_IS_FULL", e3[e3.STORE_NOT_INITIALIZED = 61001004] = "STORE_NOT_INITIALIZED", e3[e3.STORE_INVALID_KEY_TYPE = 61002e3] = "STORE_INVALID_KEY_TYPE", e3[e3.STORE_BROKEN_INTEGRITY = 61002001] = "STORE_BROKEN_INTEGRITY", e3[e3.STORE_BROKEN_BLOB = 61002002] = "STORE_BROKEN_BLOB", e3[e3.STORE_ENCRYPTION_INVALID = 61002003] = "STORE_ENCRYPTION_INVALID", e3[e3.STORE_ITEM_SIZE_LIMIT_EXCEEDED = 61017e3] = "STORE_ITEM_SIZE_LIMIT_EXCEEDED", e3[e3.STORE_READ_FAILED = 61017001] = "STORE_READ_FAILED", e3[e3.STORE_WRITE_FAILED = 61017002] = "STORE_WRITE_FAILED", e3[e3.DATABASE_SCHEMA_NOT_ON_UPGRADE = 62002e3] = "DATABASE_SCHEMA_NOT_ON_UPGRADE", e3[e3.COLLECTION_NOT_READY = 63001e3] = "COLLECTION_NOT_READY", e3[e3.COLLECTION_KEY_NOT_MATCH = 63002e3] = "COLLECTION_KEY_NOT_MATCH", e3[e3.COLLECTION_QUERY_NOT_VALID = 63002001] = "COLLECTION_QUERY_NOT_VALID", e3[e3.COLLECTION_KEY_NOT_FOUND = 63004e3] = "COLLECTION_KEY_NOT_FOUND", e3[e3.COLLECTION_KEY_NOT_GIVEN = 63004001] = "COLLECTION_KEY_NOT_GIVEN", e3[e3.COLLECTION_INSERT_DUPLICATE = 63009e3] = "COLLECTION_INSERT_DUPLICATE", e3[e3.COLLECTION_WRITE_FAILED = 63017e3] = "COLLECTION_WRITE_FAILED", e3[e3.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED = 63017001] = "COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED", e3[e3.INDEX_TABLE_IS_REQUIRED = 65001e3] = "INDEX_TABLE_IS_REQUIRED", e3[e3.INDEX_TYPE_NOT_MATCH = 65002e3] = "INDEX_TYPE_NOT_MATCH", e3[e3.COMPARE_TYPE_NOT_MATCH = 69002001] = "COMPARE_TYPE_NOT_MATCH", e3[e3.CIRCULAR_REFERENCE_FOUND = 69002002] = "CIRCULAR_REFERENCE_FOUND";
}(Lr2 || (Lr2 = {}));
var $r2;
var ei2 = function(t6) {
  function n3(e3) {
    var r3 = e3.code, i3 = void 0 === r3 ? Lr2.UNKNOWN_ERROR : r3, s4 = e3.message, a3 = void 0 === s4 ? "Unknown error occurred." : s4, o3 = t6.call(this, a3) || this;
    return o3.code = i3, Object.setPrototypeOf(o3, n3.prototype), o3;
  }
  return t(n3, t6), Object.defineProperty(n3, "storeNotDefined", { get: function() {
    return new n3({ code: Lr2.STORE_NOT_DEFINED, message: "Store is not defined. Specify the store on NestDB()" });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeNotAvailable", { get: function() {
    return new n3({ code: Lr2.STORE_NOT_AVAILABLE, message: "Store is not available. Check your environment settings." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeNotAvailableInPrivateBrowsing", { get: function() {
    return new n3({ code: Lr2.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING, message: "Store is not available because it is in private browsing." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeIsFull", { get: function() {
    return new n3({ code: Lr2.STORE_IS_FULL, message: "Store is full." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeNotInitialized", { get: function() {
    return new n3({ code: Lr2.STORE_NOT_INITIALIZED, message: "Store is not initialized." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeKeyTypeIsInvalid", { get: function() {
    return new n3({ code: Lr2.STORE_INVALID_KEY_TYPE, message: "Store key should be string type." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeBrokenIntegrity", { get: function() {
    return new n3({ code: Lr2.STORE_BROKEN_INTEGRITY, message: "Data should be in a store but it does not. Integrity is broken." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeBrokenBlob", { get: function() {
    return new n3({ code: Lr2.STORE_BROKEN_BLOB, message: "Data should be in a store but it does not. Blob data is broken." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeEncryptionInvalid", { get: function() {
    return new n3({ code: Lr2.STORE_ENCRYPTION_INVALID, message: "Encryption algorithm has changed. All the store should reset." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeItemSizeExceeded", { get: function() {
    return new n3({ code: Lr2.STORE_ITEM_SIZE_LIMIT_EXCEEDED, message: "The size of the item exceeds the limit that the store allows." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeReadFailed", { get: function() {
    return new n3({ code: Lr2.STORE_READ_FAILED, message: "Failed to read from store." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "storeWriteFailed", { get: function() {
    return new n3({ code: Lr2.STORE_WRITE_FAILED, message: "Failed to write to store." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "databaseSchemaNotOnUpgrade", { get: function() {
    return new n3({ code: Lr2.DATABASE_SCHEMA_NOT_ON_UPGRADE, message: "Committing schema is not allowed when upgrade is not running." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionNotReady", { get: function() {
    return new n3({ code: Lr2.COLLECTION_NOT_READY, message: "Collection is not ready due to an error during initialization." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionKeyNotMatch", { get: function() {
    return new n3({ code: Lr2.COLLECTION_KEY_NOT_MATCH, message: "keyName of collection could not change." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionQueryNotValid", { get: function() {
    return new n3({ code: Lr2.COLLECTION_QUERY_NOT_VALID, message: "Query parameter is not a valid format." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionInsertDuplicate", { get: function() {
    return new n3({ code: Lr2.COLLECTION_INSERT_DUPLICATE, message: "The key already exists." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionKeyNotFound", { get: function() {
    return new n3({ code: Lr2.COLLECTION_KEY_NOT_FOUND, message: "The key is not found." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionKeyNotGiven", { get: function() {
    return new n3({ code: Lr2.COLLECTION_KEY_NOT_GIVEN, message: "The item should contain [keyName] property." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionWriteFailed", { get: function() {
    return new n3({ code: Lr2.COLLECTION_WRITE_FAILED, message: "Failed to write an item." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "collectionItemSizeExceeded", { get: function() {
    return new n3({ code: Lr2.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED, message: "The size of the item exceeds the limit that a collection allows." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "indexTableIsRequired", { get: function() {
    return new n3({ code: Lr2.INDEX_TABLE_IS_REQUIRED, message: "Index table is required." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "indexTypesNotMatch", { get: function() {
    return new n3({ code: Lr2.INDEX_TYPE_NOT_MATCH, message: "Indexed column should have primitive type." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "compareTypesNotMatch", { get: function() {
    return new n3({ code: Lr2.COMPARE_TYPE_NOT_MATCH, message: "Values to compare have different types." });
  }, enumerable: false, configurable: true }), Object.defineProperty(n3, "circularReferenceFound", { get: function() {
    return new n3({ code: Lr2.CIRCULAR_REFERENCE_FOUND, message: "Cannot handle circular referenced object." });
  }, enumerable: false, configurable: true }), n3;
}(Error);
!function(e3) {
  e3.INIT = "init", e3.READY = "ready", e3.CLOSED = "closed";
}($r2 || ($r2 = {}));
var ti2;
var ni2 = function(e3, t6) {
  if (void 0 === t6 && (t6 = /* @__PURE__ */ new WeakMap()), "object" == typeof e3 && null !== e3) {
    if (t6.has(e3))
      throw ei2.circularReferenceFound;
    t6.set(e3, true);
    var n3 = void 0;
    if (Array.isArray(e3))
      n3 = e3.map(function(e4) {
        return ni2(e4, t6);
      });
    else if (e3 instanceof RegExp)
      n3 = e3;
    else if (e3 instanceof Date)
      n3 = e3;
    else
      for (var r3 in n3 = {}, e3)
        n3[r3] = ni2(e3[r3], t6);
    return t6.delete(e3), n3;
  }
  return e3;
};
var ri2 = function(e3, t6) {
  if (null == t6)
    return 1;
  if (null == e3)
    return -1;
  if (typeof e3 != typeof t6)
    throw ei2.compareTypesNotMatch;
  var n3 = 0;
  switch (typeof e3) {
    case "boolean":
    case "number":
      n3 = e3 - t6;
      break;
    case "string":
      n3 = e3.localeCompare(t6);
  }
  return n3;
};
var ii2 = function(e3, t6) {
  for (var n3 = 0, r3 = 0; r3 < e3.length; r3++)
    n3 = e3.charCodeAt(r3) + (n3 << 6) + (n3 << 16) - n3;
  return (n3 >>> 0) % t6;
};
var si2 = function(e3) {
  return new Promise(function(t6) {
    setTimeout(function() {
      return t6();
    }, e3);
  });
};
var ai2 = function(e3, t6) {
  if (!t6)
    return false;
  if ("function" != typeof e3) {
    for (var n3 in e3) {
      if (["/and", "&&"].includes(n3)) {
        if (e3[n3].some(function(e4) {
          return !ai2(e4, t6);
        }))
          return false;
      } else if (["/or", "||"].includes(n3)) {
        if (e3[n3].every(function(e4) {
          return !ai2(e4, t6);
        }))
          return false;
      } else if ("/where" === n3) {
        if (!(0, e3[n3])(t6))
          return false;
      } else {
        var r3 = n3;
        if ("object" == typeof e3[r3]) {
          var i3 = e3[r3];
          for (var s4 in i3)
            switch (s4) {
              case "/eq":
              case "=":
                if ((a3 = t6[r3]) !== (o3 = i3[s4]))
                  return false;
                break;
              case "/neq":
              case "!=":
                if ((a3 = t6[r3]) === (o3 = i3[s4]))
                  return false;
                break;
              case "/gt":
              case ">":
                var a3 = t6[r3], o3 = i3[s4];
                if (!(ri2(a3, o3) > 0))
                  return false;
                break;
              case "/gte":
              case ">=":
                a3 = t6[r3], o3 = i3[s4];
                if (!(ri2(a3, o3) >= 0))
                  return false;
                break;
              case "/lt":
              case "<":
                a3 = t6[r3], o3 = i3[s4];
                if (!(ri2(a3, o3) < 0))
                  return false;
                break;
              case "/lte":
              case "<=":
                a3 = t6[r3], o3 = i3[s4];
                if (!(ri2(a3, o3) <= 0))
                  return false;
                break;
              case "/in":
                a3 = t6[r3];
                if (!(o3 = i3[s4]).includes(a3))
                  return false;
                break;
              case "/nin":
                a3 = t6[r3];
                if ((o3 = i3[s4]).includes(a3))
                  return false;
                break;
              case "/contain":
                a3 = t6[r3], o3 = i3[s4];
                if (!a3.includes(o3))
                  return false;
                break;
              case "/regex":
                a3 = t6[r3];
                if (!(o3 = i3[s4]).test(a3))
                  return false;
                break;
              case "/where":
                a3 = t6[r3];
                if (!(0, i3[s4])(a3))
                  return false;
            }
        } else if ("function" == typeof e3[r3]) {
          if (!e3[r3](t6[r3]))
            return false;
        } else if (e3[r3] !== t6[r3])
          return false;
      }
    }
    return true;
  }
  return e3(t6);
};
var oi2 = function() {
};
var ui2 = function() {
  return Promise.resolve();
};
var ci2 = function(e3) {
  return e3;
};
var li2 = function(e3, t6) {
  t6();
};
!function(e3) {
  e3[e3.FORWARD = 0] = "FORWARD", e3[e3.BACKWARD = 1] = "BACKWARD";
}(ti2 || (ti2 = {}));
var di2;
var hi2;
var fi2;
var pi2 = function() {
  function e3(e4) {
    var t6 = e4.initialPrevValue, n3 = void 0 === t6 ? null : t6, r3 = e4.initialNextValue, i3 = void 0 === r3 ? null : r3, s4 = e4.iterator, a3 = e4.map, o3 = void 0 === a3 ? ci2 : a3, u3 = e4.backward, c3 = void 0 === u3 ? ui2 : u3, l3 = e4.forward, d3 = void 0 === l3 ? ui2 : l3, h3 = e4.complete, f4 = void 0 === h3 ? oi2 : h3;
    this._prevValue = n3, this._nextValue = i3, this._error = null, this._map = o3, this._backward = c3, this._forward = d3, this._iterator = s4, this._complete = f4;
  }
  return Object.defineProperty(e3.prototype, "prevValue", { get: function() {
    return this._map(this._prevValue);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "nextValue", { get: function() {
    return this._map(this._nextValue);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "error", { get: function() {
    return this._error;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "hasPrevious", { get: function() {
    return !!this._prevValue;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "hasNext", { get: function() {
    return !!this._nextValue;
  }, enumerable: false, configurable: true }), e3.prototype.prev = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            if (!this.hasPrevious)
              return [3, 6];
            r3.label = 1;
          case 1:
            return r3.trys.push([1, 3, , 4]), e4 = this._prevValue, t6 = this, [4, this._backward()];
          case 2:
            return t6._prevValue = r3.sent() || null, this._nextValue = e4, [3, 4];
          case 3:
            return n3 = r3.sent(), this._error = n3, [3, 4];
          case 4:
            return [4, this._iterator(this)];
          case 5:
            return [2, r3.sent()];
          case 6:
            this._complete(), r3.label = 7;
          case 7:
            return [2];
        }
      });
    });
  }, e3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            if (!this.hasNext)
              return [3, 6];
            r3.label = 1;
          case 1:
            return r3.trys.push([1, 3, , 4]), e4 = this._nextValue, t6 = this, [4, this._forward()];
          case 2:
            return t6._nextValue = r3.sent() || null, this._prevValue = e4, [3, 4];
          case 3:
            return n3 = r3.sent(), this._error = n3, [3, 4];
          case 4:
            return [4, this._iterator(this)];
          case 5:
            return [2, r3.sent()];
          case 6:
            this._complete(), r3.label = 7;
          case 7:
            return [2];
        }
      });
    });
  }, e3.prototype.stop = function() {
    this._prevValue = null, this._nextValue = null, this._complete();
  }, e3;
}();
var mi2 = function() {
  function e3(e4) {
    var t6 = e4.condition, n3 = void 0 === t6 ? {} : t6, r3 = e4.backward, i3 = void 0 !== r3 && r3, s4 = e4.blockManager, a3 = e4.indexer;
    this.condition = n3, this.backward = i3, this._blockManager = s4, this._indexer = a3;
  }
  return e3.prototype.findOptimizedStartPosition = function() {
    var e4 = this, t6 = ["=", "/eq", ">", ">=", "/gt", "/gte"], n3 = ["=", "/eq", "<", "<=", "/lt", "/lte"];
    if (this.backward) {
      var r3 = this._indexer.origin.length - 1;
      if ("function" != typeof this.condition)
        for (var i3 in this._indexer.fields) {
          var s4 = this._indexer.fields[i3], a3 = 1;
          if ("-" === s4[0] && (s4 = s4.slice(1), a3 = -1), this.condition[s4]) {
            if ("object" == typeof this.condition[s4]) {
              var o3 = a3 > 0 ? n3 : t6;
              for (var u3 in this.condition[s4])
                if (o3.includes(u3)) {
                  for (var c3 = r3; c3 >= 0; c3--)
                    if (a3 * ri2(this._indexer.origin[c3].columnValues[i3], this.condition[s4][u3]) <= 0) {
                      r3 = c3;
                      break;
                    }
                }
            } else
              for (c3 = r3; c3 >= 0; c3--)
                if (a3 * ri2(this._indexer.origin[c3].columnValues[i3], this.condition[s4]) <= 0) {
                  r3 = c3;
                  break;
                }
          }
        }
      return Math.min(r3 + 1, this._indexer.origin.length - 1);
    }
    var l3 = 0;
    if ("function" != typeof this.condition)
      for (var d3 = function(r4) {
        var i4 = h3._indexer.fields[r4], s5 = 1;
        if ("-" === i4[0] && (i4 = i4.slice(1), s5 = -1), h3.condition[i4]) {
          if ("object" == typeof h3.condition[i4])
            Object.keys(h3.condition[i4]).forEach(function(a5) {
              if ((s5 > 0 ? t6 : n3).includes(a5)) {
                for (var o4 = l3; o4 < e4._indexer.origin.length; o4++)
                  if (s5 * ri2(e4._indexer.origin[o4].columnValues[r4], e4.condition[i4][a5]) >= 0) {
                    l3 = o4;
                    break;
                  }
              }
            });
          else
            for (var a4 = l3; a4 < h3._indexer.origin.length; a4++)
              if (s5 * ri2(h3._indexer.origin[a4].columnValues[r4], h3.condition[i4]) >= 0) {
                l3 = a4;
                break;
              }
        }
      }, h3 = this, i3 = 0; i3 < this._indexer.fields.length; i3++)
        d3(i3);
    return Math.max(l3 - 1, 0);
  }, e3.prototype.each = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3 = this;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            if (t6 = this.findOptimizedStartPosition(), n3 = 0, this.backward && this._indexer.origin[t6] && (n3 = this._indexer.origin[t6].keys.length - 1), r3 = function() {
              if (u3._indexer.origin[t6]) {
                if (!u3._indexer.origin[t6].keys[++n3]) {
                  if (!u3._indexer.origin[++t6])
                    return false;
                  n3 = 0;
                }
                return true;
              }
              return false;
            }, i3 = function() {
              if (u3._indexer.origin[t6]) {
                if (!u3._indexer.origin[t6].keys[--n3]) {
                  if (!u3._indexer.origin[--t6])
                    return false;
                  n3 = u3._indexer.origin[t6].keys.length - 1;
                }
                return true;
              }
              return false;
            }, s4 = null, !this._indexer.origin[t6])
              return [3, 4];
            a3 = this.backward ? i3 : r3, c3.label = 1;
          case 1:
            return [4, this._blockManager.getFromBlock(this._indexer.origin[t6].keys[n3])];
          case 2:
            if ((o3 = c3.sent()) && ai2(this.condition, o3))
              return s4 = o3, [3, 4];
            c3.label = 3;
          case 3:
            if (a3())
              return [3, 1];
            c3.label = 4;
          case 4:
            return [4, new Promise(function(a4) {
              var o4 = new pi2({ initialNextValue: ni2(s4), iterator: e4, forward: function() {
                return r(u3, void 0, void 0, function() {
                  var e5, s5;
                  return o(this, function(a5) {
                    switch (a5.label) {
                      case 0:
                        e5 = this.backward ? i3 : r3, a5.label = 1;
                      case 1:
                        return e5() ? [4, this._blockManager.getFromBlock(this._indexer.origin[t6].keys[n3])] : [3, 3];
                      case 2:
                        return (s5 = a5.sent()) && ai2(this.condition, s5) ? [2, ni2(s5)] : [3, 1];
                      case 3:
                        return [2, null];
                    }
                  });
                });
              }, backward: function() {
                return r(u3, void 0, void 0, function() {
                  var e5, s5;
                  return o(this, function(a5) {
                    switch (a5.label) {
                      case 0:
                        e5 = this.backward ? r3 : i3, a5.label = 1;
                      case 1:
                        return e5() ? [4, this._blockManager.getFromBlock(this._indexer.origin[t6].keys[n3])] : [3, 3];
                      case 2:
                        return (s5 = a5.sent()) && ai2(this.condition, s5) ? [2, ni2(s5)] : [3, 1];
                      case 3:
                        return [2, null];
                    }
                  });
                });
              }, complete: a4 });
              e4(o4);
            })];
          case 5:
            return [2, c3.sent()];
        }
      });
    });
  }, e3;
}();
var vi2 = function() {
  function e3(e4) {
    var t6 = e4.condition, n3 = void 0 === t6 ? {} : t6, r3 = e4.backward, i3 = void 0 !== r3 && r3, s4 = e4.mutex, a3 = e4.blockManager, o3 = e4.indexer;
    this._mutex = s4, this._iterator = new mi2({ condition: n3, backward: i3, blockManager: a3, indexer: o3 });
  }
  return e3.prototype.fetch = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4 = this;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            if (t6 = Math.max(e4.offset || 0, 0), 0 === (n3 = "number" == typeof e4.limit ? e4.limit : Number.MAX_SAFE_INTEGER))
              return [2, []];
            if (n3 < 0)
              throw ei2.collectionQueryNotValid;
            a3.label = 1;
          case 1:
            return a3.trys.push([1, 4, , 5]), r3 = [], [4, this._mutex.lock()];
          case 2:
            return a3.sent(), [4, this._iterator.each(function(e5) {
              return r(s4, void 0, void 0, function() {
                return o(this, function(i4) {
                  return e5.error ? e5.stop() : e5.hasNext ? 0 === t6 ? (r3.push(e5.nextValue), 0 < n3 && n3 <= r3.length ? e5.stop() : e5.next()) : (t6--, e5.next()) : e5.stop(), [2];
                });
              });
            })];
          case 3:
            return a3.sent(), this._mutex.unlock(), [2, r3];
          case 4:
            throw i3 = a3.sent(), this._mutex.unlock(), i3;
          case 5:
            return [2];
        }
      });
    });
  }, e3.prototype.count = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return r3.trys.push([0, 3, , 4]), e4 = 0, [4, this._mutex.lock()];
          case 1:
            return r3.sent(), [4, this._iterator.each(function(t7) {
              return r(n3, void 0, void 0, function() {
                return o(this, function(n4) {
                  return t7.error ? t7.stop() : t7.hasNext ? (e4++, t7.next()) : t7.stop(), [2];
                });
              });
            })];
          case 2:
            return r3.sent(), this._mutex.unlock(), [2, e4];
          case 3:
            throw t6 = r3.sent(), this._mutex.unlock(), t6;
          case 4:
            return [2];
        }
      });
    });
  }, e3;
}();
var yi2 = function(e3) {
  return "".concat("nest", "@").concat(e3);
};
var _i2 = function(e3, t6) {
  return "".concat(yi2(e3), "/").concat(t6);
};
var gi2 = function(e3, t6) {
  return "".concat(_i2(e3, t6), ".metadata");
};
var bi2 = function(e3, t6) {
  return "".concat(_i2(e3, t6), "/block.");
};
var Ii2 = function(e3, t6) {
  return "".concat(_i2(e3, t6), "/blob.");
};
var Ei2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.collectionName, r3 = e4.store;
    this.dbname = t6, this.collectionName = n3, this.store = r3;
  }
  return e3.prototype.get = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return [4, this.store.get(e4)];
          case 1:
            return (t6 = l3.sent()) ? (n3 = t6.data, r3 = t6.type, "undefined" == typeof fetch ? [3, 4] : [4, fetch(n3)]) : [3, 5];
          case 2:
            return [4, l3.sent().blob()];
          case 3:
            return [2, l3.sent()];
          case 4:
            for (512, i3 = [], s4 = atob(n3.split(",")[1]), a3 = 0; a3 < s4.length; a3 += 512) {
              for (o3 = s4.slice(a3, a3 + 512), u3 = new Array(o3.length), c3 = 0; c3 < o3.length; c3++)
                u3[c3] = o3.charCodeAt(c3);
              i3.push(new Uint8Array(u3));
            }
            return [2, new Blob(i3, { type: r3 })];
          case 5:
            return [2, null];
        }
      });
    });
  }, e3.prototype.save = function(e4, t6) {
    return void 0 === t6 && (t6 = "".concat(Date.now())), r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3 = this;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return [4, new Promise(function(n4) {
              var r4 = function(e5, t7, n5, r5) {
                return void 0 === r5 && (r5 = 0), "".concat(Ii2(e5, t7)).concat(n5, ".").concat(r5);
              }(a3.dbname, a3.collectionName, t6), i4 = new FileReader();
              i4.onload = function() {
                n4({ blobId: r4, data: i4.result, type: e4.type });
              }, i4.readAsDataURL(e4);
            })];
          case 1:
            return n3 = o3.sent(), r3 = n3.blobId, i3 = n3.data, s4 = n3.type, [4, this.store.set({ key: r3, value: { data: i3, type: s4 } })];
          case 2:
            return o3.sent(), [2, r3];
        }
      });
    });
  }, e3.prototype.remove = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this.store.remove(e4)];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e4 = Ii2(this.dbname, this.collectionName), [4, this.store.getAllKeys()];
          case 1:
            return t6 = r3.sent(), [4, Promise.all(t6.filter(function(t7) {
              return t7.startsWith(e4);
            }).map(function(e5) {
              return r(n3, void 0, void 0, function() {
                return o(this, function(t7) {
                  switch (t7.label) {
                    case 0:
                      return [4, this.store.remove(e5)];
                    case 1:
                      return [2, t7.sent()];
                  }
                });
              });
            }))];
          case 2:
            return r3.sent(), [2];
        }
      });
    });
  }, e3;
}();
!function(e3) {
  e3[e3.COMMIT = 0] = "COMMIT", e3[e3.WRITE = 1] = "WRITE", e3[e3.ERROR = 2] = "ERROR";
}(di2 || (di2 = {})), function(e3) {
  e3.PENDING = "pending", e3.PERSISTENT = "persistent", e3.VOLATILE = "volatile";
}(hi2 || (hi2 = {})), function(e3) {
  e3[e3.NO_CACHE = 0] = "NO_CACHE", e3[e3.DEFAULT = 1] = "DEFAULT", e3[e3.PERSISTENT = 2] = "PERSISTENT";
}(fi2 || (fi2 = {}));
var wi2;
var Ti2;
var Si2 = [hi2.PENDING, hi2.VOLATILE];
var Mi2 = {};
var Ai2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.limit, r3 = void 0 === n3 ? 256 : n3;
    return Mi2[t6] || (this.dbname = t6, this._items = [], this._limit = r3, Mi2[t6] = this), Mi2[t6];
  }
  return e3.get = function(e4) {
    return Mi2[e4];
  }, Object.defineProperty(e3.prototype, "items", { get: function() {
    return this._items;
  }, enumerable: false, configurable: true }), e3.prototype.find = function(e4, t6, n3) {
    return void 0 === n3 && (n3 = fi2.DEFAULT), r(this, void 0, void 0, function() {
      var r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return (r3 = this.get(t6)) ? [3, 2] : [4, e4.get(t6)];
          case 1:
            return (i3 = s4.sent()) && (r3 = { key: t6, value: i3, state: n3 === fi2.PERSISTENT ? hi2.PERSISTENT : hi2.VOLATILE }, this.put(r3)), [3, 3];
          case 2:
            n3 === fi2.PERSISTENT && (r3.state = hi2.PERSISTENT), s4.label = 3;
          case 3:
            return [2, r3];
        }
      });
    });
  }, e3.prototype.get = function(e4, t6) {
    void 0 === t6 && (t6 = fi2.DEFAULT);
    var n3 = this._items.map(function(e5) {
      return e5.key;
    }).indexOf(e4);
    if (n3 > -1) {
      var r3 = this._items[n3];
      return t6 === fi2.PERSISTENT && (r3.state = hi2.PERSISTENT), t6 !== fi2.NO_CACHE && this.put(r3), r3;
    }
    return null;
  }, e3.prototype.put = function(e4) {
    var t6, n3;
    if (this._limit > 0) {
      var r3 = this._items.map(function(e5) {
        return e5.key;
      }).indexOf(e4.key);
      if (r3 > -1)
        Si2.includes(this._items[r3].state) && Si2.includes(e4.state) ? (this._items.splice(r3, 1), this._items.push(e4)) : (this._items[r3].state = e4.state, this._items[r3].value = e4.value);
      else {
        this._items.push(e4);
        var i3 = this._items.filter(function(e5) {
          return e5.state === hi2.VOLATILE;
        }), s4 = i3.length - this._limit;
        if (s4 > 0) {
          var a3 = [];
          try {
            for (var o3 = s(this._items), u3 = o3.next(); !u3.done; u3 = o3.next()) {
              var c3 = u3.value;
              c3.state === hi2.VOLATILE && s4 > 0 ? s4-- : a3.push(c3);
            }
          } catch (e5) {
            t6 = { error: e5 };
          } finally {
            try {
              u3 && !u3.done && (n3 = o3.return) && n3.call(o3);
            } finally {
              if (t6)
                throw t6.error;
            }
          }
          this._items = a3;
        }
      }
    }
  }, e3.prototype.remove = function(e4) {
    var t6 = this._items.map(function(e5) {
      return e5.key;
    }).indexOf(e4);
    t6 > -1 && this._items.splice(t6, 1);
  }, e3.prototype.clearByCondition = function(e4) {
    this._items = this._items.filter(function(t6) {
      return !e4(t6);
    });
  }, e3.prototype.clear = function(e4) {
    void 0 === e4 && (e4 = false), this._items = e4 ? [] : this._items.filter(function(e5) {
      return e5.state !== hi2.VOLATILE;
    });
  }, e3;
}();
var Ni2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.collectionName, r3 = e4.store;
    this._requests = [], this._onCommit = /* @__PURE__ */ new Map(), this._onWrite = /* @__PURE__ */ new Map(), this._onError = /* @__PURE__ */ new Map(), this.dbname = t6, this.collectionName = n3, this.metadataKey = function(e5, t7) {
      return "".concat(_i2(e5, t7), "/trans.metadata");
    }(t6, n3), this.recordsetKey = function(e5, t7) {
      return "".concat(_i2(e5, t7), "/trans.recordset");
    }(t6, n3), this._store = r3;
  }
  return Object.defineProperty(e3.prototype, "generation", { get: function() {
    return this._metadata ? this._metadata.generation : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "requestCount", { get: function() {
    return this._requests.length;
  }, enumerable: false, configurable: true }), e3.prototype._getReducedRecordset = function(e4) {
    return void 0 === e4 && (e4 = []), r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._store.get(this.recordsetKey)];
          case 1:
            return (t6 = n3.sent() || []).push.apply(t6, c([], a(e4), false)), [2, this._reduceRecordSet(t6)];
        }
      });
    });
  }, e3.prototype._reduceRecordSet = function(e4) {
    for (var t6 = [], n3 = {}, r3 = e4.length - 1; r3 >= 0; r3--) {
      for (var i3 = e4[r3], s4 = [], a3 = i3.requests.length - 1; a3 >= 0; a3--) {
        var o3 = i3.requests[a3], u3 = o3.data;
        n3[u3.key] || (s4.unshift(o3), n3[u3.key] = true);
      }
      s4.length > 0 && (i3.requests = s4, t6.unshift(i3));
    }
    return t6;
  }, e3.prototype._applyRecord = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3, u3, c3, l3, d3;
      return o(this, function(h3) {
        switch (h3.label) {
          case 0:
            n3 = Ai2.get(this.dbname), r3 = t6.generation, i3 = t6.requests, s4 = null, h3.label = 1;
          case 1:
            return h3.trys.push([1, 3, , 4]), [4, this._store.setMany(i3.map(function(e5) {
              return n(n({}, e5.data), { generation: r3 });
            }))];
          case 2:
            for (a3 = h3.sent(), u3 = 0; u3 < i3.length; u3++)
              a3[u3] instanceof Error && (s4 || (s4 = a3[u3]), c3 = i3[u3].data, n3.put(n(n({}, c3), { state: hi2.PERSISTENT })));
            return [3, 4];
          case 3:
            return l3 = h3.sent(), s4 = l3, [3, 4];
          case 4:
            return s4 ? [3, 6] : (d3 = e4.filter(function(e5) {
              return e5.generation !== r3;
            }), [4, this._store.set({ key: this.recordsetKey, value: d3 })]);
          case 5:
            return h3.sent(), this._onWrite.forEach(function(e5) {
              e5(i3.map(function(e6) {
                return e6.data;
              }));
            }), [3, 7];
          case 6:
            this._onError.forEach(function(e5) {
              s4 && e5(s4);
            }), h3.label = 7;
          case 7:
            return [2];
        }
      });
    });
  }, e3.prototype.init = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3, s4, a3, o3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return e4 = this, [4, this._store.get(this.metadataKey)];
          case 1:
            return e4._metadata = u3.sent() || { generation: 1 }, [4, this._getReducedRecordset()];
          case 2:
            t6 = u3.sent(), u3.label = 3;
          case 3:
            u3.trys.push([3, 8, 9, 10]), n3 = s(t6), r3 = n3.next(), u3.label = 4;
          case 4:
            return r3.done ? [3, 7] : (i3 = r3.value, [4, this._applyRecord(t6, i3)]);
          case 5:
            u3.sent(), u3.label = 6;
          case 6:
            return r3 = n3.next(), [3, 4];
          case 7:
            return [3, 10];
          case 8:
            return s4 = u3.sent(), a3 = { error: s4 }, [3, 10];
          case 9:
            try {
              r3 && !r3.done && (o3 = n3.return) && o3.call(n3);
            } finally {
              if (a3)
                throw a3.error;
            }
            return [7];
          case 10:
            return [2];
        }
      });
    });
  }, e3.prototype.on = function(e4, t6, n3) {
    switch (e4) {
      case di2.COMMIT:
        this._onCommit.set(t6, n3);
        break;
      case di2.WRITE:
        this._onWrite.set(t6, n3);
        break;
      case di2.ERROR:
        this._onError.set(t6, n3);
    }
  }, e3.prototype.requestWrite = function(e4, t6) {
    this._requests.push({ data: e4, options: t6 }), Ai2.get(this.dbname).put(n({ state: hi2.PENDING }, e4));
  }, e3.prototype.requestMultipleWrite = function(e4, t6) {
    var n3, r3, i3 = Ai2.get(this.dbname);
    try {
      for (var s4 = s(e4), a3 = s4.next(); !a3.done; a3 = s4.next()) {
        var u3 = a3.value;
        this._requests.push({ data: u3, options: t6 }), i3.put(n({ state: hi2.PENDING }, u3));
      }
    } catch (e5) {
      n3 = { error: e5 };
    } finally {
      try {
        a3 && !a3.done && (r3 = s4.return) && r3.call(s4);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        return Ai2.get(this.dbname).clearByCondition(function(e5) {
          return e5.state === hi2.PENDING;
        }), this._requests = [], [2];
      });
    });
  }, e3.prototype.commit = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3, s4, a3, u3, c3, l3, d3, h3, f4 = this;
      return o(this, function(p5) {
        switch (p5.label) {
          case 0:
            if (!((e4 = this._requests).length > 0))
              return [3, 4];
            for (t6 = [], n3 = {}, u3 = e4.length - 1; u3 >= 0; u3--)
              r3 = e4[u3], l3 = r3.data, n3[l3.key] || (n3[l3.key] = true, t6.unshift(r3));
            return i3 = { generation: this.generation, requests: t6 }, [4, this._getReducedRecordset([i3])];
          case 1:
            return s4 = p5.sent(), [4, this._store.set({ key: this.recordsetKey, value: s4 })];
          case 2:
            return p5.sent(), this._metadata.generation++, [4, this._store.set({ key: this.metadataKey, value: this._metadata })];
          case 3:
            for (p5.sent(), a3 = Ai2.get(this.dbname), u3 = 0; u3 < t6.length; u3++)
              c3 = t6[u3], l3 = c3.data, d3 = c3.options, a3.put(n(n({}, l3), { state: d3 && d3.persistent ? hi2.PERSISTENT : hi2.VOLATILE }));
            this._requests = [], this._onCommit.forEach(function(t7) {
              t7(e4.map(function(e5) {
                return e5.data;
              }));
            }), h3 = Zr2.get(this.dbname), setTimeout(function() {
              try {
                f4._applyRecord(s4, i3);
              } catch (e5) {
                f4._onError.forEach(function(t7) {
                  return t7(e5);
                });
              }
            }, h3.transactionApplyDelay), p5.label = 4;
          case 4:
            return [2];
        }
      });
    });
  }, e3;
}();
var Ui2 = function() {
  function e3(e4) {
    var t6 = e4.blockId, n3 = e4.keyName, r3 = e4.items, i3 = void 0 === r3 ? [] : r3, s4 = e4.limit;
    this.blockId = t6, this.keyName = n3, this.limit = s4, this._items = c([], a(i3), false);
  }
  return e3.createFromCacheItem = function(t6) {
    return t6 ? new e3(t6.value) : null;
  }, Object.defineProperty(e3.prototype, "isEmpty", { get: function() {
    return 0 === this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "items", { get: function() {
    return this._items;
  }, enumerable: false, configurable: true }), e3.prototype.serialize = function() {
    return { blockId: this.blockId, keyName: this.keyName, limit: this.limit, items: this._items };
  }, e3.prototype.getItemByKey = function(e4) {
    var t6 = this, n3 = this._items.find(function(n4) {
      var r3 = n4[t6.keyName];
      return e4 === r3;
    });
    return null != n3 ? n3 : null;
  }, e3.prototype.has = function(e4) {
    var t6 = this;
    return this._items.map(function(e5) {
      return e5[t6.keyName];
    }).includes(e4);
  }, e3.prototype.add = function(e4) {
    var t6 = this, n3 = this._items.map(function(e5) {
      return e5[t6.keyName];
    }).indexOf(e4[this.keyName]);
    return n3 < 0 ? this._items.length < this.limit && (this._items.push(e4), true) : (this._items[n3] = e4, true);
  }, e3.prototype.remove = function(e4) {
    for (var t6 in this._items)
      if (this._items[t6][this.keyName] === e4)
        return this._items.splice(parseInt(t6), 1), true;
    return false;
  }, e3.prototype.clear = function() {
    this._items = [];
  }, e3;
}();
var Ci2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.collectionName, r3 = e4.metadata, i3 = e4.hashFunction, s4 = void 0 === i3 ? ii2 : i3, a3 = e4.transaction, o3 = e4.store;
    this.dbname = t6, this.collectionName = n3, this.hashFunction = s4, this.metadata = r3, this._transaction = a3, this._store = o3;
  }
  return Object.defineProperty(e3.prototype, "keyName", { get: function() {
    return this.metadata.keyName;
  }, enumerable: false, configurable: true }), e3.prototype.createBlockId = function(e4, t6) {
    return void 0 === t6 && (t6 = this.metadata.blockLevel), n3 = this.dbname, r3 = this.collectionName, i3 = t6, s4 = "".concat(function(e5, t7, n4) {
      var r4 = n4.base * Math.pow(n4.multiplier, t7) + n4.constant;
      return (n4.hashFunction || ii2)(e5, r4);
    }(e4, t6, { hashFunction: this.hashFunction, base: this.metadata.blockHashBase, multiplier: this.metadata.blockHashMultiplier, constant: this.metadata.blockHashConstant })), "".concat(bi2(n3, r3)).concat(i3, ".").concat(s4);
    var n3, r3, i3, s4;
  }, e3.prototype._findBlock = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            t6 = Ai2.get(this.dbname), n3 = this.metadata.blockLevel, a3.label = 1;
          case 1:
            return n3 > 0 ? (r3 = this.createBlockId(e4, n3), [4, t6.find(this._store, r3)]) : [3, 4];
          case 2:
            if ((i3 = a3.sent()) && (s4 = Ui2.createFromCacheItem(i3), null == s4 ? void 0 : s4.getItemByKey(e4)))
              return [2, s4];
            a3.label = 3;
          case 3:
            return n3--, [3, 1];
          case 4:
            return [2, null];
        }
      });
    });
  }, e3.prototype.getFromBlock = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._findBlock(e4)];
          case 1:
            return [2, (t6 = n3.sent()) ? t6.getItemByKey(e4) : null];
        }
      });
    });
  }, e3.prototype.putToBlock = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return n3 = Zr2.get(this.dbname), r3 = this.createBlockId(e4), i3 = Math.floor(this._store.itemSizeLimit / n3.itemSizeLimit), [4, Ai2.get(this.dbname).find(this._store, r3)];
          case 1:
            return s4 = o3.sent(), (null == (a3 = s4 ? Ui2.createFromCacheItem(s4) : new Ui2({ blockId: r3, keyName: this.keyName, items: [], limit: i3 })) ? void 0 : a3.add(t6)) ? (this._transaction.requestWrite({ key: a3.blockId, value: a3.serialize() }), [2, true]) : [2, false];
        }
      });
    });
  }, e3.prototype.removeFromBlock = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._findBlock(e4)];
          case 1:
            return (t6 = n3.sent()) && t6.remove(e4) ? (this._transaction.requestWrite({ key: t6.blockId, value: t6.serialize() }), [2, true]) : [2, false];
        }
      });
    });
  }, e3.prototype.clearAllBlocks = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e4 = bi2(this.dbname, this.collectionName), [4, this._store.getAllKeys()];
          case 1:
            return t6 = r3.sent(), n3 = t6.filter(function(t7) {
              return t7.startsWith(e4);
            }), [4, this._store.removeMany(n3)];
          case 2:
            return r3.sent(), [4, this._transaction.clear()];
          case 3:
            return r3.sent(), Ai2.get(this.dbname).clearByCondition(function(t7) {
              return t7.key.startsWith(e4);
            }), [2];
        }
      });
    });
  }, e3;
}();
var Oi2 = {};
var Pi2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.collectionName, r3 = e4.keyName, i3 = e4.fields, s4 = e4.transaction, a3 = e4.store, o3 = this;
    this._origin = [], this._table = [];
    var u3 = function(e5, t7, n4) {
      return "".concat(_i2(e5, t7), "/index.").concat(n4);
    }(t6, n3, i3.join(">"));
    return Oi2[u3] || (this.dbname = t6, this.collectionName = n3, this.keyName = r3, this.fields = i3, this.indexerKey = u3, this._transaction = s4, this._store = a3, this._transaction.on(di2.COMMIT, this.indexerKey, function() {
      return o3.commit();
    }), this._transaction.on(di2.ERROR, this.indexerKey, function() {
      return o3.abort();
    })), Oi2[u3];
  }
  return e3.createKey = function(e4) {
    return e4.join(">");
  }, e3.parseKey = function(e4) {
    return e4.split(">");
  }, e3.clearIndexerMap = function() {
    for (var e4 in Oi2)
      delete Oi2[e4];
  }, e3.prototype._addItem = function(e4) {
    var t6 = e4[this.keyName], n3 = this.getColumnValues(e4), r3 = a(this.indexOf(n3), 2), i3 = r3[0];
    return r3[1] ? !this._table[i3].keys.includes(t6) && (this._table[i3].keys.push(t6), true) : (this._table.splice(i3, 0, { columnValues: n3, keys: [t6] }), true);
  }, e3.prototype._removeItem = function(e4) {
    var t6 = e4[this.keyName], n3 = this.getColumnValues(e4), r3 = a(this.indexOf(n3), 2), i3 = r3[0];
    if (r3[1]) {
      var s4 = this._table[i3].keys.indexOf(t6);
      if (s4 > -1)
        return this._table[i3].keys.splice(s4, 1), 0 === this._table[i3].keys.length && this._table.splice(i3, 1), true;
    }
    return false;
  }, Object.defineProperty(e3.prototype, "origin", { get: function() {
    return this._origin;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "table", { get: function() {
    return this._table;
  }, enumerable: false, configurable: true }), e3.prototype.getColumnValues = function(e4) {
    var t6, n3, r3, i3, s4 = [];
    try {
      for (var a3 = s(this.fields), o3 = a3.next(); !o3.done; o3 = a3.next()) {
        var u3 = o3.value;
        if ("-" === u3[0] && (u3 = u3.slice(1)), r3 = e4[u3], i3 = void 0, i3 = typeof r3, null !== r3 && "undefined" !== i3 && "boolean" !== i3 && "number" !== i3 && "string" !== i3)
          throw ei2.indexTypesNotMatch;
        s4.push(e4[u3]);
      }
    } catch (e5) {
      t6 = { error: e5 };
    } finally {
      try {
        o3 && !o3.done && (n3 = a3.return) && n3.call(a3);
      } finally {
        if (t6)
          throw t6.error;
      }
    }
    return s4;
  }, e3.prototype.diff = function(e4, t6) {
    for (var n3 in this.fields) {
      var r3 = "-" === this.fields[n3][0] ? -1 : 1, i3 = ri2(e4[n3], t6[n3]);
      if (0 !== i3)
        return r3 * i3;
    }
    return 0;
  }, e3.prototype.indexOf = function(e4) {
    if (this._table.length > 0) {
      for (var t6 = 0, n3 = this._table.length - 1; t6 <= n3; ) {
        var r3 = Math.floor((t6 + n3) / 2), i3 = this.diff(e4, this._table[r3].columnValues);
        if (i3 > 0)
          t6 = r3 + 1;
        else {
          if (!(i3 < 0))
            return [r3, true];
          n3 = r3 - 1;
        }
      }
      return [t6, false];
    }
    return [0, false];
  }, e3.prototype.ensure = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4, p5, v5, y3;
      return o(this, function(_2) {
        switch (_2.label) {
          case 0:
            return [4, (e4 = Ai2.get(this.dbname)).find(this._store, this.indexerKey, fi2.PERSISTENT)];
          case 1:
            return (t6 = _2.sent()) ? [3, 11] : (n3 = bi2(this.dbname, this.collectionName), [4, this._store.getAllKeys()]);
          case 2:
            r3 = _2.sent(), _2.label = 3;
          case 3:
            _2.trys.push([3, 8, 9, 10]), i3 = s(r3), s4 = i3.next(), _2.label = 4;
          case 4:
            return s4.done ? [3, 7] : (a3 = s4.value).startsWith(n3) ? [4, e4.find(this._store, a3, fi2.NO_CACHE)] : [3, 6];
          case 5:
            if (o3 = _2.sent(), u3 = Ui2.createFromCacheItem(o3))
              try {
                for (v5 = void 0, c3 = s(u3.items), l3 = c3.next(); !l3.done; l3 = c3.next())
                  d3 = l3.value, this._addItem(d3);
              } catch (e5) {
                v5 = { error: e5 };
              } finally {
                try {
                  l3 && !l3.done && (y3 = c3.return) && y3.call(c3);
                } finally {
                  if (v5)
                    throw v5.error;
                }
              }
            _2.label = 6;
          case 6:
            return s4 = i3.next(), [3, 4];
          case 7:
            return [3, 10];
          case 8:
            return h3 = _2.sent(), f4 = { error: h3 }, [3, 10];
          case 9:
            try {
              s4 && !s4.done && (p5 = i3.return) && p5.call(i3);
            } finally {
              if (f4)
                throw f4.error;
            }
            return [7];
          case 10:
            return this._transaction.requestWrite({ key: this.indexerKey, value: this._table }, { persistent: true }), [3, 12];
          case 11:
            this._origin = t6.value, this._table = ni2(this._origin), _2.label = 12;
          case 12:
            return Oi2[this.indexerKey] = this, [2];
        }
      });
    });
  }, e3.prototype.drop = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return Ai2.get(this.dbname).remove(this.indexerKey), [4, this._store.remove(this.indexerKey)];
          case 1:
            return e4.sent(), delete Oi2[this.indexerKey], [2];
        }
      });
    });
  }, e3.prototype.addItem = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        return this._addItem(e4) && this._transaction.requestWrite({ key: this.indexerKey, value: this._table }, { persistent: true }), [2];
      });
    });
  }, e3.prototype.removeItem = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        return this._removeItem(e4) && this._transaction.requestWrite({ key: this.indexerKey, value: this._table }, { persistent: true }), [2];
      });
    });
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        return this._table = [], this._transaction.requestWrite({ key: this.indexerKey, value: this._table }, { persistent: true }), [2];
      });
    });
  }, e3.prototype.commit = function() {
    this._origin = this._table, this._table = ni2(this._origin);
  }, e3.prototype.abort = function() {
    this._table = ni2(this._origin);
  }, e3;
}();
var ki2 = function() {
  return "undefined" != typeof document && "undefined" != typeof navigator && "ReactNative" !== navigator.product;
};
var Ri2 = function() {
  var e3 = (/* @__PURE__ */ new Date()).getTime();
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t6) {
    var n3 = (e3 + 16 * Math.random()) % 16 | 0;
    return e3 = Math.floor(e3 / 16), ("x" === t6 ? n3 : 3 & n3 | 8).toString(16);
  });
};
!function(e3) {
  e3[e3.PROCESSING = 0] = "PROCESSING", e3[e3.DONE = 1] = "DONE";
}(wi2 || (wi2 = {})), function(e3) {
  e3.NEWNODE = "newnode", e3.REMOVENODE = "removenode", e3.CLAIM_HOST = "claimhost", e3.SYNC_HOST = "synchost", e3.REQUEST_LOCK = "requestlock", e3.ACQUIRE_LOCK = "acquirelock", e3.RELEASE_LOCK = "releaselock";
}(Ti2 || (Ti2 = {}));
var xi2;
var Di2 = {};
var Li2 = function() {
  function e3(e4, t6) {
    void 0 === t6 && (t6 = {});
    var n3 = this;
    return this._state = wi2.PROCESSING, this._queue = [], this._activationQueue = [], Di2[e4] && !t6.forceCreate || (this.nodeId = Ri2(), this.key = e4, ki2() && (t6.startAsInvisible ? this.registerNode() : "visible" === document.visibilityState ? this.claimHost() : this.registerNode(), document.addEventListener("visibilitychange", function() {
      "visible" === document.visibilityState && n3.claimHost();
    }), window.addEventListener("message", function(e5) {
      var t7, r3, i3 = e5.data, s4 = i3.nodeId, a3 = i3.requestId, o3 = i3.key, u3 = i3.op, c3 = i3.data;
      if (s4 !== n3.nodeId && o3 === n3.key)
        switch (u3) {
          case Ti2.NEWNODE:
            n3._sendSync();
            break;
          case Ti2.CLAIM_HOST:
            n3._sendSync(), n3._hostId = s4;
            break;
          case Ti2.SYNC_HOST:
            if (!n3.isInSync) {
              n3._activationTimeout && clearTimeout(n3._activationTimeout);
              var l3 = c3, d3 = l3.currentItemRequestId, h3 = l3.queue, f4 = function(e6) {
                var t8 = n3._queue.findIndex(function(t9) {
                  return t9.requestId === e6.requestId;
                });
                t8 < 0 && n3._requestLock({ nodeId: e6.nodeId, requestId: e6.requestId, key: n3.key, op: Ti2.REQUEST_LOCK, ts: e6.ts });
              };
              try {
                for (var p5 = s(h3), v5 = p5.next(); !v5.done; v5 = p5.next()) {
                  f4(v5.value);
                }
              } catch (e6) {
                t7 = { error: e6 };
              } finally {
                try {
                  v5 && !v5.done && (r3 = p5.return) && r3.call(p5);
                } finally {
                  if (t7)
                    throw t7.error;
                }
              }
              n3._currentItem = n3._queue.find(function(e6) {
                return e6.requestId === d3;
              }), n3._completeSync();
            }
            break;
          case Ti2.REMOVENODE:
            n3._queue = n3._queue.filter(function(e6) {
              return e6.nodeId !== i3.nodeId;
            }), n3._currentItem && n3._currentItem.nodeId === i3.nodeId && (n3._currentItem = void 0, n3._acquire(n3._queue[0]));
            break;
          case Ti2.REQUEST_LOCK:
            n3._requestLock(i3);
            break;
          case Ti2.ACQUIRE_LOCK:
            var y3 = n3._queue.find(function(e6) {
              return e6.requestId === a3;
            });
            n3._acquire(y3);
            break;
          case Ti2.RELEASE_LOCK:
            n3._release(a3);
        }
    }), window.addEventListener("beforeunload", function() {
      n3._send(Ti2.REMOVENODE);
    })), Di2[e4] = this), Di2[e4];
  }
  return Object.defineProperty(e3.prototype, "locked", { get: function() {
    return !!this._currentItem;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isHost", { get: function() {
    return this._hostId === this.nodeId;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isInSync", { get: function() {
    return this._state == wi2.DONE;
  }, enumerable: false, configurable: true }), e3.prototype._send = function(e4, t6) {
    var n3;
    void 0 === t6 && (t6 = {});
    var r3 = { nodeId: this.nodeId, requestId: null !== (n3 = null == t6 ? void 0 : t6.requestId) && void 0 !== n3 ? n3 : Ri2(), key: this.key, op: e4, data: t6.data, ts: Date.now() };
    return ki2() && window.postMessage(r3, "*"), r3;
  }, e3.prototype._acquire = function(e4) {
    e4 ? (this._currentItem = e4, this._currentItem.onAcquired && this._currentItem.onAcquired(e4.requestId)) : this._currentItem = void 0;
  }, e3.prototype._release = function(e4) {
    if (this._currentItem && this._currentItem.requestId === e4) {
      var t6 = this._currentItem;
      this._currentItem = void 0, t6.nodeId === this.nodeId && this._send(Ti2.RELEASE_LOCK, { requestId: t6.requestId });
      var n3 = this._queue.findIndex(function(t7) {
        return t7.requestId === e4;
      });
      n3 > -1 && this._queue.splice(n3, 1), t6.onReleased && t6.onReleased(e4);
    }
  }, e3.prototype._requestLock = function(e4) {
    var t6 = this;
    return new Promise(function(n3) {
      var r3 = { nodeId: e4.nodeId, requestId: e4.requestId, ts: e4.ts, onAcquired: function(e5) {
        t6.isHost && t6._send(Ti2.ACQUIRE_LOCK, { requestId: e5 }), n3();
      }, onReleased: function() {
        t6._acquire(t6._queue[0]);
      } }, i3 = false;
      for (var s4 in t6._queue)
        if (t6._queue[s4].ts > r3.ts) {
          t6._queue.splice(parseInt(s4), 0, r3), i3 = true;
          break;
        }
      i3 || t6._queue.push(r3), t6._currentItem || t6._acquire(t6._queue[0]);
    });
  }, e3.prototype._sendSync = function() {
    var e4;
    this.isHost && this._send(Ti2.SYNC_HOST, { data: { currentItemRequestId: null === (e4 = this._currentItem) || void 0 === e4 ? void 0 : e4.requestId, queue: this._queue.map(function(e5) {
      return { nodeId: e5.nodeId, requestId: e5.requestId, ts: e5.ts };
    }) } });
  }, e3.prototype._waitUntilSyncCompleted = function() {
    return r(this, void 0, void 0, function() {
      var e4 = this;
      return o(this, function(t6) {
        return this.isHost && !this.isInSync ? [2, new Promise(function(t7) {
          e4._activationQueue.push(t7);
        })] : [2];
      });
    });
  }, e3.prototype._waitSync = function() {
    var e4 = this;
    this.isInSync || (this._activationTimeout = setTimeout(function() {
      e4._completeSync();
    }, 8));
  }, e3.prototype._completeSync = function() {
    this.isInSync || (this._state = wi2.DONE, this._activationQueue.forEach(function(e4) {
      return e4();
    }), this._activationQueue = []);
  }, e3.prototype.registerNode = function() {
    this._send(Ti2.NEWNODE), this._waitSync();
  }, e3.prototype.claimHost = function() {
    this._hostId = this.nodeId, this._send(Ti2.CLAIM_HOST), this._waitSync();
  }, e3.prototype.lock = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._waitUntilSyncCompleted()];
          case 1:
            return t6.sent(), e4 = this._send(Ti2.REQUEST_LOCK), [4, this._requestLock(e4)];
          case 2:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.unlock = function() {
    var e4;
    (null === (e4 = this._currentItem) || void 0 === e4 ? void 0 : e4.requestId) && this._release(this._currentItem.requestId);
  }, e3;
}();
var Fi2 = function() {
  function e3(e4) {
    var t6 = e4.dbname, n3 = e4.collectionName, r3 = e4.keyName, i3 = e4.keyHash, s4 = e4.indexes, a3 = e4.store, o3 = this;
    this._state = $r2.INIT, this._indexers = [], this.dbname = t6, this.name = n3, this.keyName = r3, this.indexes = c([[r3]], a(s4.filter(function(e5) {
      return Pi2.createKey(e5) !== o3.keyName;
    })), false), this._keyHash = i3, this._store = a3, this._mutex = new Li2(function(e5, t7) {
      return "".concat(_i2(e5, t7), ".lock");
    }(t6, n3)), this._blobContainer = new Ei2({ dbname: t6, collectionName: n3, store: a3 }), this._transaction = new Ni2({ dbname: t6, collectionName: n3, store: a3 });
  }
  return e3.metadataOf = function(e4, t6, n3) {
    return r(this, void 0, void 0, function() {
      var r3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return r3 = gi2(e4, t6), [4, n3.get(r3)];
          case 1:
            return [2, i3.sent()];
        }
      });
    });
  }, Object.defineProperty(e3.prototype, "state", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "isReady", { get: function() {
    return this._state === $r2.READY;
  }, enumerable: false, configurable: true }), e3.prototype.init = function() {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, v5, y3, _2 = this;
      return o(this, function(g4) {
        switch (g4.label) {
          case 0:
            return [4, this._mutex.lock()];
          case 1:
            g4.sent(), g4.label = 2;
          case 2:
            return g4.trys.push([2, 9, , 10]), t6 = Zr2.get(this.dbname), [4, e3.metadataOf(this.dbname, this.name, this._store)];
          case 3:
            return n3 = g4.sent(), this._metadata = n3 || { keyName: this.keyName, blockLevel: 1, blockHashBase: t6.blockHashBase, blockHashMultiplier: t6.blockHashMultiplier, blockHashConstant: t6.blockHashConstant, indexes: this.indexes }, [4, this._transaction.init()];
          case 4:
            g4.sent(), this._blockManager = new Ci2({ dbname: this.dbname, collectionName: this.name, hashFunction: this._keyHash, metadata: this._metadata, transaction: this._transaction, store: this._store }), r3 = c([], a(this.indexes), false), i3 = [], s4 = r3.map(function(e4) {
              return Pi2.createKey(e4);
            }), a3 = n3 ? n3.indexes.map(function(e4) {
              return Pi2.createKey(e4);
            }) : [];
            try {
              for (o3 = s(a3), u3 = o3.next(); !u3.done; u3 = o3.next())
                c3 = u3.value, s4.includes(c3) || i3.push(Pi2.parseKey(c3));
            } catch (e4) {
              v5 = { error: e4 };
            } finally {
              try {
                u3 && !u3.done && (y3 = o3.return) && y3.call(o3);
              } finally {
                if (v5)
                  throw v5.error;
              }
            }
            return (l3 = []).push.apply(l3, c([], a(r3.map(function(e4) {
              var t7 = new Pi2({ dbname: _2.dbname, collectionName: _2.name, keyName: _2.keyName, fields: e4, transaction: _2._transaction, store: _2._store });
              return _2._indexers.push(t7), t7.ensure();
            })), false)), l3.push.apply(l3, c([], a(i3.map(function(e4) {
              return new Pi2({ dbname: _2.dbname, collectionName: _2.name, keyName: _2.keyName, fields: e4, transaction: _2._transaction, store: _2._store }).drop();
            })), false)), [4, Promise.all(l3)];
          case 5:
            return g4.sent(), [4, this._transaction.commit()];
          case 6:
            return g4.sent(), s4.sort().join(",") === a3.sort().join(",") ? [3, 8] : (d3 = gi2(this.dbname, this.name), this._metadata.indexes = r3, [4, this._store.set({ key: d3, value: this._metadata })]);
          case 7:
            g4.sent(), g4.label = 8;
          case 8:
            return this._state = $r2.READY, this._mutex.unlock(), [3, 10];
          case 9:
            throw h3 = g4.sent(), this._mutex.unlock(), h3;
          case 10:
            return [2];
        }
      });
    });
  }, e3.prototype.close = function() {
    this._state = $r2.CLOSED;
  }, e3.prototype._hasPropertyOfKeyName = function(e4) {
    var t6 = e4[this.keyName];
    return "string" == typeof t6 && !!t6;
  }, e3.prototype._getIndexerBy = function(e4) {
    var t6, n3;
    void 0 === e4 && (e4 = null), e4 || (e4 = [this.keyName]);
    var r3 = Pi2.createKey(e4);
    try {
      for (var i3 = s(this._indexers), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        if (r3 === Pi2.createKey(a3.fields))
          return a3;
      }
    } catch (e5) {
      t6 = { error: e5 };
    } finally {
      try {
        s4 && !s4.done && (n3 = i3.return) && n3.call(i3);
      } finally {
        if (t6)
          throw t6.error;
      }
    }
    throw ei2.indexTableIsRequired;
  }, e3.prototype._upgradeBlockLevel = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = gi2(this.dbname, this.name), this._metadata.blockLevel++, [4, this._store.set({ key: e4, value: this._metadata })];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype._requestInsert = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return t6 = e4[this.keyName], [4, this._blockManager.getFromBlock(t6)];
          case 1:
            return o3.sent() ? [3, 13] : [4, this._blockManager.putToBlock(t6, e4)];
          case 2:
            return o3.sent() ? [3, 5] : [4, this._upgradeBlockLevel()];
          case 3:
            return o3.sent(), [4, this._blockManager.putToBlock(t6, e4)];
          case 4:
            o3.sent(), o3.label = 5;
          case 5:
            o3.trys.push([5, 10, 11, 12]), n3 = s(this._indexers), r3 = n3.next(), o3.label = 6;
          case 6:
            return r3.done ? [3, 9] : [4, r3.value.addItem(e4)];
          case 7:
            o3.sent(), o3.label = 8;
          case 8:
            return r3 = n3.next(), [3, 6];
          case 9:
            return [3, 12];
          case 10:
            return i3 = o3.sent(), s4 = { error: i3 }, [3, 12];
          case 11:
            try {
              r3 && !r3.done && (a3 = n3.return) && a3.call(n3);
            } finally {
              if (s4)
                throw s4.error;
            }
            return [7];
          case 12:
            return [3, 14];
          case 13:
            throw ei2.collectionInsertDuplicate;
          case 14:
            return [2];
        }
      });
    });
  }, e3.prototype._requestUpsert = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4;
      return o(this, function(p5) {
        switch (p5.label) {
          case 0:
            return t6 = e4[this.keyName], [4, this._blockManager.getFromBlock(t6)];
          case 1:
            return (n3 = p5.sent()) ? [3, 13] : [4, this._blockManager.putToBlock(t6, e4)];
          case 2:
            return p5.sent() ? [3, 5] : [4, this._upgradeBlockLevel()];
          case 3:
            return p5.sent(), [4, this._blockManager.putToBlock(t6, e4)];
          case 4:
            p5.sent(), p5.label = 5;
          case 5:
            p5.trys.push([5, 10, 11, 12]), r3 = s(this._indexers), i3 = r3.next(), p5.label = 6;
          case 6:
            return i3.done ? [3, 9] : [4, (u3 = i3.value).addItem(e4)];
          case 7:
            p5.sent(), p5.label = 8;
          case 8:
            return i3 = r3.next(), [3, 6];
          case 9:
            return [3, 12];
          case 10:
            return s4 = p5.sent(), l3 = { error: s4 }, [3, 12];
          case 11:
            try {
              i3 && !i3.done && (d3 = r3.return) && d3.call(r3);
            } finally {
              if (l3)
                throw l3.error;
            }
            return [7];
          case 12:
            return [3, 23];
          case 13:
            return [4, this._blockManager.putToBlock(t6, e4)];
          case 14:
            p5.sent(), p5.label = 15;
          case 15:
            p5.trys.push([15, 21, 22, 23]), a3 = s(this._indexers), o3 = a3.next(), p5.label = 16;
          case 16:
            return o3.done ? [3, 20] : 0 === (u3 = o3.value).diff(u3.getColumnValues(n3), u3.getColumnValues(e4)) ? [3, 19] : [4, u3.removeItem(n3)];
          case 17:
            return p5.sent(), [4, u3.addItem(e4)];
          case 18:
            p5.sent(), p5.label = 19;
          case 19:
            return o3 = a3.next(), [3, 16];
          case 20:
            return [3, 23];
          case 21:
            return c3 = p5.sent(), h3 = { error: c3 }, [3, 23];
          case 22:
            try {
              o3 && !o3.done && (f4 = a3.return) && f4.call(a3);
            } finally {
              if (h3)
                throw h3.error;
            }
            return [7];
          case 23:
            return [2];
        }
      });
    });
  }, e3.prototype._requestUpdate = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return t6 = e4[this.keyName], [4, this._blockManager.getFromBlock(t6)];
          case 1:
            return (n3 = c3.sent()) ? [4, this._blockManager.putToBlock(t6, e4)] : [3, 11];
          case 2:
            c3.sent(), c3.label = 3;
          case 3:
            c3.trys.push([3, 9, 10, 11]), r3 = s(this._indexers), i3 = r3.next(), c3.label = 4;
          case 4:
            return i3.done ? [3, 8] : 0 === (s4 = i3.value).diff(s4.getColumnValues(n3), s4.getColumnValues(e4)) ? [3, 7] : [4, s4.removeItem(n3)];
          case 5:
            return c3.sent(), [4, s4.addItem(e4)];
          case 6:
            c3.sent(), c3.label = 7;
          case 7:
            return i3 = r3.next(), [3, 4];
          case 8:
            return [3, 11];
          case 9:
            return a3 = c3.sent(), o3 = { error: a3 }, [3, 11];
          case 10:
            try {
              i3 && !i3.done && (u3 = r3.return) && u3.call(r3);
            } finally {
              if (o3)
                throw o3.error;
            }
            return [7];
          case 11:
            return [2];
        }
      });
    });
  }, e3.prototype._requestRemove = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return [4, this._blockManager.getFromBlock(e4)];
          case 1:
            return (t6 = o3.sent()) ? [4, this._blockManager.removeFromBlock(e4)] : [3, 10];
          case 2:
            o3.sent(), o3.label = 3;
          case 3:
            o3.trys.push([3, 8, 9, 10]), n3 = s(this._indexers), r3 = n3.next(), o3.label = 4;
          case 4:
            return r3.done ? [3, 7] : [4, r3.value.removeItem(t6)];
          case 5:
            o3.sent(), o3.label = 6;
          case 6:
            return r3 = n3.next(), [3, 4];
          case 7:
            return [3, 10];
          case 8:
            return i3 = o3.sent(), s4 = { error: i3 }, [3, 10];
          case 9:
            try {
              r3 && !r3.done && (a3 = n3.return) && a3.call(n3);
            } finally {
              if (s4)
                throw s4.error;
            }
            return [7];
          case 10:
            return [2];
        }
      });
    });
  }, e3.prototype._requestClear = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return [4, this._blockManager.clearAllBlocks()];
          case 1:
            s4.sent(), s4.label = 2;
          case 2:
            s4.trys.push([2, 7, 8, 9]), e4 = s(this._indexers), t6 = e4.next(), s4.label = 3;
          case 3:
            return t6.done ? [3, 6] : [4, t6.value.clear()];
          case 4:
            s4.sent(), s4.label = 5;
          case 5:
            return t6 = e4.next(), [3, 3];
          case 6:
            return [3, 9];
          case 7:
            return n3 = s4.sent(), r3 = { error: n3 }, [3, 9];
          case 8:
            try {
              t6 && !t6.done && (i3 = e4.return) && i3.call(e4);
            } finally {
              if (r3)
                throw r3.error;
            }
            return [7];
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.getByKey = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 6];
          case 1:
            r3.sent(), r3.label = 2;
          case 2:
            return r3.trys.push([2, 4, , 5]), [4, this._blockManager.getFromBlock(e4)];
          case 3:
            return t6 = r3.sent(), this._mutex.unlock(), [2, ni2(t6)];
          case 4:
            throw n3 = r3.sent(), this._mutex.unlock(), n3;
          case 5:
            return [3, 7];
          case 6:
            throw ei2.collectionNotReady;
          case 7:
            return [2];
        }
      });
    });
  }, e3.prototype.query = function(e4) {
    if (void 0 === e4 && (e4 = {}), this.isReady)
      return new vi2({ condition: e4.where, mutex: this._mutex, blockManager: this._blockManager, indexer: this._getIndexerBy(e4.index), backward: !!e4.backward });
    throw ei2.collectionNotReady;
  }, e3.prototype.insertOne = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 8];
          case 1:
            n3.sent(), n3.label = 2;
          case 2:
            if (n3.trys.push([2, 5, , 7]), !this._hasPropertyOfKeyName(e4))
              throw ei2.collectionKeyNotGiven;
            return [4, this._requestInsert(ni2(e4))];
          case 3:
            return n3.sent(), [4, this._transaction.commit()];
          case 4:
            return n3.sent(), this._mutex.unlock(), [2, e4];
          case 5:
            return t6 = n3.sent(), [4, this._transaction.clear()];
          case 6:
            throw n3.sent(), this._mutex.unlock(), t6;
          case 7:
            return [3, 9];
          case 8:
            throw ei2.collectionNotReady;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.insertMany = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3 = this;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 15];
          case 1:
            c3.sent(), c3.label = 2;
          case 2:
            if (c3.trys.push([2, 12, , 14]), e4.some(function(e5) {
              return !u3._hasPropertyOfKeyName(e5);
            }))
              throw ei2.collectionKeyNotGiven;
            c3.label = 3;
          case 3:
            c3.trys.push([3, 8, 9, 10]), t6 = s(e4), n3 = t6.next(), c3.label = 4;
          case 4:
            return n3.done ? [3, 7] : (r3 = n3.value, [4, this._requestInsert(ni2(r3))]);
          case 5:
            c3.sent(), c3.label = 6;
          case 6:
            return n3 = t6.next(), [3, 4];
          case 7:
            return [3, 10];
          case 8:
            return i3 = c3.sent(), a3 = { error: i3 }, [3, 10];
          case 9:
            try {
              n3 && !n3.done && (o3 = t6.return) && o3.call(t6);
            } finally {
              if (a3)
                throw a3.error;
            }
            return [7];
          case 10:
            return [4, this._transaction.commit()];
          case 11:
            return c3.sent(), this._mutex.unlock(), [2, e4];
          case 12:
            return s4 = c3.sent(), [4, this._transaction.clear()];
          case 13:
            throw c3.sent(), this._mutex.unlock(), s4;
          case 14:
            return [3, 16];
          case 15:
            throw ei2.collectionNotReady;
          case 16:
            return [2];
        }
      });
    });
  }, e3.prototype.upsertOne = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 8];
          case 1:
            n3.sent(), n3.label = 2;
          case 2:
            if (n3.trys.push([2, 5, , 7]), !this._hasPropertyOfKeyName(e4))
              throw ei2.collectionKeyNotGiven;
            return [4, this._requestUpsert(ni2(e4))];
          case 3:
            return n3.sent(), [4, this._transaction.commit()];
          case 4:
            return n3.sent(), this._mutex.unlock(), [2, e4];
          case 5:
            return t6 = n3.sent(), [4, this._transaction.clear()];
          case 6:
            throw n3.sent(), this._mutex.unlock(), t6;
          case 7:
            return [3, 9];
          case 8:
            throw ei2.collectionNotReady;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.upsertMany = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3 = this;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 15];
          case 1:
            c3.sent(), c3.label = 2;
          case 2:
            if (c3.trys.push([2, 12, , 14]), e4.some(function(e5) {
              return !u3._hasPropertyOfKeyName(e5);
            }))
              throw ei2.collectionKeyNotGiven;
            c3.label = 3;
          case 3:
            c3.trys.push([3, 8, 9, 10]), t6 = s(e4), n3 = t6.next(), c3.label = 4;
          case 4:
            return n3.done ? [3, 7] : (r3 = n3.value, [4, this._requestUpsert(ni2(r3))]);
          case 5:
            c3.sent(), c3.label = 6;
          case 6:
            return n3 = t6.next(), [3, 4];
          case 7:
            return [3, 10];
          case 8:
            return i3 = c3.sent(), a3 = { error: i3 }, [3, 10];
          case 9:
            try {
              n3 && !n3.done && (o3 = t6.return) && o3.call(t6);
            } finally {
              if (a3)
                throw a3.error;
            }
            return [7];
          case 10:
            return [4, this._transaction.commit()];
          case 11:
            return c3.sent(), this._mutex.unlock(), [2, e4];
          case 12:
            return s4 = c3.sent(), [4, this._transaction.clear()];
          case 13:
            throw c3.sent(), this._mutex.unlock(), s4;
          case 14:
            return [3, 16];
          case 15:
            throw ei2.collectionNotReady;
          case 16:
            return [2];
        }
      });
    });
  }, e3.prototype.update = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 8];
          case 1:
            n3.sent(), n3.label = 2;
          case 2:
            if (n3.trys.push([2, 5, , 7]), !this._hasPropertyOfKeyName(e4))
              throw ei2.collectionKeyNotGiven;
            return [4, this._requestUpdate(ni2(e4))];
          case 3:
            return n3.sent(), [4, this._transaction.commit()];
          case 4:
            return n3.sent(), this._mutex.unlock(), [2, e4];
          case 5:
            return t6 = n3.sent(), [4, this._transaction.clear()];
          case 6:
            throw n3.sent(), this._mutex.unlock(), t6;
          case 7:
            return [3, 9];
          case 8:
            throw ei2.collectionNotReady;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.updateIf = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4, p5, v5, y3 = this;
      return o(this, function(_2) {
        switch (_2.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 16];
          case 1:
            _2.sent(), _2.label = 2;
          case 2:
            return _2.trys.push([2, 13, , 15]), n3 = e4.where, r3 = void 0 === n3 ? {} : n3, i3 = e4.index, s4 = void 0 === i3 ? null : i3, a3 = e4.backward, o3 = void 0 !== a3 && a3, u3 = [], [4, new mi2({ condition: r3, blockManager: this._blockManager, backward: o3, indexer: this._getIndexerBy(s4) }).each(function(e5) {
              return r(y3, void 0, void 0, function() {
                var n4, i4;
                return o(this, function(s5) {
                  if (e5.error)
                    throw e5.stop(), e5.error;
                  if (e5.hasNext) {
                    if (n4 = e5.nextValue, ai2(r3, n4) && t6.set) {
                      if ("function" != typeof t6.set)
                        for (i4 in t6.set)
                          n4[i4] = t6.set[i4];
                      else
                        t6.set(n4);
                      u3.push(n4);
                    }
                    e5.next();
                  } else
                    e5.stop();
                  return [2];
                });
              });
            })];
          case 3:
            _2.sent(), _2.label = 4;
          case 4:
            _2.trys.push([4, 9, 10, 11]), c3 = s(u3), l3 = c3.next(), _2.label = 5;
          case 5:
            return l3.done ? [3, 8] : (d3 = l3.value, [4, this._requestUpdate(ni2(d3))]);
          case 6:
            _2.sent(), _2.label = 7;
          case 7:
            return l3 = c3.next(), [3, 5];
          case 8:
            return [3, 11];
          case 9:
            return h3 = _2.sent(), p5 = { error: h3 }, [3, 11];
          case 10:
            try {
              l3 && !l3.done && (v5 = c3.return) && v5.call(c3);
            } finally {
              if (p5)
                throw p5.error;
            }
            return [7];
          case 11:
            return [4, this._transaction.commit()];
          case 12:
            return _2.sent(), this._mutex.unlock(), [2, u3];
          case 13:
            return f4 = _2.sent(), [4, this._transaction.clear()];
          case 14:
            throw _2.sent(), this._mutex.unlock(), f4;
          case 15:
            return [3, 17];
          case 16:
            throw this._transaction.clear(), ei2.collectionNotReady;
          case 17:
            return [2];
        }
      });
    });
  }, e3.prototype.remove = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 8];
          case 1:
            n3.sent(), n3.label = 2;
          case 2:
            return n3.trys.push([2, 5, , 7]), [4, this._requestRemove(e4)];
          case 3:
            return n3.sent(), [4, this._transaction.commit()];
          case 4:
            return n3.sent(), this._mutex.unlock(), [3, 7];
          case 5:
            return t6 = n3.sent(), [4, this._transaction.clear()];
          case 6:
            throw n3.sent(), this._mutex.unlock(), t6;
          case 7:
            return [3, 9];
          case 8:
            throw ei2.collectionNotReady;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.removeIf = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4, p5, v5 = this;
      return o(this, function(y3) {
        switch (y3.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 15];
          case 1:
            y3.sent(), y3.label = 2;
          case 2:
            return y3.trys.push([2, 13, , 14]), t6 = e4.where, n3 = void 0 === t6 ? {} : t6, r3 = e4.index, i3 = void 0 === r3 ? null : r3, s4 = e4.backward, a3 = void 0 !== s4 && s4, o3 = [], [4, new mi2({ condition: n3, blockManager: this._blockManager, backward: a3, indexer: this._getIndexerBy(i3) }).each(function(e5) {
              return r(v5, void 0, void 0, function() {
                var t7, r4;
                return o(this, function(i4) {
                  if (e5.error)
                    throw e5.stop(), e5.error;
                  return e5.hasNext ? (t7 = e5.nextValue, ai2(n3, t7) && (r4 = t7[this.keyName], o3.push(r4)), e5.next()) : e5.stop(), [2];
                });
              });
            })];
          case 3:
            y3.sent(), y3.label = 4;
          case 4:
            y3.trys.push([4, 9, 10, 11]), u3 = s(o3), c3 = u3.next(), y3.label = 5;
          case 5:
            return c3.done ? [3, 8] : (l3 = c3.value, [4, this._requestRemove(l3)]);
          case 6:
            y3.sent(), y3.label = 7;
          case 7:
            return c3 = u3.next(), [3, 5];
          case 8:
            return [3, 11];
          case 9:
            return d3 = y3.sent(), f4 = { error: d3 }, [3, 11];
          case 10:
            try {
              c3 && !c3.done && (p5 = u3.return) && p5.call(u3);
            } finally {
              if (f4)
                throw f4.error;
            }
            return [7];
          case 11:
            return [4, this._transaction.commit()];
          case 12:
            return y3.sent(), this._mutex.unlock(), [2, o3];
          case 13:
            throw h3 = y3.sent(), this._mutex.unlock(), h3;
          case 14:
            return [3, 16];
          case 15:
            throw this._transaction.clear(), ei2.collectionNotReady;
          case 16:
            return [2];
        }
      });
    });
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return this.isReady ? [4, this._mutex.lock()] : [3, 8];
          case 1:
            t6.sent(), t6.label = 2;
          case 2:
            return t6.trys.push([2, 5, , 7]), [4, this._requestClear()];
          case 3:
            return t6.sent(), [4, this._transaction.commit()];
          case 4:
            return t6.sent(), this._mutex.unlock(), [3, 7];
          case 5:
            return e4 = t6.sent(), [4, this._transaction.clear()];
          case 6:
            throw t6.sent(), this._mutex.unlock(), e4;
          case 7:
            return [3, 9];
          case 8:
            throw ei2.collectionNotReady;
          case 9:
            return [2];
        }
      });
    });
  }, e3.prototype.getBlob = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._blobContainer.get(e4)];
          case 1:
            return [2, t6.sent()];
        }
      });
    });
  }, e3.prototype.saveBlob = function(e4, t6) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._blobContainer.save(e4, t6)];
          case 1:
            return [2, n3.sent()];
        }
      });
    });
  }, e3.prototype.removeBlob = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._blobContainer.remove(e4)];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, e3.prototype.removeAllBlobs = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._blobContainer.clear()];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, e3;
}();
var qi2 = "[NESTDB]";
var zi2 = true;
var Bi2 = function() {
  function e3() {
  }
  return e3.off = function() {
    zi2 = false;
  }, e3.log = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    zi2 && console.log.apply(console, c(["".concat(qi2, "[LOG]")], a(e4), false));
  }, e3.warning = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    zi2 && console.warn.apply(console, c(["".concat(qi2, "[WARNING]")], a(e4), false));
  }, e3.error = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    zi2 && console.error.apply(console, c(["".concat(qi2, "[ERROR]")], a(e4), false));
  }, e3;
}();
var Ki2 = [{}, { a: 700400, n: "error" }];
var ji2 = function() {
  function e3(e4) {
    var t6, n3, r3;
    this.encryption = null !== (t6 = e4.encryption) && void 0 !== t6 ? t6 : D, this.itemSizeLimit = null !== (n3 = e4.itemSizeLimit) && void 0 !== n3 ? n3 : 4194304, this.metadataBuffer = null !== (r3 = e4.metadataBuffer) && void 0 !== r3 ? r3 : 256;
  }
  return Object.defineProperty(e3.prototype, "_encryptionCheckKey", { get: function() {
    return "".concat(this.dbname, ".encrypt");
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "_reservedKeys", { get: function() {
    return [this._encryptionCheckKey];
  }, enumerable: false, configurable: true }), e3.prototype._getRawKey = function(e4, t6) {
    return void 0 === t6 && (t6 = ""), "".concat(e4).concat(t6);
  }, e3.prototype._generateShardPostfixArray = function(e4) {
    return void 0 === e4 && (e4 = 1), c([], a(Array(e4).keys()), false);
  }, e3.prototype._shardify = function(e4) {
    var t6 = this, n3 = e4.key, r3 = e4.value, i3 = JSON.stringify(this.encryption.encrypt(r3)), s4 = Math.ceil(i3.length / this.adjustedItemSizeLimit);
    return this._generateShardPostfixArray(s4).map(function(e5) {
      var r4 = { key: t6._getRawKey(n3, ".".concat(e5)), data: i3.substring(e5 * t6.adjustedItemSizeLimit, (e5 + 1) * t6.adjustedItemSizeLimit) };
      return 0 === e5 && (r4.metadata = { shards: s4 }), r4;
    });
  }, e3.prototype._resetIfEncryptionChanged = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3, s4, a3, o3, u3, c3 = this;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return [4, this.get(this._encryptionCheckKey)];
          case 1:
            if (e4 = l3.sent(), t6 = { encrypted: Ki2.map(function(e5) {
              var t7;
              return null === (t7 = c3.encryption) || void 0 === t7 ? void 0 : t7.encrypt(e5);
            }) }, !(e4 && e4.encrypted && Array.isArray(e4.encrypted)))
              return [3, 6];
            for (i3 in n3 = e4.encrypted, r3 = [], n3)
              r3.push(i3);
            s4 = 0, l3.label = 2;
          case 2:
            return s4 < r3.length ? (i3 = r3[s4]) in n3 ? (a3 = i3, o3 = JSON.stringify(e4.encrypted[a3]), u3 = JSON.stringify(t6.encrypted[a3]), o3 === u3 ? [3, 4] : (Bi2.warning("Encryption algorithm has changed. Stored data would be cleared."), [4, this.clear()])) : [3, 4] : [3, 5];
          case 3:
            return l3.sent(), [3, 5];
          case 4:
            return s4++, [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return [4, this.clear()];
          case 7:
            l3.sent(), l3.label = 8;
          case 8:
            return [4, this.set({ key: this._encryptionCheckKey, value: t6 })];
          case 9:
            return l3.sent(), [2];
        }
      });
    });
  }, Object.defineProperty(e3.prototype, "adjustedItemSizeLimit", { get: function() {
    return Math.max(this.itemSizeLimit - this.metadataBuffer, 4);
  }, enumerable: false, configurable: true }), e3.prototype.usage = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return e4 = 0, [4, this._getAllRawKeys()];
          case 1:
            t6 = c3.sent(), c3.label = 2;
          case 2:
            c3.trys.push([2, 7, 8, 9]), n3 = s(t6), r3 = n3.next(), c3.label = 3;
          case 3:
            return r3.done ? [3, 6] : (i3 = r3.value, [4, this._getRaw(i3)]);
          case 4:
            (s4 = c3.sent()) && (e4 += JSON.stringify(s4).length), c3.label = 5;
          case 5:
            return r3 = n3.next(), [3, 3];
          case 6:
            return [3, 9];
          case 7:
            return a3 = c3.sent(), o3 = { error: a3 }, [3, 9];
          case 8:
            try {
              r3 && !r3.done && (u3 = n3.return) && u3.call(n3);
            } finally {
              if (o3)
                throw o3.error;
            }
            return [7];
          case 9:
            return [2, e4];
        }
      });
    });
  }, e3.prototype.getAllKeys = function() {
    return r(this, void 0, void 0, function() {
      var e4 = this;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._getAllRawKeys()];
          case 1:
            return [2, t6.sent().filter(function(e5) {
              return e5.endsWith(".0");
            }).map(function(e5) {
              return e5.replace(/\.0$/, "");
            }).filter(function(t7) {
              return !e4._reservedKeys.includes(t7);
            })];
        }
      });
    });
  }, e3.prototype.get = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3 = this;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return t6 = this._getRawKey(e4, ".0"), [4, this._getRaw(t6)];
          case 1:
            if (!(n3 = u3.sent()))
              return [3, 7];
            u3.label = 2;
          case 2:
            return u3.trys.push([2, 6, , 7]), r3 = n3.data, (null == (i3 = n3.metadata) ? void 0 : i3.shards) && i3.shards > 1 ? [4, Promise.all(this._generateShardPostfixArray(null == i3 ? void 0 : i3.shards).map(function(t7) {
              return r(o3, void 0, void 0, function() {
                var n4, i4;
                return o(this, function(s5) {
                  switch (s5.label) {
                    case 0:
                      return t7 > 0 ? (n4 = this._getRawKey(e4, ".".concat(t7)), [4, this._getRaw(n4)]) : [3, 2];
                    case 1:
                      if (!(i4 = s5.sent()))
                        throw ei2.storeBrokenIntegrity;
                      return [2, i4.data];
                    case 2:
                      return [2, r3];
                  }
                });
              });
            }))] : [3, 4];
          case 3:
            return a3 = u3.sent(), [3, 5];
          case 4:
            a3 = [r3], u3.label = 5;
          case 5:
            return s4 = a3, [2, this.encryption.decrypt(JSON.parse(s4.join("")))];
          case 6:
            return u3.sent(), [2, null];
          case 7:
            return [2, null];
        }
      });
    });
  }, e3.prototype.set = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return t6 = this._shardify(e4), [4, this._setRaw(t6)];
          case 1:
            return n3.sent(), [2, n({}, e4.value)];
        }
      });
    });
  }, e3.prototype.setMany = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return t6 = [], [4, this._setRaw(t6.concat.apply(t6, c([], a(e4.map(function(e5) {
              return n3._shardify(e5);
            })), false)))];
          case 1:
            return r3.sent(), [2, e4.map(function(e5) {
              return e5.value;
            })];
        }
      });
    });
  }, e3.prototype.remove = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3 = this;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return t6 = this._getRawKey(e4, ".0"), [4, this._getRaw(t6)];
          case 1:
            return (n3 = s4.sent()) ? (r3 = n3.metadata, [4, this._removeRaw(this._generateShardPostfixArray(null == r3 ? void 0 : r3.shards).map(function(t7) {
              return i3._getRawKey(e4, ".".concat(t7));
            }))]) : [3, 3];
          case 2:
            return s4.sent(), [2, true];
          case 3:
            return [2, false];
        }
      });
    });
  }, e3.prototype.removeMany = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4, a3, o3, u3, c3, l3 = this;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            t6 = [], n3 = function(e5) {
              var n4, i4, s5;
              return o(this, function(a4) {
                switch (a4.label) {
                  case 0:
                    return n4 = r3._getRawKey(e5, ".0"), [4, r3._getRaw(n4)];
                  case 1:
                    return (i4 = a4.sent()) && (s5 = i4.metadata, t6.push.apply(t6, c([], a(r3._generateShardPostfixArray(null == s5 ? void 0 : s5.shards).map(function(t7) {
                      return l3._getRawKey(e5, ".".concat(t7));
                    })), false))), [2];
                }
              });
            }, r3 = this, d3.label = 1;
          case 1:
            d3.trys.push([1, 6, 7, 8]), i3 = s(e4), s4 = i3.next(), d3.label = 2;
          case 2:
            return s4.done ? [3, 5] : (a3 = s4.value, [5, n3(a3)]);
          case 3:
            d3.sent(), d3.label = 4;
          case 4:
            return s4 = i3.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return o3 = d3.sent(), u3 = { error: o3 }, [3, 8];
          case 7:
            try {
              s4 && !s4.done && (c3 = i3.return) && c3.call(i3);
            } finally {
              if (u3)
                throw u3.error;
            }
            return [7];
          case 8:
            return t6.length > 0 ? [4, this._removeRaw(t6)] : [3, 10];
          case 9:
            d3.sent(), d3.label = 10;
          case 10:
            return [2, e4];
        }
      });
    });
  }, e3;
}();
var Qi2 = {};
var Gi2 = function(t6) {
  function n3(e3) {
    void 0 === e3 && (e3 = {});
    var n4, r3 = this;
    r3 = t6.call(this, n(n({}, e3), { itemSizeLimit: null !== (n4 = e3.itemSizeLimit) && void 0 !== n4 ? n4 : 4194304 })) || this;
    var i3 = e3.delay, s4 = void 0 === i3 ? 1 : i3;
    return r3.delay = s4, r3.observer = {}, r3;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "rawData", { get: function() {
    return Qi2[this.dbname];
  }, set: function(e3) {
    Qi2[this.dbname] = e3;
  }, enumerable: false, configurable: true }), n3.prototype._getAllRawKeys = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        if (Qi2[this.dbname])
          return [2, Object.keys(Qi2[this.dbname])];
        throw ei2.storeNotAvailable;
      });
    });
  }, n3.prototype._getRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return Qi2[this.dbname] ? [4, si2(this.delay)] : [3, 2];
          case 1:
            return t7.sent(), [2, Qi2[this.dbname][e3] ? n({ key: e3 }, Qi2[this.dbname][e3]) : null];
          case 2:
            throw ei2.storeNotAvailable;
        }
      });
    });
  }, n3.prototype._setRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return Qi2[this.dbname] ? [4, si2(this.delay)] : [3, 2];
          case 1:
            c3.sent();
            try {
              for (t7 = s(e3), n4 = t7.next(); !n4.done; n4 = t7.next())
                r3 = n4.value, i3 = r3.key, s4 = r3.data, a3 = r3.metadata, Qi2[this.dbname][i3] = Object.freeze({ data: s4, metadata: a3 });
            } catch (e4) {
              o3 = { error: e4 };
            } finally {
              try {
                n4 && !n4.done && (u3 = t7.return) && u3.call(t7);
              } finally {
                if (o3)
                  throw o3.error;
              }
            }
            return [3, 3];
          case 2:
            throw ei2.storeNotAvailable;
          case 3:
            return [2];
        }
      });
    });
  }, n3.prototype._removeRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return Qi2[this.dbname] ? [4, si2(this.delay)] : [3, 2];
          case 1:
            a3.sent();
            try {
              for (t7 = s(e3), n4 = t7.next(); !n4.done; n4 = t7.next())
                r3 = n4.value, Qi2[this.dbname][r3] && delete Qi2[this.dbname][r3];
            } catch (e4) {
              i3 = { error: e4 };
            } finally {
              try {
                n4 && !n4.done && (s4 = t7.return) && s4.call(t7);
              } finally {
                if (i3)
                  throw i3.error;
              }
            }
            return [3, 3];
          case 2:
            throw ei2.storeNotAvailable;
          case 3:
            return [2];
        }
      });
    });
  }, n3.prototype.observe = function(e3, t7, n4) {
    var r3 = this;
    this.observer[e3] || (this.observer[e3] = {}), t7.forEach(function(t8) {
      return r3.observer[e3][t8] = n4;
    });
  }, n3.prototype.checkAvailability = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        return [2];
      });
    });
  }, n3.prototype.init = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this.dbname = e3, Qi2[this.dbname] || (Qi2[this.dbname] = {}), [4, this._resetIfEncryptionChanged()];
          case 1:
            return t7.sent(), [2];
        }
      });
    });
  }, n3.prototype.set = function(e3) {
    return r(this, void 0, void 0, function() {
      var n4, r3;
      return o(this, function(i3) {
        if ((n4 = this.observer[e3.key]) && "function" == typeof n4.set && (r3 = n4.set()))
          throw r3;
        return [2, t6.prototype.set.call(this, e3)];
      });
    });
  }, n3.prototype.setMany = function(e3) {
    return r(this, void 0, void 0, function() {
      var n4, r3, i3, s4, a3, o3, u3;
      return o(this, function(c3) {
        try {
          for (n4 = s(e3), r3 = n4.next(); !r3.done; r3 = n4.next())
            if (i3 = r3.value, (s4 = this.observer[i3.key]) && "function" == typeof s4.set && (a3 = s4.set()))
              throw a3;
        } catch (e4) {
          o3 = { error: e4 };
        } finally {
          try {
            r3 && !r3.done && (u3 = n4.return) && u3.call(n4);
          } finally {
            if (o3)
              throw o3.error;
          }
        }
        return [2, t6.prototype.setMany.call(this, e3)];
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return [4, si2(this.delay)];
          case 1:
            return e3.sent(), Qi2[this.dbname] = {}, [2];
        }
      });
    });
  }, n3;
}(ji2);
var Vi2 = "NestDBStore";
!function(e3) {
  e3[e3.UNINITIALIZED = 0] = "UNINITIALIZED", e3[e3.OPENING = 1] = "OPENING", e3[e3.OPEN = 2] = "OPEN", e3[e3.CLOSED = 3] = "CLOSED";
}(xi2 || (xi2 = {}));
var Hi2 = function(t6) {
  function n3(e3) {
    void 0 === e3 && (e3 = {});
    var n4, r3 = this;
    return (r3 = t6.call(this, n(n({}, e3), { itemSizeLimit: null !== (n4 = e3.itemSizeLimit) && void 0 !== n4 ? n4 : 104857600 })) || this)._storeName = Vi2, r3._state = xi2.UNINITIALIZED, r3._openJobQueue = [], r3._window = "undefined" != typeof window ? window : void 0, r3._indexedDb = r3._window ? r3._window.indexedDB || r3._window.mozIndexedDB || r3._window.webkitIndexedDB || r3._window.msIndexedDB : void 0, r3;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "state", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), n3.prototype._openDatabase = function(e3) {
    var t7 = this;
    return new Promise(function(n4, r3) {
      if (t7._indexedDb) {
        t7._state = xi2.OPENING;
        var i3 = t7._indexedDb.open(e3);
        i3.addEventListener("upgradeneeded", function(e4) {
          e4.target.result.createObjectStore(Vi2, { keyPath: "key" });
        }), i3.addEventListener("success", function(r4) {
          t7._state = xi2.OPEN, t7._database = r4.target.result, t7._openJobQueue.forEach(function(e4) {
            return e4();
          }), t7._openJobQueue = [], t7._database.onclose = function() {
            t7._database = void 0, t7._state = xi2.OPENING, setTimeout(function() {
              t7._openDatabase(e3);
            }, 5);
          }, n4(t7._database);
        }), i3.addEventListener("error", function(e4) {
          t7._state = xi2.UNINITIALIZED, r3(e4.target.error);
        });
      } else
        r3(ei2.storeNotAvailable);
    });
  }, n3.prototype._getObjectStore = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this._database ? [2, this._database.transaction(this._storeName, e3).objectStore(this._storeName)] : [3, 1];
          case 1:
            switch (this._state) {
              case xi2.UNINITIALIZED:
              case xi2.OPEN:
                return [3, 2];
              case xi2.OPENING:
              case xi2.CLOSED:
                return [3, 3];
            }
            return [3, 4];
          case 2:
            throw ei2.storeNotInitialized;
          case 3:
            return [2, new Promise(function(n5) {
              t7._openJobQueue.push(function() {
                return n5(t7._getObjectStore(e3));
              });
            })];
          case 4:
            return [4, this._getObjectStore(e3)];
          case 5:
            return [2, n4.sent()];
        }
      });
    });
  }, n3.prototype._getAllRawKeys = function() {
    return r(this, void 0, void 0, function() {
      var e3;
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this._getObjectStore("readonly")];
          case 1:
            return e3 = t7.sent(), [4, new Promise(function(t8, n4) {
              var r3 = e3.getAllKeys();
              r3.addEventListener("success", function(e4) {
                t8(e4.target.result);
              }), r3.addEventListener("error", function(e4) {
                return n4(e4.target.error);
              });
            })];
          case 2:
            return [2, t7.sent()];
        }
      });
    });
  }, n3.prototype._getRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._getObjectStore("readonly")];
          case 1:
            return t7 = n4.sent(), [4, new Promise(function(n5, r3) {
              var i3 = t7.get(e3);
              i3.addEventListener("success", function(e4) {
                var t8;
                n5(null === (t8 = null == e4 ? void 0 : e4.target) || void 0 === t8 ? void 0 : t8.result);
              }), i3.addEventListener("error", function(e4) {
                return r3(e4.target.error);
              });
            })];
          case 2:
            return [2, n4.sent()];
        }
      });
    });
  }, n3.prototype._setRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._getObjectStore("readwrite")];
          case 1:
            return t7 = n4.sent(), [4, Promise.all(e3.map(function(e4) {
              return new Promise(function(n5, r3) {
                var i3 = t7.put(e4);
                i3.addEventListener("success", function(e5) {
                  n5(e5.target.result);
                }), i3.addEventListener("error", function() {
                  r3("Failed to write.");
                });
              });
            }))];
          case 2:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype._removeRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._getObjectStore("readwrite")];
          case 1:
            return t7 = n4.sent(), [4, Promise.all(e3.map(function(e4) {
              return new Promise(function(n5, r3) {
                var i3 = t7.delete(e4);
                i3.addEventListener("success", function() {
                  return n5(e4);
                }), i3.addEventListener("error", function(e5) {
                  return r3(e5.target.error);
                });
              });
            }))];
          case 2:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype._triggerDatabaseClose = function() {
    this._database && this._database.onclose && this._database.onclose(new Event("dummy"));
  }, n3.prototype.checkAvailability = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            if (!((null == (e3 = "undefined" != typeof window ? window : null) ? void 0 : e3.indexedDB) || (null == e3 ? void 0 : e3.mozIndexedDB) || (null == e3 ? void 0 : e3.webkitIndexedDB) || (null == e3 ? void 0 : e3.msIndexedDB)))
              return [3, 6];
            if (this._indexedDb = e3.indexedDB || e3.mozIndexedDB || e3.webkitIndexedDB || e3.msIndexedDB, !this._window || !ki2())
              return [3, 4];
            if (!(ki2() && navigator.userAgent && navigator.userAgent.includes("Edge/")))
              return [3, 1];
            if (!this._window.indexedDB && (e3.PointerEvent || e3.MSPointerEvent))
              throw ei2.storeNotAvailableInPrivateBrowsing;
            return [3, 3];
          case 1:
            return [4, new Promise(function(e4, n5) {
              if (t7._indexedDb)
                try {
                  var r3 = t7._indexedDb.open("_testMozilla");
                  r3.onerror = function() {
                    return n5(ei2.storeNotAvailableInPrivateBrowsing);
                  }, r3.onsuccess = function() {
                    return e4();
                  };
                } catch (e5) {
                  n5(ei2.storeNotAvailableInPrivateBrowsing);
                }
              else
                n5(ei2.storeNotAvailable);
            })];
          case 2:
            n4.sent(), n4.label = 3;
          case 3:
            return [3, 5];
          case 4:
            throw ei2.storeNotAvailable;
          case 5:
            return [3, 7];
          case 6:
            throw ei2.storeNotAvailable;
          case 7:
            return [2];
        }
      });
    });
  }, n3.prototype.init = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this.dbname = e3, [4, this.checkAvailability()];
          case 1:
            return t7.sent(), [4, this._openDatabase(e3)];
          case 2:
            return t7.sent(), [4, this._resetIfEncryptionChanged()];
          case 3:
            return t7.sent(), [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      var e3;
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this._getObjectStore("readwrite")];
          case 1:
            return e3 = t7.sent(), [4, new Promise(function(t8, n4) {
              var r3 = e3.clear();
              r3.addEventListener("success", function() {
                return t8();
              }), r3.addEventListener("error", function(e4) {
                return n4(e4.target.error);
              });
            })];
          case 2:
            return [2, t7.sent()];
        }
      });
    });
  }, n3;
}(ji2);
var Wi2 = function(t6) {
  function n3(e3) {
    var n4 = this, r3 = e3.AsyncStorage, i3 = e3.itemSizeLimit, s4 = void 0 === i3 ? 6291456 : i3, a3 = i(e3, ["AsyncStorage", "itemSizeLimit"]);
    return (n4 = t6.call(this, n(n({}, a3), { itemSizeLimit: s4 })) || this)._asyncStorage = r3, n4;
  }
  return t(n3, t6), n3.prototype._isBelonging = function(e3) {
    return e3.startsWith("".concat(this.dbname, "/"));
  }, n3.prototype._getActualKey = function(e3) {
    return "".concat(this.dbname, "/").concat(e3);
  }, n3.prototype._getAllRawKeys = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._asyncStorage.getAllKeys()];
          case 1:
            return e3 = n4.sent(), [2, e3.filter(function(e4) {
              return t7._isBelonging(e4);
            }).map(function(e4) {
              return e4.substring("".concat(t7.dbname, "/").length);
            })];
        }
      });
    });
  }, n3.prototype._getRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._asyncStorage.getItem(this._getActualKey(e3))];
          case 1:
            return [2, (t7 = n4.sent()) ? JSON.parse(t7) : null];
        }
      });
    });
  }, n3.prototype._setRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3, o3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            t7 = [];
            try {
              for (n4 = s(e3), r3 = n4.next(); !r3.done; r3 = n4.next())
                i3 = r3.value, s4 = i3.key, i3.data.length <= this.adjustedItemSizeLimit && t7.push([this._getActualKey(s4), JSON.stringify(i3)]);
            } catch (e4) {
              a3 = { error: e4 };
            } finally {
              try {
                r3 && !r3.done && (o3 = n4.return) && o3.call(n4);
              } finally {
                if (a3)
                  throw a3.error;
              }
            }
            return [4, this._asyncStorage.multiSet(t7)];
          case 1:
            return u3.sent(), [2];
        }
      });
    });
  }, n3.prototype._removeRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._asyncStorage.multiRemove(e3.map(function(e4) {
              return t7._getActualKey(e4);
            }))];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.checkAvailability = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        if (!this._asyncStorage)
          throw ei2.storeNotAvailable;
        return [2];
      });
    });
  }, n3.prototype.init = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this.dbname = e3, [4, this._resetIfEncryptionChanged()];
          case 1:
            return t7.sent(), [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      var e3;
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this.getAllKeys()];
          case 1:
            return e3 = t7.sent(), [4, this.removeMany(e3)];
          case 2:
            return t7.sent(), [2];
        }
      });
    });
  }, n3;
}(ji2);
!function(t6) {
  function n3(e3) {
    var n4, r3 = this;
    return (r3 = t6.call(this, n(n({}, e3), { itemSizeLimit: null !== (n4 = e3.itemSizeLimit) && void 0 !== n4 ? n4 : 6291456 })) || this)._mmkv = e3.MMKV, r3;
  }
  t(n3, t6), n3.prototype._isBelonging = function(e3) {
    return e3.startsWith("".concat(this.dbname, "/"));
  }, n3.prototype._getActualKey = function(e3) {
    return "".concat(this.dbname, "/").concat(e3);
  }, n3.prototype._getAllRawKeys = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._mmkv.getAllKeys()];
          case 1:
            return e3 = n4.sent(), [2, e3.filter(function(e4) {
              return t7._isBelonging(e4);
            }).map(function(e4) {
              return e4.substring("".concat(t7.dbname, "/").length);
            })];
        }
      });
    });
  }, n3.prototype._getRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._mmkv.getString(this._getActualKey(e3))];
          case 1:
            return [2, (t7 = n4.sent()) ? JSON.parse(t7) : null];
        }
      });
    });
  }, n3.prototype._setRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        try {
          for (t7 = s(e3), n4 = t7.next(); !n4.done; n4 = t7.next())
            r3 = n4.value, i3 = r3.key, r3.data.length <= this.adjustedItemSizeLimit && this._mmkv.set(this._getActualKey(i3), JSON.stringify(r3));
        } catch (e4) {
          s4 = { error: e4 };
        } finally {
          try {
            n4 && !n4.done && (a3 = t7.return) && a3.call(t7);
          } finally {
            if (s4)
              throw s4.error;
          }
        }
        return [2];
      });
    });
  }, n3.prototype._removeRaw = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4;
      return o(this, function(a3) {
        try {
          for (t7 = s(e3), n4 = t7.next(); !n4.done; n4 = t7.next())
            r3 = n4.value, this._mmkv.delete(this._getActualKey(r3));
        } catch (e4) {
          i3 = { error: e4 };
        } finally {
          try {
            n4 && !n4.done && (s4 = t7.return) && s4.call(t7);
          } finally {
            if (i3)
              throw i3.error;
          }
        }
        return [2];
      });
    });
  }, n3.prototype.checkAvailability = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        if (!this._mmkv)
          throw ei2.storeNotAvailable;
        return [2];
      });
    });
  }, n3.prototype.init = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this.dbname = e3, [4, this._resetIfEncryptionChanged()];
          case 1:
            return t7.sent(), [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      var e3;
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this.getAllKeys()];
          case 1:
            return e3 = t7.sent(), [4, this.removeMany(e3)];
          case 2:
            return t7.sent(), [2];
        }
      });
    });
  };
}(ji2);
var Yi2;
!function(e3) {
  e3.INIT = "INIT", e3.OPENING = "OPENING", e3.OPENED = "OPENED", e3.CLOSED = "CLOSED";
}(Yi2 || (Yi2 = {}));
var Ji2;
var Xi2 = function() {
  function e3(e4) {
    var t6 = e4.name, n3 = e4.version, r3 = e4.store, i3 = e4.config;
    this.name = t6, this._version = n3, this._state = Yi2.INIT, this._config = i3 || new Zr2({ dbname: t6 }), this._store = r3, this._event = { success: oi2, error: oi2, storeReplaced: oi2, upgrade: li2 }, this._collections = /* @__PURE__ */ new Map(), this._globalMutex = new Li2("".concat(this.name, ".lock")), this._config.disableLogger && Bi2.off(), new Ai2({ dbname: t6, limit: this._config.cacheLimit });
  }
  return Object.defineProperty(e3.prototype, "version", { get: function() {
    return this._version;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "state", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "store", { get: function() {
    return this._store;
  }, enumerable: false, configurable: true }), e3.prototype.estimateUsage = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, (t6 = this._store, r(void 0, void 0, void 0, function() {
              return o(this, function(e5) {
                switch (e5.label) {
                  case 0:
                    return [4, t6.usage()];
                  case 1:
                    return [2, e5.sent()];
                }
              });
            }))];
          case 1:
            return [2, e4.sent()];
        }
        var t6;
      });
    });
  }, e3.prototype.commitSchema = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6 = this;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this._state !== Yi2.OPENING ? [3, 2] : [4, Promise.all(e4.map(function(e5) {
              return r(t6, void 0, void 0, function() {
                var t7, n4, r3, i3, s4;
                return o(this, function(a3) {
                  switch (a3.label) {
                    case 0:
                      return t7 = e5.collectionName, n4 = e5.keyName, r3 = e5.index, i3 = void 0 === r3 ? [] : r3, this._collections.has(t7) || this._collections.set(t7, new Fi2({ dbname: this.name, collectionName: t7, keyName: n4, indexes: i3, store: this._store })), (s4 = this._collections.get(t7)) ? [4, s4.init()] : [3, 2];
                    case 1:
                      a3.sent(), a3.label = 2;
                    case 2:
                      return [2];
                  }
                });
              });
            }))];
          case 1:
            return n3.sent(), [3, 3];
          case 2:
            throw ei2.databaseSchemaNotOnUpgrade;
          case 3:
            return [2];
        }
      });
    });
  }, e3.prototype.open = function() {
    var e4;
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, i3, s4 = this;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return [4, this._globalMutex.lock()];
          case 1:
            if (a3.sent(), this._state === Yi2.OPENED)
              return [3, 12];
            this._state = Yi2.OPENING, a3.label = 2;
          case 2:
            return a3.trys.push([2, 5, , 12]), [4, this._store.init(this.name)];
          case 3:
            return a3.sent(), o3 = this.name, t6 = "".concat(yi2(o3), ".metadata"), n3 = { version: 0, collectionNames: [] }, [4, this._store.get(t6)];
          case 4:
            return r3 = null !== (e4 = a3.sent()) && void 0 !== e4 ? e4 : n3, [2, new Promise(function(e5, n4) {
              var i4 = function(e6) {
                r3.version < s4._version ? s4._event.upgrade(r3.version, function(n5) {
                  return r(s4, void 0, void 0, function() {
                    var i5;
                    return o(this, function(s5) {
                      switch (s5.label) {
                        case 0:
                          if (n5)
                            return [3, 5];
                          r3.version++, r3.collectionNames = Array.from(this._collections.keys()), s5.label = 1;
                        case 1:
                          return s5.trys.push([1, 3, , 4]), [4, this._store.set({ key: t6, value: r3 })];
                        case 2:
                          return s5.sent(), e6({ continued: true }), [3, 4];
                        case 3:
                          return i5 = s5.sent(), e6({ continued: false, err: i5 }), [3, 4];
                        case 4:
                          return [3, 6];
                        case 5:
                          e6({ continued: false, err: n5 }), s5.label = 6;
                        case 6:
                          return [2];
                      }
                    });
                  });
                }) : e6({ continued: false });
              }, a4 = function(t7) {
                var o4 = t7.continued, u3 = void 0 !== o4 && o4, c3 = t7.err, l3 = void 0 === c3 ? null : c3;
                if (u3)
                  setTimeout(function() {
                    return i4(a4);
                  }, 10);
                else if (l3)
                  Bi2.error(l3.message), s4._globalMutex.unlock(), s4._event.error(l3), n4(l3);
                else {
                  var d3 = [];
                  r3.collectionNames.forEach(function(e6) {
                    var t8 = s4._collections.get(e6);
                    t8 && t8.state === $r2.READY || d3.push(r(s4, void 0, void 0, function() {
                      var t9, n5;
                      return o(this, function(r4) {
                        switch (r4.label) {
                          case 0:
                            return [4, Fi2.metadataOf(this.name, e6, this._store)];
                          case 1:
                            return (t9 = r4.sent()) ? (n5 = new Fi2({ dbname: this.name, collectionName: e6, keyName: t9.keyName, indexes: t9.indexes, store: this._store }), this._collections.set(e6, n5), [4, n5.init()]) : [3, 3];
                          case 2:
                            r4.sent(), r4.label = 3;
                          case 3:
                            return [2];
                        }
                      });
                    }));
                  }), Promise.all(d3).then(function() {
                    s4._state = Yi2.OPENED, s4._globalMutex.unlock(), s4._event.success(), e5();
                  }).catch(function(e6) {
                    Bi2.error(e6.message), s4._globalMutex.unlock(), s4._event.error(e6), n4(e6);
                  });
                }
              };
              i4(a4);
            })];
          case 5:
            switch (i3 = a3.sent(), i3.code) {
              case Lr2.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:
                return [3, 6];
              case Lr2.STORE_NOT_AVAILABLE:
                return [3, 8];
            }
            return [3, 10];
          case 6:
            return Bi2.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."), this._store = new Gi2({}), this._globalMutex.unlock(), this._event.error(i3), this._event.storeReplaced(this._store), [4, this.open()];
          case 7:
            return a3.sent(), [3, 11];
          case 8:
            return Bi2.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."), this._store = new Gi2({}), this._globalMutex.unlock(), this._event.error(i3), this._event.storeReplaced(this._store), [4, this.open()];
          case 9:
            return a3.sent(), [3, 11];
          case 10:
            throw Bi2.error(i3.message), this._globalMutex.unlock(), this._event.error(i3), i3;
          case 11:
            return [3, 12];
          case 12:
            return [2];
        }
        var o3;
      });
    });
  }, e3.prototype.close = function() {
    this._collections.forEach(function(e4) {
      return e4.close();
    }), this._state = Yi2.CLOSED;
  }, e3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, Promise.all(Array.from(this._collections.values()).map(function(e5) {
              return e5.clear();
            }))];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, e3.prototype.reset = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6 = this;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this.close(), (e4 = Ai2.get(this.name)) && e4.clearByCondition(function(e5) {
              return e5.key.startsWith(yi2(t6.name));
            }), [4, this._store.clear()];
          case 1:
            return n3.sent(), [2];
        }
      });
    });
  }, e3.prototype.on = function(e4, t6) {
    this._event[e4] = t6;
  }, e3.prototype.off = function(e4) {
    if ("function" == typeof this._event[e4])
      if ("upgrade" === e4)
        this._event[e4] = li2;
      else
        this._event[e4] = oi2;
  }, e3.prototype.collection = function(e4) {
    var t6 = this._collections.get(e4);
    if (t6)
      return t6;
    throw ei2.collectionNotReady;
  }, e3;
}();
var Zi2 = function() {
  function e3() {
    this.messageTypeFilter = G.ALL, this.customTypesFilter = null, this.senderUserIdsFilter = null, this.replyType = K.NONE;
  }
  return e3.prototype.clone = function() {
    var t6 = new e3(), n3 = JSON.parse(JSON.stringify(this));
    return Object.keys(n3).forEach(function(e4) {
      t6[e4] = n3[e4];
    }), t6;
  }, e3.prototype.match = function(e4) {
    switch (this.messageTypeFilter) {
      case G.USER:
        if (e4.messageType !== H.USER)
          return false;
        break;
      case G.FILE:
        if (e4.messageType !== H.FILE)
          return false;
        break;
      case G.ADMIN:
        if (e4.messageType !== H.ADMIN)
          return false;
    }
    if (this.customTypesFilter && this.customTypesFilter.length > 0 && !this.customTypesFilter.includes("*") && !this.customTypesFilter.includes(e4.customType))
      return false;
    if (this.senderUserIdsFilter && this.senderUserIdsFilter.length > 0) {
      if (!(e4 instanceof Be2))
        return false;
      if (!this.senderUserIdsFilter.includes(e4.sender.userId))
        return false;
    }
    if (e4 instanceof ze2)
      switch (this.replyType) {
        case K.NONE:
          if (e4.parentMessageId > 0)
            return false;
          break;
        case K.ONLY_REPLY_TO_CHANNEL:
          if (e4 instanceof Be2 && e4.parentMessageId > 0 && !e4.replyToChannel)
            return false;
      }
    return true;
  }, e3;
}();
!function(e3) {
  e3.CHANNEL_LATEST = "channel_latest", e3.NEWEST_CHILD_MESSAGE = "newest_child_message";
}(Ji2 || (Ji2 = {}));
var $i2;
var es2 = function(e3) {
  switch (e3) {
    case Ji2.CHANNEL_LATEST:
      return ["channelUrl", "-createdAt", "-messageId"];
    case Ji2.NEWEST_CHILD_MESSAGE:
      return ["channelUrl", "-parentMessageId", "-createdAt", "-messageId"];
  }
};
var ts2 = function() {
  return ["channelUrl", "-createdAt", "-notificationId"];
};
var ns2 = n(n({}, Ut2), { scheduledAt: void 0 });
var rs2 = function(e3) {
  return kt2(e3) && w("number", e3.scheduledAt, true);
};
var is2 = n(n({}, Mt2), { scheduledAt: 0, file: void 0, fileUrl: void 0, fileName: void 0, mimeType: void 0, fileSize: void 0, thumbnailSizes: void 0, requireAuth: false });
var ss2 = function(e3) {
  return At2(e3) && w("number", e3.scheduledAt) && (k(e3.file) || w("string", e3.fileUrl)) && w("string", e3.fileName, true) && w("string", e3.mimeType, true) && w("number", e3.fileSize, true) && (null === e3.thumbnailSizes || void 0 === e3.thumbnailSizes || e3.thumbnailSizes.every(function(e4) {
    return w("object", e4) && e4.maxWidth > 0 && e4.maxHeight > 0;
  }));
};
var as2 = "UnsentMessage";
var os2 = "reqId";
var us2 = {};
var cs2 = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this, e3) || this;
    return n4._mutex = new Li2("unsendmessagecache.lock"), us2[e3] = n4, n4;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "_cacheContext", { get: function() {
    return So.of(this._iid).cacheContext;
  }, enumerable: false, configurable: true }), n3.of = function(e3, t7) {
    return void 0 === t7 && (t7 = false), us2[e3] && !t7 || (us2[e3] = new n3(e3)), us2[e3];
  }, Object.defineProperty(n3.prototype, "collection", { get: function() {
    var e3 = this._cacheContext.nestdb, t7 = null == e3 ? void 0 : e3.collection(as2);
    if (!t7)
      throw g.databaseError;
    return t7;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "localCacheEnabled", { get: function() {
    return this._cacheContext.localCacheEnabled && !!this.collection;
  }, enumerable: false, configurable: true }), n3.prototype._serialize = function(e3) {
    if (e3.messageId > 0)
      throw g.invalidParameters;
    var t7, n4 = n({}, e3.serialize());
    return e3 instanceof We2 ? (e3.messageParams && (n4.messageParams = Nt2(e3.messageParams)), e3.scheduledInfo && e3.scheduledInfo.scheduledMessageParams && (n4.scheduledInfo.scheduledMessageParams = (t7 = e3.scheduledInfo.scheduledMessageParams, n(n({}, Nt2(t7)), { scheduledAt: t7.scheduledAt })))) : e3 instanceof et2 ? (e3.messageParams && (n4.messageParams = Dt2(e3.messageParams)), e3.scheduledInfo && e3.scheduledInfo.scheduledMessageParams && (n4.scheduledInfo.scheduledMessageParams = function(e4) {
      return n(n({}, Dt2(e4)), { scheduledAt: e4.scheduledAt });
    }(e3.scheduledInfo.scheduledMessageParams))) : e3 instanceof Je2 && e3.messageParams && (n4.messageParams = function(e4) {
      return te({ fileInfoList: e4.fileInfoList, isReplyToChannel: e4.isReplyToChannel, pushNotificationDeliveryOption: e4.pushNotificationDeliveryOption });
    }(e3.messageParams)), n4;
  }, n3.prototype._deserialize = function(e3) {
    return e3 = n(n({}, e3), { messageId: parseInt(e3.messageId) }), ys.of(this._iid).buildMessageFromSerializedData(e3);
  }, n3.prototype._deserializeWithMessageCreateParams = function(e3) {
    var t7, n4, r3;
    return r(this, void 0, void 0, function() {
      var i3, s4, a3, o3, u3, c3, l3 = this;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return i3 = ys.of(this._iid), s4 = this._deserialize(e3), e3.messageParams ? s4 instanceof We2 ? (o3 = e3.messageParams, s4.messageParams = i3.buildUserMessageCreateParamsFromSerializedData(o3, s4), [3, 6]) : [3, 1] : [3, 6];
          case 1:
            return s4 instanceof et2 ? (o3 = e3.messageParams).fileKey && "string" == typeof o3.fileKey && xt2(null !== (t7 = o3.fileType) && void 0 !== t7 ? t7 : "") ? (a3 = o3, [4, this.collection.getBlob(o3.fileKey)]) : [3, 3] : [3, 4];
          case 2:
            a3.file = null !== (n4 = d3.sent()) && void 0 !== n4 ? n4 : void 0, d3.label = 3;
          case 3:
            return s4.messageParams = i3.buildFileMessageCreateParamsFromSerializedData(o3, s4), [3, 6];
          case 4:
            return s4 instanceof Je2 && ((o3 = e3.messageParams) && o3.fileInfoList) ? (s4.messageParams = i3.buildMultipleFilesMessageCreateParamsFromSerializedData(o3, s4), [4, Promise.all(s4.messageParams.fileInfoList.map(function(e4) {
              return r(l3, void 0, void 0, function() {
                var t8, n5, r4, i4, s5;
                return o(this, function(a4) {
                  switch (a4.label) {
                    case 0:
                      return "string" == typeof (null === (n5 = e4._uploadedMetaData) || void 0 === n5 ? void 0 : n5.fileKey) && xt2(null !== (i4 = null === (r4 = e4._uploadedMetaData) || void 0 === r4 ? void 0 : r4.fileType) && void 0 !== i4 ? i4 : "") ? (t8 = e4, [4, this.collection.getBlob(e4._uploadedMetaData.fileKey)]) : [3, 2];
                    case 1:
                      t8.file = null !== (s5 = a4.sent()) && void 0 !== s5 ? s5 : void 0, a4.label = 2;
                    case 2:
                      return [2];
                  }
                });
              });
            }))]) : [3, 6];
          case 5:
            d3.sent(), d3.label = 6;
          case 6:
            return s4.scheduledInfo && e3.scheduledInfo && e3.scheduledInfo.scheduledMessageParams ? s4 instanceof We2 ? (u3 = e3.scheduledInfo.scheduledMessageParams, s4.scheduledInfo.scheduledMessageParams = i3.buildScheduledUserMessageCreateParamsFromSerializedData(u3, s4), [3, 10]) : [3, 7] : [3, 10];
          case 7:
            return s4 instanceof et2 ? (u3 = e3.scheduledInfo.scheduledMessageParams).fileKey && "string" == typeof u3.fileKey && "string" == typeof u3.fileType && xt2(u3.fileType) ? (c3 = u3, [4, this.collection.getBlob(u3.fileKey)]) : [3, 9] : [3, 10];
          case 8:
            c3.file = null !== (r3 = d3.sent()) && void 0 !== r3 ? r3 : void 0, d3.label = 9;
          case 9:
            s4.scheduledInfo.scheduledMessageParams = i3.buildScheduledFileMessageCreateParamsFromSerializedData(u3, s4), d3.label = 10;
          case 10:
            return [2, s4];
        }
      });
    });
  }, n3.prototype._getFileInfoBlobKey = function(e3, t7) {
    return "".concat(e3, ".").concat(t7);
  }, n3.prototype.get = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.getByKey("".concat(e3))] : [3, 2];
          case 1:
            if (t7 = n4.sent())
              return [2, this._deserializeWithMessageCreateParams(t7)];
            n4.label = 2;
          case 2:
            return [2, void 0];
        }
      });
    });
  }, n3.prototype.fetch = function(e3) {
    var t7 = e3.channelUrl, n4 = e3.filter, r3 = void 0 === n4 ? new Zi2() : n4, i3 = e3.order, s4 = void 0 === i3 ? Ji2.CHANNEL_LATEST : i3, a3 = e3.sendingStatus, o3 = e3.backward, u3 = void 0 !== o3 && o3, c3 = e3.parentMessageId;
    return r(this, void 0, void 0, function() {
      var e4, n5, i4, o4, l3 = this;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return this.localCacheEnabled ? (e4 = es2(s4), n5 = { "/where": function(e5) {
              return !!(s4 !== Ji2.NEWEST_CHILD_MESSAGE || c3 && 0 !== e5.parentMessageId && e5.parentMessageId === c3) && r3.match(l3._deserialize(e5));
            } }, t7 && (n5.channelUrl = t7), a3 && (n5.sendingStatus = a3), i4 = { where: n5, index: e4, backward: u3 }, [4, this.collection.query(i4)]) : [3, 3];
          case 1:
            return [4, d3.sent().fetch({})];
          case 2:
            return o4 = d3.sent(), [2, Promise.all(o4.map(function(e5) {
              return r(l3, void 0, void 0, function() {
                return o(this, function(t8) {
                  switch (t8.label) {
                    case 0:
                      return [4, this._deserializeWithMessageCreateParams(e5)];
                    case 1:
                      return [2, t8.sent()];
                  }
                });
              });
            }))];
          case 3:
            return [2, []];
        }
      });
    });
  }, n3.prototype.getAllChildMessages = function(e3, t7) {
    return void 0 === t7 && (t7 = new Zi2()), r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this.fetch({ filter: t7, order: Ji2.NEWEST_CHILD_MESSAGE, channelUrl: e3.channelUrl, backward: false, parentMessageId: e3.messageId })];
          case 1:
            return [2, n4.sent()];
        }
      });
    });
  }, n3.prototype.upsert = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, Promise.all(e3.map(function(e4) {
              return r(t7, void 0, void 0, function() {
                var t8;
                return o(this, function(n5) {
                  switch (n5.label) {
                    case 0:
                      return e4 instanceof et2 || e4 instanceof Je2 ? [4, this._mutex.lock()] : [3, 4];
                    case 1:
                      return n5.sent(), [4, this.saveBlob(e4)];
                    case 2:
                      return n5.sent(), [4, this._mutex.unlock()];
                    case 3:
                      n5.sent(), n5.label = 4;
                    case 4:
                      return t8 = this._serialize(e4), [4, this.collection.upsertOne(t8)];
                    case 5:
                      return n5.sent(), [2];
                  }
                });
              });
            }))] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.upsertChildMessages = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, Promise.all(e3.map(function(e4) {
              return r(t7, void 0, void 0, function() {
                var t8;
                return o(this, function(n5) {
                  switch (n5.label) {
                    case 0:
                      return t8 = [], e4.threadInfo && e4.threadInfo.replyCount > 0 ? [4, this.getAllChildMessages(e4)] : [3, 2];
                    case 1:
                      t8 = n5.sent(), n5.label = 2;
                    case 2:
                      return t8.length > 0 ? (t8.forEach(function(t9) {
                        return t9.applyParentMessage(e4);
                      }), [4, this.upsert(t8)]) : [3, 4];
                    case 3:
                      n5.sent(), n5.label = 4;
                    case 4:
                      return [2];
                  }
                });
              });
            }))] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.remove = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (!this.localCacheEnabled)
              return [3, 8];
            o3.label = 1;
          case 1:
            o3.trys.push([1, 6, 7, 8]), t7 = s(e3), n4 = t7.next(), o3.label = 2;
          case 2:
            return n4.done ? [3, 5] : (r3 = n4.value, [4, this.collection.remove(r3)]);
          case 3:
            o3.sent(), o3.label = 4;
          case 4:
            return n4 = t7.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return i3 = o3.sent(), s4 = { error: i3 }, [3, 8];
          case 7:
            try {
              n4 && !n4.done && (a3 = t7.return) && a3.call(t7);
            } finally {
              if (s4)
                throw s4.error;
            }
            return [7];
          case 8:
            return [2];
        }
      });
    });
  }, n3.prototype.removeMessagesOfChannel = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.removeIf({ where: { channelUrl: e3 } })] : [3, 2];
          case 1:
            t7.sent(), t7.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.clear()] : [3, 2];
          case 1:
            e3.sent(), e3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.saveBlob = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3 = this;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return e3 instanceof et2 ? e3.messageParams && (r3 = e3.messageParams).file && Rt2(r3.file) ? [4, this.collection.saveBlob(r3.file, e3.reqId)] : [3, 2] : [3, 5];
          case 1:
            n4 = s4.sent(), r3.fileKey = n4, r3.fileType = Ot2.BLOB, s4.label = 2;
          case 2:
            return e3.scheduledInfo && e3.scheduledInfo.scheduledMessageParams && ((t7 = e3.scheduledInfo.scheduledMessageParams).file && Rt2(t7.file)) ? [4, this.collection.saveBlob(t7.file, e3.reqId)] : [3, 4];
          case 3:
            n4 = s4.sent(), t7.fileKey = n4, t7.fileType = Ot2.BLOB, s4.label = 4;
          case 4:
            return [3, 7];
          case 5:
            return e3 instanceof Je2 && ((r3 = e3.messageParams) && r3.fileInfoList && Array.isArray(r3.fileInfoList)) ? [4, Promise.all(r3.fileInfoList.map(function(t8, n5) {
              return r(i3, void 0, void 0, function() {
                var r4;
                return o(this, function(i4) {
                  switch (i4.label) {
                    case 0:
                      return t8.file && Rt2(t8.file) ? [4, this.collection.saveBlob(t8.file, this._getFileInfoBlobKey(e3.reqId, n5))] : [3, 2];
                    case 1:
                      r4 = i4.sent(), t8._uploadedMetaData || (t8._uploadedMetaData = {}), t8._uploadedMetaData.fileKey = r4, t8._uploadedMetaData.fileType = Ot2.BLOB, i4.label = 2;
                    case 2:
                      return [2];
                  }
                });
              });
            }))] : [3, 7];
          case 6:
            s4.sent(), s4.label = 7;
          case 7:
            return [2];
        }
      });
    });
  }, n3;
}(Ar);
var ls2 = {};
var ds = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this, e3) || this;
    return ls2[e3] = n4, n4;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "_sdkState", { get: function() {
    return So.of(this._iid).sdkState;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_cacheContext", { get: function() {
    return So.of(this._iid).cacheContext;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_unsentMessageCache", { get: function() {
    return cs2.of(this._iid);
  }, enumerable: false, configurable: true }), n3.of = function(e3, t7) {
    return void 0 === t7 && (t7 = false), ls2[e3] && !t7 || (ls2[e3] = new n3(e3)), ls2[e3];
  }, Object.defineProperty(n3.prototype, "collection", { get: function() {
    var e3 = this._cacheContext.nestdb;
    return Pr(!!e3).throw(g.databaseError), e3.collection(Ir2);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "localCacheEnabled", { get: function() {
    return this._cacheContext.localCacheEnabled && !!this.collection;
  }, enumerable: false, configurable: true }), n3.prototype._serialize = function(e3) {
    return n(n({}, e3.serialize()), { messageId: "".concat(e3.messageId) });
  }, n3.prototype._deserialize = function(e3) {
    return e3 = n(n({}, e3), { messageId: parseInt(e3.messageId) }), ys.of(this._iid).buildMessageFromSerializedData(e3);
  }, n3.prototype.get = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.getByKey("".concat(e3))] : [3, 2];
          case 1:
            if (t7 = n4.sent())
              return [2, this._deserialize(t7)];
            n4.label = 2;
          case 2:
            return [2, void 0];
        }
      });
    });
  }, n3.prototype.fetch = function(e3) {
    var t7 = e3.channelUrl, n4 = e3.token, r3 = e3.limit, i3 = void 0 === r3 ? 100 : r3, s4 = e3.filter, a3 = void 0 === s4 ? new Zi2() : s4, o3 = e3.order, u3 = void 0 === o3 ? Ji2.CHANNEL_LATEST : o3, c3 = e3.backward, l3 = void 0 !== c3 && c3, d3 = e3.parentMessageId, h3 = e3.isPollOnly, f4 = void 0 !== h3 && h3, p5 = e3.exactMatch, m4 = void 0 !== p5 && p5, v5 = e3.inclusive, y3 = void 0 === v5 || v5;
    return r(this, void 0, void 0, function() {
      var e4, r4, s5, o4 = this;
      return o(this, function(c4) {
        switch (c4.label) {
          case 0:
            return this.localCacheEnabled ? (e4 = es2(u3), r4 = { where: { channelUrl: t7, "/where": function(e5) {
              if (n4)
                switch (u3) {
                  case Ji2.CHANNEL_LATEST:
                    if (m4 && e5.createdAt !== n4)
                      return false;
                    if (l3) {
                      if (y3 && e5.createdAt < n4 || !y3 && e5.createdAt <= n4)
                        return false;
                    } else if (y3 && e5.createdAt > n4 || !y3 && e5.createdAt >= n4)
                      return false;
                    break;
                  case Ji2.NEWEST_CHILD_MESSAGE:
                    if (!d3 || 0 === e5.parentMessageId || e5.parentMessageId !== d3)
                      return false;
                }
              return !(f4 && !e5._poll) && a3.match(o4._deserialize(e5));
            } }, index: e4, backward: l3 }, [4, this.collection.query(r4)]) : [3, 3];
          case 1:
            return [4, c4.sent().fetch({ limit: null != i3 ? i3 : void 0 })];
          case 2:
            return s5 = c4.sent(), [2, Promise.all(s5.map(function(e5) {
              return r(o4, void 0, void 0, function() {
                return o(this, function(t8) {
                  return [2, this._deserialize(e5)];
                });
              });
            }))];
          case 3:
            return [2, []];
        }
      });
    });
  }, n3.prototype.getAllChildMessages = function(e3, t7) {
    return void 0 === t7 && (t7 = new Zi2()), r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this.fetch({ channelUrl: e3.channelUrl, token: Date.now(), limit: null, backward: false, filter: t7, order: Ji2.NEWEST_CHILD_MESSAGE, parentMessageId: e3.messageId })];
          case 1:
            return [2, n4.sent()];
        }
      });
    });
  }, n3.prototype.upsert = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.saveBlobs(e3)] : [3, 5];
          case 1:
            return r3.sent(), t7 = e3.map(function(e4) {
              return n4._serialize(e4);
            }), [4, this.collection.upsertMany(t7)];
          case 2:
            return r3.sent(), [4, this.upsertChildMessages(e3)];
          case 3:
            return r3.sent(), [4, this._unsentMessageCache.upsertChildMessages(e3)];
          case 4:
            r3.sent(), r3.label = 5;
          case 5:
            return [2];
        }
      });
    });
  }, n3.prototype.upsertChildMessages = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, Promise.all(e3.map(function(e4) {
              return r(t7, void 0, void 0, function() {
                var t8, n5;
                return o(this, function(r3) {
                  switch (r3.label) {
                    case 0:
                      return t8 = [], (null === (n5 = e4.threadInfo) || void 0 === n5 ? void 0 : n5.replyCount) && e4.threadInfo.replyCount > 0 ? [4, this.getAllChildMessages(e4)] : [3, 2];
                    case 1:
                      t8 = r3.sent(), r3.label = 2;
                    case 2:
                      return t8.length > 0 ? (t8.forEach(function(t9) {
                        return t9.applyParentMessage(e4);
                      }), [4, this.upsert(t8)]) : [3, 4];
                    case 3:
                      r3.sent(), r3.label = 4;
                    case 4:
                      return [2];
                  }
                });
              });
            }))] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.remove = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (!this.localCacheEnabled)
              return [3, 8];
            o3.label = 1;
          case 1:
            o3.trys.push([1, 6, 7, 8]), t7 = s(e3), n4 = t7.next(), o3.label = 2;
          case 2:
            return n4.done ? [3, 5] : (r3 = n4.value, [4, this.collection.remove("".concat(r3))]);
          case 3:
            o3.sent(), o3.label = 4;
          case 4:
            return n4 = t7.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return i3 = o3.sent(), s4 = { error: i3 }, [3, 8];
          case 7:
            try {
              n4 && !n4.done && (a3 = t7.return) && a3.call(t7);
            } finally {
              if (s4)
                throw s4.error;
            }
            return [7];
          case 8:
            return [2];
        }
      });
    });
  }, n3.prototype.removeMessagesOfChannel = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.removeIf({ where: { channelUrl: e3 }, index: es2(Ji2.CHANNEL_LATEST) })] : [3, 6];
          case 1:
            return n4.sent(), [4, (t7 = this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync"))];
          case 2:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync.meta"))];
          case 3:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs"))];
          case 4:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs.meta"))];
          case 5:
            n4.sent(), n4.label = 6;
          case 6:
            return [2];
        }
      });
    });
  }, n3.prototype.removeUnderOffset = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.removeIf({ where: { channelUrl: e3, createdAt: { "<": t7 } }, index: es2(Ji2.CHANNEL_LATEST) })] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.clear()] : [3, 2];
          case 1:
            e3.sent(), e3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.countBetween = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3 = this;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return this.localCacheEnabled ? (r3 = es2(Ji2.CHANNEL_LATEST), [4, this.collection.query({ where: { channelUrl: e3, "/where": function(e4) {
              var r4 = i3._deserialize(e4);
              return n4.includes(r4.createdAt) && t7.match(r4);
            } }, index: r3 }).count()]) : [3, 2];
          case 1:
            return [2, s4.sent()];
          case 2:
            return [2, 0];
        }
      });
    });
  }, n3.prototype.saveBlobs = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, Promise.all(e3.map(function(e4) {
              return r(t7, void 0, void 0, function() {
                var t8, n5;
                return o(this, function(r3) {
                  switch (r3.label) {
                    case 0:
                      return e4 instanceof et2 && e4.messageParams && ((t8 = e4.messageParams).file && Rt2(t8.file)) ? [4, this.collection.saveBlob(t8.file, e4.reqId)] : [3, 2];
                    case 1:
                      n5 = r3.sent(), t8.fileKey = n5, r3.label = 2;
                    case 2:
                      return [2];
                  }
                });
              });
            }))];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype._getGroupChannelPreferenceSize = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return t7 = 0, [4, (n4 = this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync"))];
          case 1:
            return r3 = o3.sent(), [4, n4.get("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync.meta"))];
          case 2:
            return i3 = o3.sent(), [4, n4.get("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs"))];
          case 3:
            return s4 = o3.sent(), [4, n4.get("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs.meta"))];
          case 4:
            return a3 = o3.sent(), r3 && (t7 += JSON.stringify(r3).length), i3 && (t7 += JSON.stringify(i3).length), s4 && (t7 += JSON.stringify(s4).length), a3 && (t7 += JSON.stringify(a3).length), [2, t7];
        }
      });
    });
  }, n3;
}(Ar);
var hs2 = {};
var fs = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this, e3) || this;
    return hs2[e3] = n4, n4;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "_sdkState", { get: function() {
    return So.of(this._iid).sdkState;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_cacheContext", { get: function() {
    return So.of(this._iid).cacheContext;
  }, enumerable: false, configurable: true }), n3.of = function(e3, t7) {
    return void 0 === t7 && (t7 = false), hs2[e3] && !t7 || (hs2[e3] = new n3(e3)), hs2[e3];
  }, Object.defineProperty(n3.prototype, "collection", { get: function() {
    var e3 = this._cacheContext.nestdb;
    return Pr(!!e3).throw(g.databaseError), e3.collection(Tr2);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "localCacheEnabled", { get: function() {
    return this._cacheContext.localCacheEnabled && !!this.collection;
  }, enumerable: false, configurable: true }), n3.prototype._serialize = function(e3) {
    return n({}, e3.serialize());
  }, n3.prototype._deserialize = function(e3) {
    return ys.of(this._iid).buildMessageFromSerializedData(e3);
  }, n3.prototype.get = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.getByKey(e3)] : [3, 2];
          case 1:
            if (t7 = n4.sent())
              return [2, this._deserialize(t7)];
            n4.label = 2;
          case 2:
            return [2, void 0];
        }
      });
    });
  }, n3.prototype.fetch = function(e3) {
    var t7 = e3.channelUrl, n4 = e3.token, r3 = e3.limit, i3 = void 0 === r3 ? 100 : r3, s4 = e3.filter, a3 = void 0 === s4 ? new Zi2() : s4, o3 = e3.backward, u3 = void 0 !== o3 && o3, c3 = e3.exactMatch, l3 = void 0 !== c3 && c3, d3 = e3.inclusive, h3 = void 0 === d3 || d3;
    return r(this, void 0, void 0, function() {
      var e4, r4 = this;
      return o(this, function(s5) {
        switch (s5.label) {
          case 0:
            return this.localCacheEnabled ? (e4 = { where: { channelUrl: t7, "/where": function(e5) {
              if (n4) {
                if (l3 && e5.createdAt !== n4)
                  return false;
                if (u3) {
                  if (h3 && e5.createdAt < n4 || !h3 && e5.createdAt <= n4)
                    return false;
                } else if (h3 && e5.createdAt > n4 || !h3 && e5.createdAt >= n4)
                  return false;
              }
              return a3.match(r4._deserialize(e5));
            } }, index: ["channelUrl", "-createdAt", "-notificationId"], backward: u3 }, [4, this.collection.query(e4)]) : [3, 3];
          case 1:
            return [4, s5.sent().fetch({ limit: null != i3 ? i3 : void 0 })];
          case 2:
            return [2, s5.sent().map(function(e5) {
              return r4._deserialize(e5);
            })];
          case 3:
            return [2, []];
        }
      });
    });
  }, n3.prototype.upsert = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4 = this;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this.localCacheEnabled ? (t7 = e3.map(function(e4) {
              return n4._serialize(e4);
            }), [4, this.collection.upsertMany(t7)]) : [3, 2];
          case 1:
            r3.sent(), r3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.remove = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, r3, i3, s4, a3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (!this.localCacheEnabled)
              return [3, 8];
            o3.label = 1;
          case 1:
            o3.trys.push([1, 6, 7, 8]), t7 = s(e3), n4 = t7.next(), o3.label = 2;
          case 2:
            return n4.done ? [3, 5] : (r3 = n4.value, [4, this.collection.remove(r3)]);
          case 3:
            o3.sent(), o3.label = 4;
          case 4:
            return n4 = t7.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return i3 = o3.sent(), s4 = { error: i3 }, [3, 8];
          case 7:
            try {
              n4 && !n4.done && (a3 = t7.return) && a3.call(t7);
            } finally {
              if (s4)
                throw s4.error;
            }
            return [7];
          case 8:
            return [2];
        }
      });
    });
  }, n3.prototype.markAsReadByTimestamp = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.updateIf({ where: { channelUrl: e3, messageStatus: qe2.SENT, createdAt: { "<": t7 } } }, { set: { messageStatus: qe2.READ } })] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.markAsReadByMessageIds = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.updateIf({ where: { channelUrl: e3, notificationId: { "/in": t7 }, messageStatus: qe2.SENT } }, { set: { messageStatus: qe2.READ } })] : [3, 2];
          case 1:
            return [2, n4.sent().length];
          case 2:
            return [2, 0];
        }
      });
    });
  }, n3.prototype.removeMessagesOfChannel = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.removeIf({ where: { channelUrl: e3 }, index: ["channelUrl", "-createdAt", "-notificationId"] })] : [3, 6];
          case 1:
            return n4.sent(), [4, (t7 = this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync"))];
          case 2:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/sync.meta"))];
          case 3:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs"))];
          case 4:
            return n4.sent(), [4, t7.remove("sendbird:".concat(this._sdkState.userId, "@groupchannel/").concat(e3, "/message/changelogs.meta"))];
          case 5:
            n4.sent(), n4.label = 6;
          case 6:
            return [2];
        }
      });
    });
  }, n3.prototype.removeUnderOffset = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.removeIf({ where: { channelUrl: e3, createdAt: { "<": t7 } }, index: es2(Ji2.CHANNEL_LATEST) })] : [3, 2];
          case 1:
            n4.sent(), n4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return this.localCacheEnabled ? [4, this.collection.clear()] : [3, 2];
          case 1:
            e3.sent(), e3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.countBetween = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var r3, i3 = this;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return this.localCacheEnabled ? (r3 = ["channelUrl", "-createdAt", "-notificationId"], [4, this.collection.query({ where: { channelUrl: e3, "/where": function(e4) {
              var r4 = i3._deserialize(e4);
              return n4.includes(r4.createdAt) && t7.match(r4);
            } }, index: r3 }).count()]) : [3, 2];
          case 1:
            return [2, s4.sent()];
          case 2:
            return [2, 0];
        }
      });
    });
  }, n3;
}(Ar);
var ps = {};
var ms = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this, e3) || this;
    return n4._observers = /* @__PURE__ */ new Map(), n4._dispatcherContext = n4._dispatcher.on(function(e4) {
      return r(n4, void 0, void 0, function() {
        var t7, n5, r3, i3, s4, a3, o3, u3, c3, l3, d3, h3, f4, p5, m4, v5, y3, _2 = this;
        return o(this, function(g4) {
          switch (g4.label) {
            case 0:
              return e4 instanceof Uo ? (t7 = e4.messages, v5 = e4.source, a3 = e4.isWebSocketEventComing, n5 = t7.filter(function(e5) {
                return e5 instanceof ze2 && e5.messageId > 0;
              }), r3 = t7.filter(function(e5) {
                return e5 instanceof ze2 && 0 === e5.messageId;
              }), i3 = t7.filter(function(e5) {
                return e5 instanceof Xe2;
              }), n5.length > 0 ? [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._messageCache.upsert(n5)];
                      case 1:
                        return e5.sent(), [4, this._unsentMessageCache.remove(n5.map(function(e6) {
                          return e6 instanceof Be2 ? e6.reqId : null;
                        }).filter(function(e6) {
                          return null !== e6;
                        }))];
                      case 2:
                        return e5.sent(), [2];
                    }
                  });
                });
              })] : [3, 2]) : [3, 7];
            case 1:
              g4.sent(), a3 || this._broadcastUpdateEvent(n5, v5), g4.label = 2;
            case 2:
              return r3.length > 0 ? [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._unsentMessageCache.upsert(r3)];
                      case 1:
                        return e5.sent(), [2];
                    }
                  });
                });
              })] : [3, 4];
            case 3:
              g4.sent(), a3 || this._broadcastUpdateEvent(r3, v5), g4.label = 4;
            case 4:
              return i3.length > 0 ? [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._notificationCache.upsert(i3)];
                      case 1:
                        return e5.sent(), [2];
                    }
                  });
                });
              })] : [3, 6];
            case 5:
              g4.sent(), a3 || this._broadcastUpdateEvent(i3, v5), g4.label = 6;
            case 6:
              return [3, 23];
            case 7:
              return e4 instanceof Po ? (s4 = e4.messageIds, v5 = e4.source, a3 = e4.isWebSocketEventComing, o3 = s4.filter(function(e5) {
                return "number" == typeof e5;
              }), u3 = s4.filter(function(e5) {
                return "string" == typeof e5;
              }), [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return o3.length > 0 ? [4, this._messageCache.remove(o3)] : [3, 2];
                      case 1:
                        e5.sent(), e5.label = 2;
                      case 2:
                        return u3.length > 0 ? [4, this._notificationCache.remove(u3)] : [3, 4];
                      case 3:
                        e5.sent(), e5.label = 4;
                      case 4:
                        return [2];
                    }
                  });
                });
              })]) : [3, 9];
            case 8:
              return g4.sent(), a3 || this._broadcastRemoveEvent(s4, v5), [3, 23];
            case 9:
              return e4 instanceof Mo ? (c3 = e4.reqId, v5 = e4.source, [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._unsentMessageCache.remove([c3])];
                      case 1:
                        return e5.sent(), [2];
                    }
                  });
                });
              })]) : [3, 11];
            case 10:
              return g4.sent(), this._broadcastRemoveUnsentEvent(c3, v5), [3, 23];
            case 11:
              return e4 instanceof Fo ? (l3 = e4.polls, v5 = e4.source, this._cacheContext.localCacheEnabled ? (d3 = l3.map(function(e5) {
                return e5.messageId;
              }), [4, Promise.all(d3.map(function(e5) {
                return _2._messageCache.get(e5);
              }))]) : [3, 14]) : [3, 15];
            case 12:
              return (h3 = g4.sent().filter(function(e5) {
                return e5;
              })).length > 0 && l3.forEach(function(e5) {
                var t8 = h3.find(function(t9) {
                  return t9.messageId === e5.messageId;
                });
                t8 && t8.applyPoll(e5);
              }), [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._messageCache.upsert(h3)];
                      case 1:
                        return [2, e5.sent()];
                    }
                  });
                });
              })];
            case 13:
              g4.sent(), g4.label = 14;
            case 14:
              return this._broadcastPollChangeLogEvent(l3, v5), [3, 23];
            case 15:
              return e4 instanceof zo ? (f4 = e4.event, v5 = e4.source, [4, this._messageCache.get(f4.messageId)]) : [3, 19];
            case 16:
              return (p5 = g4.sent()) && p5.isUserMessage() && p5.poll && p5.poll.applyPollUpdateEvent(f4) ? [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._messageCache.upsert([p5])];
                      case 1:
                        return [2, e5.sent()];
                    }
                  });
                });
              })] : [3, 18];
            case 17:
              g4.sent(), g4.label = 18;
            case 18:
              return this._broadcastPollUpdateEvent(f4, v5), [3, 23];
            case 19:
              return e4 instanceof Vo ? (m4 = e4.event, v5 = e4.source, [4, this._messageCache.get(m4.messageId)]) : [3, 23];
            case 20:
              return (y3 = g4.sent()) && y3.isUserMessage() && y3.poll && y3.poll.applyPollVoteEvent(m4) ? [4, Kr(function() {
                return r(_2, void 0, void 0, function() {
                  return o(this, function(e5) {
                    switch (e5.label) {
                      case 0:
                        return [4, this._messageCache.upsert([y3])];
                      case 1:
                        return [2, e5.sent()];
                    }
                  });
                });
              })] : [3, 22];
            case 21:
              g4.sent(), g4.label = 22;
            case 22:
              this._broadcastPollVoteEvent(m4, v5), g4.label = 23;
            case 23:
              return [2];
          }
        });
      });
    }), n4;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "_cacheContext", { get: function() {
    return So.of(this._iid).cacheContext;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_dispatcher", { get: function() {
    return So.of(this._iid).dispatcher;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_messageCache", { get: function() {
    return ds.of(this._iid);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_unsentMessageCache", { get: function() {
    return cs2.of(this._iid);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "_notificationCache", { get: function() {
    return fs.of(this._iid);
  }, enumerable: false, configurable: true }), n3.of = function(e3, t7) {
    var r3;
    return void 0 === t7 && (t7 = false), ps[e3] && !t7 || (ps[e3] && (null === (r3 = ps[e3]._dispatcherContext) || void 0 === r3 || r3.close()), ps[e3] = new n3(e3)), ps[e3];
  }, n3.prototype._broadcastUpdateEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onUpdate && a3.onUpdate(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype._broadcastPollChangeLogEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onPollChangeLogUpdate && a3.onPollChangeLogUpdate(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype._broadcastPollUpdateEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onPollUpdate && a3.onPollUpdate(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype._broadcastPollVoteEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onPollVote && a3.onPollVote(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype._broadcastRemoveEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onRemove && a3.onRemove(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype._broadcastRemoveUnsentEvent = function(e3, t7) {
    var n4, r3;
    try {
      for (var i3 = s(this._observers.values()), s4 = i3.next(); !s4.done; s4 = i3.next()) {
        var a3 = s4.value;
        a3.onRemoveUnsent && a3.onRemoveUnsent(e3, t7);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        s4 && !s4.done && (r3 = i3.return) && r3.call(i3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
  }, n3.prototype.subscribe = function(e3, t7) {
    this._observers.set(e3, t7);
  }, n3.prototype.unsubscribe = function(e3) {
    this._observers.delete(e3);
  }, n3.prototype.unsubscribeAll = function() {
    this._observers.clear();
  }, n3;
}(Ar);
var vs = {};
var ys = function() {
  function e3(e4, t6) {
    var n3 = t6.sdkState, r3 = t6.dispatcher, i3 = t6.requestQueue, s4 = t6.onlineDetector, a3 = t6.cacheContext;
    this._iid = e4, this._sdkState = n3, this._requestQueue = i3, this._dispatcher = r3, this._cacheContext = a3, ds.of(e4), cs2.of(e4), ms.of(e4), this.fileMessageQueue = new ut2(e4, { sdkState: n3, dispatcher: r3, requestQueue: i3, onlineDetector: s4, cacheContext: a3 }), vs[e4] = this;
  }
  return e3.of = function(e4) {
    return vs[e4];
  }, e3.prototype.buildMessageFromSerializedData = function(e4) {
    var t6 = Ur(e4);
    if (t6.notificationId)
      return new Xe2(this._iid, Xe2.payloadify(t6));
    switch (t6.messageType) {
      case H.USER:
        return new We2(this._iid, We2.payloadify(t6));
      case H.FILE:
        return Je2._isMultipleFilesMessageSerializedData(t6) ? new Je2(this._iid, Je2.payloadify(t6)) : new et2(this._iid, et2.payloadify(t6));
      case H.ADMIN:
        return new Ge2(this._iid, Ge2.payloadify(t6));
    }
    throw g.invalidParameters;
  }, e3.prototype.buildUserMessageCreateParamsFromSerializedData = function(e4, t6) {
    return te(ne({ data: t6.data, customType: t6.customType, mentionType: t6.mentionType, mentionedUserIds: t6.mentionedUserIds, mentionedUsers: t6.mentionedUsers, mentionedMessageTemplate: t6.mentionedMessageTemplate, metaArrays: t6.metaArrays, parentMessageId: t6.parentMessageId, isReplyToChannel: e4.isReplyToChannel, pushNotificationDeliveryOption: e4.pushNotificationDeliveryOption, appleCriticalAlertOptions: t6.appleCriticalAlertOptions, reqId: t6.reqId, message: t6.message, translationTargetLanguages: Object.keys(t6.translations), pollId: e4.pollId }));
  }, e3.prototype.buildFileMessageCreateParamsFromSerializedData = function(e4, t6) {
    var n3;
    return te(ne({ data: t6.data, customType: t6.customType, mentionType: t6.mentionType, mentionedUserIds: t6.mentionedUserIds, mentionedUsers: t6.mentionedUsers, mentionedMessageTemplate: t6.mentionedMessageTemplate, metaArrays: t6.metaArrays, parentMessageId: t6.parentMessageId, isReplyToChannel: e4.isReplyToChannel, pushNotificationDeliveryOption: e4.pushNotificationDeliveryOption, appleCriticalAlertOptions: t6.appleCriticalAlertOptions, reqId: t6.reqId, file: e4.file, fileKey: e4.fileKey, fileUrl: t6.plainUrl, fileName: t6.name, fileSize: t6.size, mimeType: t6.type, thumbnailSizes: null === (n3 = t6.thumbnails) || void 0 === n3 ? void 0 : n3.map(function(e5) {
      return { maxWidth: e5.width, maxHeight: e5.height };
    }), fileType: e4.fileType, requireAuth: t6.requireAuth }));
  }, e3.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData = function(e4, t6) {
    var n3 = this;
    return te({ data: t6.data, customType: t6.customType, mentionType: t6.mentionType, mentionedUserIds: t6.mentionedUserIds, mentionedUsers: t6.mentionedUsers, mentionedMessageTemplate: t6.mentionedMessageTemplate, metaArrays: t6.metaArrays, parentMessageId: t6.parentMessageId, isReplyToChannel: e4.isReplyToChannel, pushNotificationDeliveryOption: e4.pushNotificationDeliveryOption, appleCriticalAlertOptions: t6.appleCriticalAlertOptions, reqId: t6.reqId, fileInfoList: e4.fileInfoList.map(function(e5) {
      return new tt2(n3._iid, e5);
    }) });
  }, e3.prototype.buildScheduledUserMessageCreateParamsFromSerializedData = function(e4, t6) {
    return n(n({}, this.buildUserMessageCreateParamsFromSerializedData(e4, t6)), { scheduledAt: e4.scheduledAt });
  }, e3.prototype.buildScheduledFileMessageCreateParamsFromSerializedData = function(e4, t6) {
    return n(n({}, this.buildFileMessageCreateParamsFromSerializedData(e4, t6)), { scheduledAt: e4.scheduledAt });
  }, e3.prototype.buildSenderFromSerializedData = function(e4) {
    var t6 = Ur(e4);
    return new Re2(this._iid, Re2.payloadify(t6));
  }, e3.prototype.getMessage = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return t6 = new pt2(e4), [4, this._requestQueue.send(t6)];
          case 1:
            return n3 = r3.sent(), [2, n3.as(mt2).message];
        }
      });
    });
  }, e3.prototype.getScheduledMessage = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6, n3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return t6 = new bt2(e4), [4, this._requestQueue.send(t6)];
          case 1:
            return n3 = r3.sent(), [2, n3.as(It2).message];
        }
      });
    });
  }, e3.prototype.getMessagesByMessageId = function(e4, t6, n3, r3, i3) {
    return void 0 === i3 && (i3 = Co.REQUEST_MESSAGE), r(this, void 0, void 0, function() {
      var s4, a3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return s4 = new vt2(n(n({ channelType: t6, channelUrl: e4, token: String(n3) }, lt2), r3)), [4, this._requestQueue.send(s4)];
          case 1:
            return a3 = c3.sent(), u3 = a3.as(yt2).messages, this._dispatcher.dispatch(new Uo({ messages: u3, source: i3 })), [2, u3];
        }
      });
    });
  }, e3.prototype.getMessagesByTimestamp = function(e4, t6, n3, r3, i3) {
    return void 0 === i3 && (i3 = Co.REQUEST_MESSAGE), r(this, void 0, void 0, function() {
      var s4, a3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return s4 = new vt2(n(n({ channelType: t6, channelUrl: e4, timestamp: n3 }, lt2), r3)), [4, this._requestQueue.send(s4)];
          case 1:
            return a3 = c3.sent(), u3 = a3.as(yt2).messages, this._dispatcher.dispatch(new Uo({ messages: u3, source: i3 })), [2, u3];
        }
      });
    });
  }, e3.prototype._getMessagesByTimestampForCollection = function(e4, t6, n3, r3, i3, s4, a3) {
    return void 0 === i3 && (i3 = Co.REQUEST_MESSAGE), r(this, void 0, void 0, function() {
      var u3, c3, l3, d3, h3, f4;
      return o(this, function(p5) {
        switch (p5.label) {
          case 0:
            return u3 = new vt2(n(n(n({ channelType: t6, channelUrl: e4, timestamp: n3 }, lt2), r3), { checkingHasNext: s4, checkingContinuousMessages: a3 })), [4, this._requestQueue.send(u3)];
          case 1:
            return c3 = p5.sent(), l3 = c3.as(yt2), d3 = l3.messages, h3 = l3.isContinuousMessages, f4 = l3.hasNext, this._dispatcher.dispatch(new Uo({ messages: d3, source: i3 })), [2, { messages: d3, isContinuousMessages: h3, hasNext: f4 }];
        }
      });
    });
  }, e3.prototype.getThreadedMessagesByTimestamp = function(e4, t6, n3, r3) {
    return void 0 === r3 && (r3 = Co.REQUEST_THREADED_MESSAGE), r(this, void 0, void 0, function() {
      var i3, s4, a3, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return i3 = new vt2(n(n(n({ channelUrl: e4.channelUrl, channelType: e4.channelType, timestamp: t6 }, je2), n3), { replyType: K.ALL, parentMessageId: e4.messageId, includeThreadInfo: true })), [4, this._requestQueue.send(i3)];
          case 1:
            return s4 = c3.sent(), a3 = s4.as(yt2).messages, (u3 = a3.slice(1)).forEach(function(t7) {
              t7.parentMessage = e4;
            }), this._dispatcher.dispatch(new Uo({ messages: u3, source: r3 })), [2, { parentMessage: a3[0], threadedMessages: u3 }];
        }
      });
    });
  }, e3.prototype.getMessageChangelogs = function(e4, t6, n3, i3, s4) {
    return void 0 === s4 && (s4 = Co.REQUEST_MESSAGE_CHANGELOGS), r(this, void 0, void 0, function() {
      var u3, c3, l3, d3, h3, f4, p5, m4;
      return o(this, function(v5) {
        switch (v5.label) {
          case 0:
            return u3 = new _t2(te(ne(n(n({ channelType: t6, channelUrl: e4, timestamp: "number" == typeof n3 ? n3 : null, token: "string" == typeof n3 ? n3 : null }, ht2), i3)))), [4, this._requestQueue.send(u3)];
          case 1:
            return c3 = v5.sent(), l3 = c3.as(gt2), d3 = l3.updatedMessages, h3 = l3.deletedMessagesInfo, f4 = l3.hasMore, p5 = l3.nextToken, m4 = h3.map(function(e5) {
              return e5.messageId;
            }), d3.length > 0 && this._dispatcher.dispatch(new Uo({ messages: d3, source: s4 })), m4.length > 0 && this._dispatcher.dispatch(new Po({ messageIds: m4, source: s4 })), [2, { updatedMessages: d3, deletedMessageIds: m4, hasMore: f4, token: p5 }];
        }
      });
    });
  }, e3;
}();
var _s = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3) || this;
    r3.targetMessageId = 0;
    var i3 = n4.thread_info, s4 = n4.parent_message_id, a3 = n4.channel_url, o3 = n4.channel_type;
    return i3 && w("object", i3) && w("number", s4) && w("string", a3) && w("string", o3) && (r3.threadInfo = new Me2(e3, i3), r3.targetMessageId = s4, r3.channelUrl = a3, r3.channelType = o3), r3;
  }
  return t(n3, t6), n3;
}(Ar);
var gs = { channelUrl: "", channelType: F.BASE, messageId: 0, includeReactions: false, includeMetaArray: false, includeParentMessageInfo: false, includeThreadInfo: false };
var bs = function(n3) {
  function r3(e3) {
    var r4 = e3.channelCustomType, i3 = e3.keyword, s4 = e3.limit, a3 = e3.reverse, o3 = e3.exactMatch, u3 = e3.channelUrl, c3 = e3.order, l3 = e3.messageTimestampFrom, d3 = e3.messageTimestampTo, h3 = e3.advancedQuery, f4 = e3.targetFields, p5 = e3.nextToken, m4 = n3.call(this) || this;
    return m4.method = ie.GET, m4.path = "".concat(he, "/messages"), m4.params = { custom_type: r4, query: i3, limit: s4, reverse: a3, exact_match: o3, channel_url: u3, message_ts_from: l3, message_ts_to: d3, sort_field: c3, advanced_query: h3, target_fields: f4, after: p5 }, m4;
  }
  return t(r3, n3), r3;
}(Ce);
var Is = function(t6) {
  function n3(e3, n4) {
    var r3 = t6.call(this, e3, n4) || this;
    return r3.messages = n4.results.map(function(t7) {
      return $e2(e3, t7);
    }), r3.hasNext = n4.has_next, r3.nextToken = n4.end_cursor, r3.totalCount = n4.total_count, r3;
  }
  return t(n3, t6), n3;
}(Oe);
!function(e3) {
  e3.SCORE = "score", e3.TIMESTAMP = "ts";
}($i2 || ($i2 = {}));
var Es = function(t6) {
  function n3(e3, n4) {
    var r3, i3, s4, a3, o3, u3, c3, l3, d3, h3 = this;
    return (h3 = t6.call(this, e3, n4) || this).keyword = "", h3.reverse = false, h3.exactMatch = false, h3.channelUrl = "", h3.channelCustomType = "", h3.messageTimestampFrom = null, h3.messageTimestampTo = null, h3.order = $i2.SCORE, h3.advancedQuery = false, h3.targetFields = null, h3._nextToken = "", h3.totalCount = -1, h3.keyword = n4.keyword, h3.reverse = null !== (r3 = n4.reverse) && void 0 !== r3 && r3, h3.exactMatch = null !== (i3 = n4.exactMatch) && void 0 !== i3 && i3, h3.channelUrl = null !== (s4 = n4.channelUrl) && void 0 !== s4 ? s4 : "", h3.channelCustomType = null !== (a3 = n4.channelCustomType) && void 0 !== a3 ? a3 : "", h3.messageTimestampFrom = null !== (o3 = n4.messageTimestampFrom) && void 0 !== o3 ? o3 : null, h3.messageTimestampTo = null !== (u3 = n4.messageTimestampTo) && void 0 !== u3 ? u3 : null, h3.order = null !== (c3 = n4.order) && void 0 !== c3 ? c3 : $i2.SCORE, h3.advancedQuery = null !== (l3 = n4.advancedQuery) && void 0 !== l3 && l3, h3.targetFields = null !== (d3 = n4.targetFields) && void 0 !== d3 ? d3 : null, h3;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && w("string", this.keyword) && this.keyword.length > 0 && w("boolean", this.reverse) && w("boolean", this.exactMatch) && w("string", this.channelUrl) && w("string", this.channelCustomType) && (w("number", this.messageTimestampFrom) || null === this.messageTimestampFrom) && (w("number", this.messageTimestampTo) || null === this.messageTimestampTo) && N($i2, this.order) && w("boolean", this.advancedQuery) && S("string", this.targetFields, true);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, i3, s4, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new bs(ne(n(n({}, this), { nextToken: this._nextToken ? this._nextToken : null }))), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n4 = l3.sent(), r3 = n4.as(Is), i3 = r3.messages, s4 = r3.hasNext, u3 = r3.nextToken, c3 = r3.totalCount, this._nextToken = u3, this._hasNext = s4, this._isLoading = false, this.totalCount = c3, [2, i3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Ho);
var ws = { channelUrl: "", scheduledMessageId: 0 };
var Ts = function(t6) {
  function n3() {
    var e3 = null !== t6 && t6.apply(this, arguments) || this;
    return e3.name = "message", e3;
  }
  return t(n3, t6), n3.prototype.init = function(e3, n4) {
    var r3 = n4.sdkState, i3 = n4.dispatcher, s4 = n4.sessionManager, a3 = n4.requestQueue, o3 = n4.logger, u3 = n4.onlineDetector, c3 = n4.cacheContext;
    t6.prototype.init.call(this, e3, { sdkState: r3, dispatcher: i3, sessionManager: s4, requestQueue: a3, logger: o3, onlineDetector: u3, cacheContext: c3 }), this._manager = new ys(e3, { sdkState: r3, dispatcher: i3, requestQueue: a3, onlineDetector: u3, cacheContext: c3 });
  }, n3.prototype.buildMessageFromSerializedData = function(e3) {
    return this._manager.buildMessageFromSerializedData(e3);
  }, n3.prototype.buildSenderFromSerializedData = function(e3) {
    return this._manager.buildSenderFromSerializedData(e3);
  }, n3.prototype.getMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return t7 = n(n({}, gs), e3), Pr(function(e4) {
              return w("string", e4.channelUrl) && N(F, e4.channelType) && w("number", e4.messageId) && w("boolean", e4.includeReactions, true) && w("boolean", e4.includeMetaArray, true) && w("boolean", e4.includeParentMessageInfo, true) && w("boolean", e4.includeThreadInfo, true);
            }(t7)).throw(g.invalidParameters), [4, this._manager.getMessage(t7)];
          case 1:
            if ((n4 = r3.sent()) instanceof ze2 || n4 instanceof Xe2 || null === n4)
              return [2, n4];
            throw "Unknown message type is given.";
        }
      });
    });
  }, n3.prototype.getScheduledMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n4) {
        return t7 = n(n({}, ws), e3), Pr(function(e4) {
          return w("string", e4.channelUrl) && "" !== e4.channelUrl && w("number", e4.scheduledMessageId) && e4.scheduledMessageId > 0;
        }(t7)).throw(g.invalidParameters), [2, this._manager.getScheduledMessage(t7)];
      });
    });
  }, n3;
}(Ao);

// node_modules/@sendbird/chat/lib/__bundle-baf8d8d0.js
var E2;
var p2;
var R2;
!function(e3) {
  e3.LATEST_LAST_MESSAGE = "latest_last_message", e3.CHRONOLOGICAL = "chronological", e3.CHANNEL_NAME_ALPHABETICAL = "channel_name_alphabetical", e3.METADATA_VALUE_ALPHABETICAL = "metadata_value_alphabetical";
}(E2 || (E2 = {})), function(e3) {
  e3.CHRONOLOGICAL = "chronological", e3.CHANNEL_NAME_ALPHABETICAL = "channel_name_alphabetical", e3.METADATA_VALUE_ALPHABETICAL = "metadata_value_alphabetical";
}(p2 || (p2 = {})), function(e3) {
  e3.CREATED_AT = "created_at", e3.SCHEDULED_AT = "scheduled_at";
}(R2 || (R2 = {}));
var C2;
var L2 = function(e3) {
  switch (e3) {
    case E2.LATEST_LAST_MESSAGE:
      return ["-lastMessageUpdatedAt", "-createdAt", "syncIndex"];
    case E2.CHRONOLOGICAL:
      return ["-createdAt", "syncIndex"];
    case E2.CHANNEL_NAME_ALPHABETICAL:
      return ["name"];
    default:
      return ["-lastMessageUpdatedAt", "-createdAt", "syncIndex"];
  }
};
var I2 = function(t6) {
  function s4(e3) {
    var s5 = e3.message, n3 = t6.call(this) || this;
    return n3.message = s5, n3;
  }
  return t(s4, t6), s4;
}(ee);
var b2 = {};
var S2 = function() {
  function e3(e4, t6) {
    var s4 = t6.localCacheEnabled, n3 = t6.enableAutoResend, r3 = t6.dispatcher, a3 = t6.sdkState, u3 = t6.logger, d3 = this;
    this._iid = e4, b2[e4] = this, this._localCacheEnabled = s4, this._enableAutoResend = n3, this._isProcessingAutoResend = false, this._autoResendQueue = [], this._dispatcher = r3, this._logger = u3, this._sdkState = a3, this._localCacheEnabled && r3.on(function(e5) {
      if (e5 instanceof Er)
        switch (e5.stateType) {
          case dr.CONNECTED:
            d3._isProcessingAutoResend || d3.processAutoResendRegisteredPendingMessages().then(function() {
              return d3._processNextAutoResend();
            });
            break;
          case dr.INTERNAL_DISCONNECTED:
          case dr.EXTERNAL_DISCONNECTED:
            d3._isProcessingAutoResend = false;
        }
    });
  }
  return e3.of = function(e4) {
    return b2[e4];
  }, e3.prototype.processNonAutoResendRegisteredPendingMessages = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, s4, a3, i3, o3;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this._enableAutoResend ? [4, this._fetchAllCachedPendingMessages()] : [2];
          case 1:
            e4 = n3.sent();
            try {
              for (t6 = s(e4), s4 = t6.next(); !s4.done; s4 = t6.next())
                0 === (a3 = s4.value).errorCode && (this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ", a3.reqId), a3.sendingStatus = W.FAILED, a3.errorCode = u.ACK_TIMEOUT, this._dispatcher.dispatch(new Uo({ messages: [a3], source: Co.LOCAL_MESSAGE_FAILED })));
            } catch (e5) {
              i3 = { error: e5 };
            } finally {
              try {
                s4 && !s4.done && (o3 = t6.return) && o3.call(t6);
              } finally {
                if (i3)
                  throw i3.error;
              }
            }
            return [2];
        }
      });
    });
  }, e3.prototype.processAutoResendRegisteredPendingMessages = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, s4, i3, o3, d3, l3, _2;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._fetchAllCachedPendingMessages()];
          case 1:
            e4 = n3.sent();
            try {
              for (t6 = s(e4), s4 = t6.next(); !s4.done; s4 = t6.next())
                i3 = s4.value, this._enableAutoResend && i3.errorCode && O(i3.errorCode) && (o3 = (/* @__PURE__ */ new Date()).getTime(), d3 = i3.createdAt + 2592e5, this._enableAutoResend && o3 <= d3 ? this._autoResendQueue.map(function(e5) {
                  return e5.reqId;
                }).indexOf(i3.reqId) < 0 && this._autoResendQueue.push(i3) : (this._logger.debug("auto-resend registered pending messaged expired. expiration date: ", new Date(d3).toLocaleString()), i3.sendingStatus = W.FAILED, this._dispatcher.dispatch(new Uo({ messages: [i3], source: Co.LOCAL_MESSAGE_FAILED }))));
            } catch (e5) {
              l3 = { error: e5 };
            } finally {
              try {
                s4 && !s4.done && (_2 = t6.return) && _2.call(t6);
              } finally {
                if (l3)
                  throw l3.error;
              }
            }
            return [2];
        }
      });
    });
  }, e3.prototype.completeCurrentAndProcessNextAutoResend = function(e4) {
    if (this._localCacheEnabled && this._enableAutoResend && (e4.sendingStatus === W.SUCCEEDED || e4.sendingStatus === W.FAILED && !O(e4.errorCode))) {
      var t6 = this.indexOf(e4);
      t6 >= 0 && this._autoResendQueue.splice(t6, 1), 0 === t6 && this._processNextAutoResend();
    }
  }, e3.prototype._fetchAllCachedPendingMessages = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return e4 = cs2.of(this._iid), (t6 = new Zi2()).replyType = K.ALL, [4, e4.fetch({ sendingStatus: W.PENDING, backward: true, filter: t6 })];
          case 1:
            return [2, s4.sent()];
        }
      });
    });
  }, e3.prototype.indexOf = function(e4) {
    return this._autoResendQueue.length > 0 ? this._autoResendQueue.map(function(e5) {
      return e5.reqId;
    }).indexOf(e4.reqId) : -1;
  }, e3.prototype._isNotInQueue = function(e4) {
    return -1 === this._autoResendQueue.map(function(e5) {
      return e5.reqId;
    }).indexOf(e4.reqId);
  }, e3.prototype._processNextAutoResend = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        if (this._localCacheEnabled && this._enableAutoResend && "foreground" === this._sdkState.appState)
          try {
            this._autoResendQueue.length > 0 ? (this._isProcessingAutoResend || (this._logger.debug("auto-resend queue started."), this._isProcessingAutoResend = true), e4 = this._autoResendQueue[0], this._dispatcher.dispatch(new I2({ message: e4 })), this._logger.debug("processing auto-resend for message request id: ", e4.reqId)) : (this._logger.debug("auto-resend queue finished."), this._isProcessingAutoResend = false);
          } catch (e5) {
            this._logger.warn("process auto-resend error: ", e5), this._isProcessingAutoResend = false;
          }
        return [2];
      });
    });
  }, e3;
}();
!function(e3) {
  e3[e3.USER_BLOCK = 20001] = "USER_BLOCK", e3[e3.USER_UNBLOCK = 2e4] = "USER_UNBLOCK", e3[e3.FRIEND_DISCOVERED = 20900] = "FRIEND_DISCOVERED";
}(C2 || (C2 = {}));
var N2 = function() {
  function e3(e4) {
    this.category = e4.cat, this.data = e4.data;
  }
  return e3.getDataAsUserBlockEvent = function(e4, t6) {
    var s4 = t6.data, n3 = s4.blocker, r3 = s4.blockee;
    return { blocker: new Fr(e4, n3), blockee: new Fr(e4, r3) };
  }, e3.getDataAsFriendDiscoveredEvent = function(e4, t6) {
    var s4 = t6.data.friend_discoveries;
    return { friendDiscoveries: Array.isArray(s4) ? s4.map(function(t7) {
      return new Fr(e4, t7);
    }) : [] };
  }, e3;
}();
var v2 = function(t6) {
  function s4(e3, s5) {
    var n3 = s5.userId, r3 = t6.call(this) || this;
    return r3._iid = e3, r3.userId = n3, r3;
  }
  return t(s4, t6), s4;
}(ee);
var D2 = function(t6) {
  function s4() {
    return t6.call(this) || this;
  }
  return t(s4, t6), s4;
}(ee);
var T2 = function(t6) {
  function s4(e3, s5, n3) {
    var r3 = t6.call(this, e3, "USEV", n3) || this;
    return r3.event = new N2(n3), r3;
  }
  return t(s4, t6), s4;
}(Re);

// node_modules/@sendbird/chat/lib/__bundle-c336221f.js
var s2 = function(s4, i3) {
  this.pollId = 0, this.messageId = 0, this.pollId = i3.poll.id, this.messageId = i3.poll.message_id, this._iid = s4, this._payload = i3;
};

// node_modules/@sendbird/chat/lib/__bundle-aaf64620.js
var A2;
!function(e3) {
  e3[e3.NONE = 0] = "NONE", e3[e3.CHANNEL_ENTER = 10102] = "CHANNEL_ENTER", e3[e3.CHANNEL_EXIT = 10103] = "CHANNEL_EXIT", e3[e3.USER_CHANNEL_MUTE = 10201] = "USER_CHANNEL_MUTE", e3[e3.USER_CHANNEL_UNMUTE = 10200] = "USER_CHANNEL_UNMUTE", e3[e3.USER_CHANNEL_BAN = 10601] = "USER_CHANNEL_BAN", e3[e3.USER_CHANNEL_UNBAN = 10600] = "USER_CHANNEL_UNBAN", e3[e3.CHANNEL_FREEZE = 10701] = "CHANNEL_FREEZE", e3[e3.CHANNEL_UNFREEZE = 10700] = "CHANNEL_UNFREEZE", e3[e3.TYPING_START = 10900] = "TYPING_START", e3[e3.TYPING_END = 10901] = "TYPING_END", e3[e3.CHANNEL_JOIN = 1e4] = "CHANNEL_JOIN", e3[e3.CHANNEL_LEAVE = 10001] = "CHANNEL_LEAVE", e3[e3.CHANNEL_OPERATOR_UPDATE = 10002] = "CHANNEL_OPERATOR_UPDATE", e3[e3.CHANNEL_INVITE = 10020] = "CHANNEL_INVITE", e3[e3.CHANNEL_ACCEPT_INVITE = 10021] = "CHANNEL_ACCEPT_INVITE", e3[e3.CHANNEL_DECLINE_INVITE = 10022] = "CHANNEL_DECLINE_INVITE", e3[e3.CHANNEL_PROP_CHANGED = 11e3] = "CHANNEL_PROP_CHANGED", e3[e3.CHANNEL_DELETED = 12e3] = "CHANNEL_DELETED", e3[e3.CHANNEL_META_DATA_CHANGED = 11100] = "CHANNEL_META_DATA_CHANGED", e3[e3.CHANNEL_META_COUNTERS_CHANGED = 11200] = "CHANNEL_META_COUNTERS_CHANGED", e3[e3.CHANNEL_HIDE = 13e3] = "CHANNEL_HIDE", e3[e3.CHANNEL_UNHIDE = 13001] = "CHANNEL_UNHIDE", e3[e3.PINNED_MESSAGE_CHANGED = 11300] = "PINNED_MESSAGE_CHANGED";
}(A2 || (A2 = {}));
var p3 = function() {
  function n3(e3) {
    var n4;
    this.channelUrl = e3.channel_url, this.channelType = e3.channel_type, this.category = e3.cat, this.data = null !== (n4 = e3.data) && void 0 !== n4 ? n4 : {}, this.ts = e3.ts;
  }
  return Object.defineProperty(n3.prototype, "isGroupChannelEvent", { get: function() {
    return this.channelType === F.GROUP;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isOpenChannelEvent", { get: function() {
    return this.channelType === F.OPEN;
  }, enumerable: false, configurable: true }), n3;
}();
var f2 = function(e3) {
  function t6(n3, t7, r3) {
    var s4 = e3.call(this, n3, "SYEV", r3) || this;
    return s4.event = new p3(r3), s4;
  }
  return t(t6, e3), t6;
}(Re);
var m2 = function(e3) {
  function t6(n3, t7, s4) {
    var o3 = e3.call(this, n3, t7, s4) || this, a3 = s4.data.operators, i3 = void 0 === a3 ? [] : a3;
    return o3.operators = i3.map(function(e4) {
      return new Fr(o3._iid, e4);
    }), o3;
  }
  return t(t6, e3), t6;
}(f2);
var v3 = function(e3) {
  function t6(n3, t7) {
    var r3 = e3.call(this, n3) || this;
    return r3._logger = t7.logger, r3._sdkState = t7.sdkState, r3._sessionManager = t7.sessionManager, r3._requestQueue = t7.requestQueue, r3._dispatcher = t7.dispatcher, r3._cacheContext = t7.cacheContext, r3._channelType = t7.channelType, r3;
  }
  return t(t6, e3), Object.defineProperty(t6.prototype, "_messageBroadcast", { get: function() {
    return ms.of(this._iid);
  }, enumerable: false, configurable: true }), t6.prototype.subscribeMessageEvent = function(e4, n3) {
    this._messageBroadcast.subscribe(e4, n3);
  }, t6.prototype.unsubscribeMessageEvent = function(e4) {
    this._messageBroadcast.unsubscribe(e4);
  }, t6.prototype.getMessageFromCache = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, null];
      });
    });
  }, t6.prototype.getExactlyMatchingMessagesForTokenFromCache = function(e4, n3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, []];
      });
    });
  }, t6.prototype.getMessagesFromCache = function(e4, n3, t7, r3, a3, i3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, []];
      });
    });
  }, t6.prototype.getPollMessagesFromCache = function(e4, n3, t7, r3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, []];
      });
    });
  }, t6.prototype.getCachedMessageCountBetween = function(e4, n3, t7, r3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, 0];
      });
    });
  }, t6.prototype.getUnsentMessagesFromCache = function(e4, n3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2, []];
      });
    });
  }, t6.prototype.removeFailedMessageFromCache = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(e5) {
        return [2];
      });
    });
  }, t6;
}(Ar);
var T3 = function(e3) {
  function t6(n3, t7, r3) {
    var s4, o3, a3, E3, N3 = this;
    (N3 = e3.call(this, n3, "ADMM", r3) || this).message = new Ge2(n3, r3);
    var c3 = So.of(n3).sdkState;
    return N3.isMentioned = Ne(N3.message.mentionType, null !== (a3 = null !== (s4 = N3.message.mentionedUserIds) && void 0 !== s4 ? s4 : null === (o3 = N3.message.mentionedUsers) || void 0 === o3 ? void 0 : o3.map(function(e4) {
      return e4.userId;
    })) && void 0 !== a3 ? a3 : [], c3.userId), N3.forceUpdateLastMessage = null !== (E3 = r3.force_update_last_message) && void 0 !== E3 && E3, N3;
  }
  return t(t6, e3), t6;
}(Re);
var H2 = function(e3) {
  function t6(n3, t7, r3) {
    var s4, o3, a3, u3, c3, _2 = this;
    (_2 = e3.call(this, n3, "AEDI", r3) || this).message = new Ge2(n3, r3);
    var h3 = So.of(n3).sdkState;
    return _2.mentionCountChange = Te({ mentionType: null === (s4 = r3.old_values) || void 0 === s4 ? void 0 : s4.mention_type, mentionedUserIds: null !== (a3 = null === (o3 = r3.old_values) || void 0 === o3 ? void 0 : o3.mentioned_user_ids) && void 0 !== a3 ? a3 : [] }, ne({ mentionType: _2.message.mentionType, mentionedUserIds: null !== (u3 = _2.message.mentionedUserIds) && void 0 !== u3 ? u3 : null === (c3 = _2.message.mentionedUsers) || void 0 === c3 ? void 0 : c3.map(function(e4) {
      return e4.userId;
    }) }), h3.userId), _2;
  }
  return t(t6, e3), t6;
}(Re);
var L3 = function(e3) {
  function t6(n3, t7, r3) {
    var s4 = e3.call(this, n3, "MRCT", r3) || this;
    return s4.channelUrl = r3.channel_url, s4.channelType = r3.channel_type, s4.event = new Ue2(r3), s4;
  }
  return t(t6, e3), t6;
}(Re);
var g2 = function(e3) {
  function t6(n3, t7, r3) {
    var s4 = e3.call(this, n3, "MTHD", r3) || this;
    return s4.event = new _s(n3, r3), s4;
  }
  return t(t6, e3), t6;
}(Re);
var U2 = function(e3) {
  function t6(n3, t7, r3) {
    var s4 = e3.call(this, n3, "MCNT", r3) || this;
    return s4.groupChannelMemberCounts = r3.group_channels.map(function(e4) {
      return { channelUrl: e4.channel_url, memberCount: e4.member_count, joinedMemberCount: e4.joined_member_count, updatedAt: e4.ts };
    }), s4.openChannelMemberCounts = r3.open_channels.map(function(e4) {
      return { channelUrl: e4.channel_url, participantCount: e4.participant_count, updatedAt: e4.ts };
    }), s4;
  }
  return t(t6, e3), t6;
}(Re);
var I3 = function(e3) {
  function t6(n3, t7, r3) {
    var s4 = e3.call(this, n3, "PEDI", r3) || this;
    return s4.event = new s2(n3, r3), s4.status = ko(r3.poll.status) || r3.poll.status, s4.channelUrl = r3.channel_url, s4.channelType = r3.channel_type, s4;
  }
  return t(t6, e3), t6;
}(Re);

// node_modules/@sendbird/chat/lib/__bundle-4e927e6c.js
var kt3;
!function(e3) {
  e3.NONE = "none", e3.JOINED = "joined", e3.INVITED = "invited", e3.LEFT = "left";
}(kt3 || (kt3 = {}));
var Pt3;
var Ft3;
var xt3;
var Ot3;
var Ht3;
var Gt3;
var Vt3;
var Bt3;
var qt3 = function(i3) {
  function o3(e3, t6) {
    var n3 = i3.call(this, e3, t6) || this;
    return n3.state = null, n3.role = null, n3.isMuted = false, n3.isBlockedByMe = false, n3.isBlockingMe = false, n3.state = N(kt3, t6.state) ? t6.state : null, n3.role = N(z, t6.role) ? t6.role : null, "boolean" == typeof t6.is_muted && (n3.isMuted = t6.is_muted), "boolean" == typeof t6.is_blocked_by_me && (n3.isBlockedByMe = t6.is_blocked_by_me), "boolean" == typeof t6.is_blocking_me && (n3.isBlockingMe = t6.is_blocking_me), n3;
  }
  return t(o3, i3), o3.payloadify = function(e3) {
    return te(ne(n(n({}, i3.payloadify.call(this, e3)), { state: e3.state, role: e3.role, is_muted: e3.isMuted, is_blocked_by_me: e3.isBlockedByMe, is_blocking_me: e3.isBlockingMe })));
  }, o3;
}(wt2);
var zt3 = function(t6) {
  function n3(e3, n4) {
    var s4, r3, a3 = this;
    return (a3 = t6.call(this, e3) || this).channelUrl = null !== (s4 = n4.channel_url) && void 0 !== s4 ? s4 : "", a3.channelType = null !== (r3 = n4.channel_type) && void 0 !== r3 ? r3 : F.GROUP, a3.reader = new Fr(a3._iid, n4.user), a3.readAt = n4.ts, a3;
  }
  return t(n3, t6), n3;
}(Ar);
!function(e3) {
  e3.ALL = "all", e3.PUBLIC = "public", e3.PRIVATE = "private";
}(Pt3 || (Pt3 = {})), function(e3) {
  e3.ALL = "all", e3.JOINED = "joined_only", e3.INVITED = "invited_only", e3.INVITED_BY_FRIEND = "invited_by_friend", e3.INVITED_BY_NON_FRIEND = "invited_by_non_friend";
}(Ft3 || (Ft3 = {})), function(e3) {
  e3.ALL = "all", e3.SUPER = "super", e3.NON_SUPER = "nonsuper", e3.BROADCAST_ONLY = "broadcast_only", e3.EXCLUSIVE_ONLY = "exclusive_only";
}(xt3 || (xt3 = {})), function(e3) {
  e3.ALL = "all", e3.UNREAD_MESSAGE = "unread_message";
}(Ot3 || (Ot3 = {})), function(e3) {
  e3.ALL = "all", e3.UNHIDDEN = "unhidden_only", e3.HIDDEN = "hidden_only", e3.HIDDEN_ALLOW_AUTO_UNHIDE = "hidden_allow_auto_unhide", e3.HIDDEN_PREVENT_AUTO_UNHIDE = "hidden_prevent_auto_unhide";
}(Ht3 || (Ht3 = {})), function(e3) {
  e3.ALL = "all", e3.OPERATOR = "operator", e3.NONOPERATOR = "nonoperator";
}(Gt3 || (Gt3 = {})), function(e3) {
  e3.AND = "AND", e3.OR = "OR";
}(Vt3 || (Vt3 = {})), function(e3) {
  e3.MEMBER_NICKNAME = "member_nickname", e3.CHANNEL_NAME = "channel_name";
}(Bt3 || (Bt3 = {}));
var Wt3;
var jt3 = function() {
  function e3() {
    this._searchFilter = null, this._userIdsFilter = null, this.includeEmpty = false, this.nicknameContainsFilter = null, this.nicknameStartsWithFilter = null, this.nicknameExactMatchFilter = null, this.channelNameContainsFilter = "", this.myMemberStateFilter = Ft3.ALL, this.customTypesFilter = null, this.channelUrlsFilter = null, this.superChannelFilter = xt3.ALL, this.publicChannelFilter = Pt3.ALL, this.customTypeStartsWithFilter = null, this.unreadChannelFilter = Ot3.ALL, this.hiddenChannelFilter = Ht3.UNHIDDEN, this.includeFrozen = true;
  }
  return e3.prototype._isFriend = function(e4) {
    return !(!e4 || !e4.friendDiscoveryKey && !e4.friendName);
  }, Object.defineProperty(e3.prototype, "searchFilter", { get: function() {
    return this._searchFilter;
  }, enumerable: false, configurable: true }), e3.prototype.setSearchFilter = function(e4, t6) {
    Array.isArray(e4) && 0 !== e4.length && "string" == typeof t6 && t6 && (this._searchFilter = { query: t6, fields: e4 });
  }, Object.defineProperty(e3.prototype, "userIdsFilter", { get: function() {
    return this._userIdsFilter;
  }, enumerable: false, configurable: true }), e3.prototype.setUserIdsFilter = function(e4, t6, n3) {
    void 0 === n3 && (n3 = Vt3.AND), this._userIdsFilter = { userIds: e4, includeMode: t6, queryType: n3 };
  }, e3.prototype.clone = function() {
    var t6, n3 = new e3();
    this.searchFilter && n3.setSearchFilter(this.searchFilter.fields, null !== (t6 = this.searchFilter.query) && void 0 !== t6 ? t6 : void 0), this.userIdsFilter && n3.setUserIdsFilter(this.userIdsFilter.userIds, this.userIdsFilter.includeMode, this.userIdsFilter.queryType);
    var s4 = JSON.parse(JSON.stringify(this));
    return Object.keys(s4).forEach(function(e4) {
      n3[e4] = s4[e4];
    }), n3;
  }, e3.prototype.match = function(e4, t6) {
    if (this._searchFilter) {
      var n3 = this._searchFilter, s4 = n3.query, r3 = n3.fields;
      if (s4 && r3 && r3.length > 0 && !r3.some(function(t7) {
        switch (t7) {
          case Bt3.CHANNEL_NAME:
            return e4.name.toLowerCase().includes(s4.toLowerCase());
          case Bt3.MEMBER_NICKNAME:
            return e4.members.some(function(e5) {
              return e5.nickname.toLowerCase().includes(s4.toLowerCase());
            });
          default:
            return true;
        }
      }))
        return false;
    }
    if (this._userIdsFilter) {
      var a3 = this._userIdsFilter, i3 = a3.userIds, o3 = a3.includeMode, u3 = a3.queryType, l3 = e4.members.map(function(e5) {
        return e5.userId;
      });
      if (o3) {
        if (i3.length > 0)
          switch (u3) {
            case Vt3.AND:
              if (i3.some(function(e5) {
                return !l3.includes(e5);
              }))
                return false;
              break;
            case Vt3.OR:
              if (i3.every(function(e5) {
                return !l3.includes(e5);
              }))
                return false;
          }
      } else {
        if (i3.includes(t6) || i3.push(t6), e4.members.length > i3.length)
          return false;
        if (!I(i3, l3))
          return false;
      }
    }
    if (!this.includeEmpty && !e4.lastMessage)
      return false;
    if (!this.includeFrozen && e4.isFrozen)
      return false;
    if (this.customTypesFilter && this.customTypesFilter.length > 0 && !this.customTypesFilter.includes("*") && !this.customTypesFilter.includes(e4.customType))
      return false;
    if (this.customTypeStartsWithFilter && !new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e4.customType))
      return false;
    if (this.channelNameContainsFilter && !e4.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))
      return false;
    if (this.nicknameContainsFilter) {
      var h3 = this.nicknameContainsFilter.toLowerCase();
      if (!e4.members.some(function(e5) {
        return e5.userId !== t6 && e5.nickname.toLowerCase().includes(h3);
      }))
        return false;
    }
    if (this.nicknameStartsWithFilter) {
      var d3 = this.nicknameStartsWithFilter.toLowerCase();
      if (!e4.members.some(function(e5) {
        return e5.userId !== t6 && e5.nickname.toLowerCase().startsWith(d3);
      }))
        return false;
    }
    if (this.nicknameExactMatchFilter) {
      var _2 = this.nicknameExactMatchFilter.toLowerCase();
      if (!e4.members.some(function(e5) {
        return e5.userId !== t6 && e5.nickname.toLowerCase() != _2;
      }))
        return false;
    }
    if (this.channelUrlsFilter && this.channelUrlsFilter.length > 0 && !this.channelUrlsFilter.includes(e4.url))
      return false;
    if (this.myMemberStateFilter)
      switch (this.myMemberStateFilter) {
        case Ft3.JOINED:
          if ("joined" !== e4.myMemberState)
            return false;
          break;
        case Ft3.INVITED:
          if ("invited" !== e4.myMemberState)
            return false;
          break;
        case Ft3.INVITED_BY_FRIEND:
          if ("invited" !== e4.myMemberState || !this._isFriend(e4.inviter))
            return false;
          break;
        case Ft3.INVITED_BY_NON_FRIEND:
          if ("invited" !== e4.myMemberState || this._isFriend(e4.inviter))
            return false;
      }
    if (this.hiddenChannelFilter)
      switch (this.hiddenChannelFilter) {
        case Ht3.UNHIDDEN:
          if (e4.isHidden || "unhidden" !== e4.hiddenState)
            return false;
          break;
        case Ht3.HIDDEN:
          if (!e4.isHidden)
            return false;
          break;
        case Ht3.HIDDEN_ALLOW_AUTO_UNHIDE:
          if (!e4.isHidden || "hidden_allow_auto_unhide" !== e4.hiddenState)
            return false;
          break;
        case Ht3.HIDDEN_PREVENT_AUTO_UNHIDE:
          if (!e4.isHidden || "hidden_prevent_auto_unhide" !== e4.hiddenState)
            return false;
      }
    if (this.unreadChannelFilter && this.unreadChannelFilter === Ot3.UNREAD_MESSAGE) {
      if (0 === e4.unreadMessageCount)
        return false;
    }
    if (this.publicChannelFilter)
      switch (this.publicChannelFilter) {
        case Pt3.PUBLIC:
          if (!e4.isPublic)
            return false;
          break;
        case Pt3.PRIVATE:
          if (e4.isPublic)
            return false;
      }
    if (this.superChannelFilter)
      switch (this.superChannelFilter) {
        case xt3.SUPER:
          if (!e4.isSuper)
            return false;
          break;
        case xt3.NON_SUPER:
          if (e4.isSuper)
            return false;
      }
    return !(this.createdAfter && e4.createdAt < this.createdAfter) && !(this.createdBefore && e4.createdAt > this.createdBefore);
  }, e3;
}();
var Qt3 = function(t6) {
  function n3(e3, n4) {
    var s4 = n4.sdkState, r3 = n4.cacheContext, a3 = t6.call(this, e3) || this;
    return a3._channels = /* @__PURE__ */ new Map(), a3._sdkState = s4, a3._cacheContext = r3, a3;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "collection", { get: function() {
    var e3 = this._cacheContext.nestdb;
    return Pr(!!e3).throw(g.databaseError), e3.collection(_r2);
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "localCacheEnabled", { get: function() {
    return this._cacheContext.localCacheEnabled && !!this.collection;
  }, enumerable: false, configurable: true }), n3.prototype._serialize = function(e3, t7) {
    return void 0 === t7 && (t7 = 0), n(n({}, e3.serialize()), { lastMessageUpdatedAt: e3.lastMessage ? e3.lastMessage.createdAt : 0, syncIndex: t7 });
  }, n3.prototype._deserialize = function(e3) {
    return us3.of(this._iid).buildGroupChannelFromSerializedData(e3);
  }, Object.defineProperty(n3.prototype, "channels", { get: function() {
    return c([], a(this._channels.values()), false);
  }, enumerable: false, configurable: true }), n3.prototype.isCachedInMemory = function(e3) {
    return this._channels.has(e3);
  }, n3.prototype.filterOffsetChanged = function(e3) {
    var t7 = this;
    return e3.filter(function(e4) {
      if (t7._channels.has(e4.url))
        return t7._channels.get(e4.url).messageOffsetTimestamp < e4.messageOffsetTimestamp;
    });
  }, n3.prototype.get = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return this._channels.has(e3) ? [3, 3] : this.localCacheEnabled ? [4, this.collection.getByKey(e3)] : [3, 2];
          case 1:
            if (t7 = s4.sent())
              return n4 = this._deserialize(t7), this._channels.set(e3, n4), [2, n4];
            s4.label = 2;
          case 2:
            return [2, void 0];
          case 3:
            return [2, this._channels.get(e3)];
        }
      });
    });
  }, n3.prototype.fetch = function(e3) {
    var t7 = e3.token, n4 = e3.limit, s4 = void 0 === n4 ? yr2 : n4, r3 = e3.backward, a3 = void 0 !== r3 && r3, i3 = e3.filter, o3 = void 0 === i3 ? new jt3() : i3, u3 = e3.order, c3 = void 0 === u3 ? E2.LATEST_LAST_MESSAGE : u3, l3 = e3.borderlineChannelUrl;
    return r(this, void 0, void 0, function() {
      var e4, n5, r4, i4, u4 = this;
      return o(this, function(h3) {
        switch (h3.label) {
          case 0:
            return this.localCacheEnabled ? (e4 = L2(c3), n5 = { where: function(e5) {
              if (t7)
                switch (c3) {
                  case E2.CHANNEL_NAME_ALPHABETICAL:
                    if (!a3 && e5.name.localeCompare(t7) < 0 || a3 && e5.name.localeCompare(t7) > 0)
                      return false;
                    if (l3 && l3 === e5.url)
                      return false;
                    break;
                  case E2.CHRONOLOGICAL:
                    if (!a3 && e5.createdAt > t7 || a3 && e5.createdAt < t7)
                      return false;
                    if (l3 && l3 === e5.url)
                      return false;
                    break;
                  case E2.LATEST_LAST_MESSAGE:
                    if (!a3 && e5.lastMessageUpdatedAt > t7 || a3 && e5.lastMessageUpdatedAt < t7)
                      return false;
                    if (l3 && l3 === e5.url)
                      return false;
                }
              return o3.match(u4._deserialize(e5), u4._sdkState.userId);
            }, index: e4, backward: a3 }, [4, this.collection.query(n5)]) : [3, 3];
          case 1:
            return [4, h3.sent().fetch({ limit: s4 })];
          case 2:
            return r4 = h3.sent(), (i4 = r4.map(function(e5) {
              return u4._deserialize(e5);
            })).forEach(function(e5) {
              u4._channels.has(e5.url) || u4._channels.set(e5.url, e5);
            }), [2, i4];
          case 3:
            return [2, []];
        }
      });
    });
  }, n3.prototype.upsert = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      var n4, s4, r3, a3 = this;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            if (n4 = [], e3.forEach(function(e4) {
              if (a3._channels.has(e4.url)) {
                var s5 = a3._channels.get(e4.url);
                s5._pinnedMessagesUpdatedAt < e4._pinnedMessagesUpdatedAt && (s5._pinnedMessagesUpdatedAt = e4._pinnedMessagesUpdatedAt), s5._messageCollectionLastAccessedAt > e4._messageCollectionLastAccessedAt && Object.assign(e4, { _messageCollectionLastAccessedAt: void 0 }), e4.cachedMetaData && t7 && (s5._updateCachedMetaData(e4.cachedMetaData, t7), Object.assign(e4, { _cachedMetaData: void 0 })), s5._update(e4), n4.push(s5);
              } else
                a3._channels.set(e4.url, e4), n4.push(e4);
            }), !this.localCacheEnabled)
              return [3, 2];
            for (r3 in s4 = [], n4)
              s4.push(this._serialize(n4[r3], parseInt(r3)));
            return [4, this.collection.upsertMany(s4)];
          case 1:
            i3.sent(), i3.label = 2;
          case 2:
            return [2, n4];
        }
      });
    });
  }, n3.prototype.remove = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4, s4, r3, a3, i3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            o3.trys.push([0, 5, 6, 7]), t7 = s(e3), n4 = t7.next(), o3.label = 1;
          case 1:
            return n4.done ? [3, 4] : (s4 = n4.value, this._channels.delete(s4), this.localCacheEnabled ? [4, this.collection.remove(s4)] : [3, 3]);
          case 2:
            o3.sent(), o3.label = 3;
          case 3:
            return n4 = t7.next(), [3, 1];
          case 4:
            return [3, 7];
          case 5:
            return r3 = o3.sent(), a3 = { error: r3 }, [3, 7];
          case 6:
            try {
              n4 && !n4.done && (i3 = t7.return) && i3.call(t7);
            } finally {
              if (a3)
                throw a3.error;
            }
            return [7];
          case 7:
            return [2];
        }
      });
    });
  }, n3.prototype.clear = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return this.clearMemoryCache(), this.localCacheEnabled ? [4, this.collection.clear()] : [3, 2];
          case 1:
            e3.sent(), e3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.clearMemoryCache = function() {
    this._channels.clear();
  }, n3.prototype._setBlockStateOfAllChannels = function(e3, t7, n4) {
    return r(this, void 0, void 0, function() {
      var s4, r3, a3, i3, o3, u3, c3, l3, h3, d3, _2, p5, m4, g4, E3, C3, y3, M2, b4;
      return o(this, function(f4) {
        switch (f4.label) {
          case 0:
            if (s4 = [], e3 === this._sdkState.userId)
              try {
                for (r3 = s(this._channels.values()), a3 = r3.next(); !a3.done; a3 = r3.next()) {
                  l3 = a3.value;
                  try {
                    for (g4 = void 0, i3 = s(l3.members), o3 = i3.next(); !o3.done; o3 = i3.next())
                      if ((_2 = o3.value).userId === t7) {
                        _2.isBlockedByMe = n4, s4.push(l3);
                        break;
                      }
                  } catch (e4) {
                    g4 = { error: e4 };
                  } finally {
                    try {
                      o3 && !o3.done && (E3 = i3.return) && E3.call(i3);
                    } finally {
                      if (g4)
                        throw g4.error;
                    }
                  }
                }
              } catch (e4) {
                p5 = { error: e4 };
              } finally {
                try {
                  a3 && !a3.done && (m4 = r3.return) && m4.call(r3);
                } finally {
                  if (p5)
                    throw p5.error;
                }
              }
            else if (t7 === this._sdkState.userId)
              try {
                for (u3 = s(this._channels.values()), c3 = u3.next(); !c3.done; c3 = u3.next()) {
                  l3 = c3.value;
                  try {
                    for (M2 = void 0, h3 = s(l3.members), d3 = h3.next(); !d3.done; d3 = h3.next())
                      if ((_2 = d3.value).userId === e3) {
                        _2.isBlockingMe = n4, s4.push(l3);
                        break;
                      }
                  } catch (e4) {
                    M2 = { error: e4 };
                  } finally {
                    try {
                      d3 && !d3.done && (b4 = h3.return) && b4.call(h3);
                    } finally {
                      if (M2)
                        throw M2.error;
                    }
                  }
                }
              } catch (e4) {
                C3 = { error: e4 };
              } finally {
                try {
                  c3 && !c3.done && (y3 = u3.return) && y3.call(u3);
                } finally {
                  if (C3)
                    throw C3.error;
                }
              }
            return s4.length > 0 ? [4, this.upsert(s4)] : [3, 2];
          case 1:
            f4.sent(), f4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, n3.prototype.block = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._setBlockStateOfAllChannels(e3, t7, true)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.unblock = function(e3, t7) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, this._setBlockStateOfAllChannels(e3, t7, false)];
          case 1:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype.markAsRead = function(e3, t7) {
    return void 0 === t7 && (t7 = c([], a(this._channels.keys()), false)), r(this, void 0, void 0, function() {
      var n4, s4, r3, a3, i3, o3, u3, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            n4 = [], l3.label = 1;
          case 1:
            l3.trys.push([1, 6, 7, 8]), s4 = s(t7), r3 = s4.next(), l3.label = 2;
          case 2:
            return r3.done ? [3, 5] : (a3 = r3.value, [4, this.get(a3)]);
          case 3:
            (null == (i3 = l3.sent()) ? void 0 : i3._updateUnreadMemberState(this._sdkState.userId, e3)) && (i3._updateUnreadCount(0, 0), n4.push(i3)), l3.label = 4;
          case 4:
            return r3 = s4.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return o3 = l3.sent(), u3 = { error: o3 }, [3, 8];
          case 7:
            try {
              r3 && !r3.done && (c3 = s4.return) && c3.call(s4);
            } finally {
              if (u3)
                throw u3.error;
            }
            return [7];
          case 8:
            return n4.length > 0 ? [4, this.upsert(n4)] : [3, 10];
          case 9:
            l3.sent(), l3.label = 10;
          case 10:
            return [2];
        }
      });
    });
  }, n3;
}(Ar);
var Yt3 = { invitedUserIds: void 0, channelUrl: void 0, coverUrl: void 0, coverImage: void 0, isDistinct: void 0, isSuper: void 0, isBroadcast: void 0, isExclusive: void 0, isPublic: void 0, isDiscoverable: void 0, isStrict: void 0, isEphemeral: void 0, accessCode: void 0, name: void 0, data: void 0, customType: void 0, operatorUserIds: void 0, messageSurvivalSeconds: void 0 };
var Kt3 = function(e3) {
  return S("string", e3.invitedUserIds, true) && w("string", e3.channelUrl, true) && w("string", e3.coverUrl, true) && (k(e3.coverImage) || w("string", e3.coverImage, true)) && w("boolean", e3.isDistinct, true) && w("boolean", e3.isSuper, true) && w("boolean", e3.isBroadcast, true) && w("boolean", e3.isExclusive, true) && w("boolean", e3.isPublic, true) && w("boolean", e3.isStrict, true) && w("boolean", e3.isDiscoverable, true) && w("boolean", e3.isEphemeral, true) && w("string", e3.accessCode, true) && w("string", e3.name, true) && w("string", e3.data, true) && w("string", e3.customType, true) && S("string", e3.operatorUserIds, true) && w("number", e3.messageSurvivalSeconds, true);
};
var Jt3 = { customTypes: void 0, includeEmpty: false, includeFrozen: true, includeChatNotification: false };
var Zt3 = function(e3) {
  return S("string", e3.customTypes, true) && w("boolean", e3.includeEmpty) && w("boolean", e3.includeFrozen) && w("boolean", e3.includeChatNotification);
};
var Xt3 = { myMemberStateFilter: Ft3.ALL };
var $t3 = function(e3) {
  return N(Ft3, e3.myMemberStateFilter);
};
!function(e3) {
  e3.GROUP_CHANNEL_UNREAD_MENTION_COUNT = "group_channel_unread_mention_count", e3.NONSUPER_UNREAD_MENTION_COUNT = "non_super_group_channel_unread_mention_count", e3.SUPER_UNREAD_MENTION_COUNT = "super_group_channel_unread_mention_count", e3.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT = "group_channel_unread_message_count", e3.NONSUPER_UNREAD_MESSAGE_COUNT = "non_super_group_channel_unread_message_count", e3.SUPER_UNREAD_MESSAGE_COUNT = "super_group_channel_unread_message_count", e3.GROUP_CHANNEL_INVITATION_COUNT = "group_channel_invitation_count", e3.NONSUPER_INVITATION_COUNT = "non_super_group_channel_invitation_count", e3.SUPER_INVITATION_COUNT = "super_group_channel_invitation_count";
}(Wt3 || (Wt3 = {}));
var en3 = { keys: [] };
var tn3 = { channelCustomTypesFilter: void 0, superChannelFilter: xt3.ALL };
var nn3 = function(e3) {
  return S("string", e3.channelCustomTypesFilter, true) && N(xt3, e3.superChannelFilter);
};
var sn3 = { channelUrl: void 0, scheduledStatus: void 0, messageTypeFilter: G.ALL };
var rn3 = n({}, Co);
var an3 = function(e3) {
  return e3.startsWith("EVENT_") || e3 === Co.SYNC_CHANNEL_CHANGELOGS || e3 === Co.REFRESH_CHANNEL;
};
var on3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channels, s4 = e3.source, r3 = e3.isWebSocketEventComing, a3 = void 0 !== r3 && r3, i3 = e3.data, o3 = void 0 === i3 ? null : i3, u3 = e3.ts, c3 = t6.call(this) || this;
    return c3.channels = n4, c3.source = s4, c3.isWebSocketEventComing = a3, c3.data = o3, c3.ts = u3, c3;
  }
  return t(n3, t6), n3;
}(ee);
var un3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrls, s4 = e3.source, r3 = e3.isWebSocketEventComing, a3 = void 0 !== r3 && r3, i3 = t6.call(this) || this;
    return i3.channelUrls = n4, i3.source = s4, i3.isWebSocketEventComing = a3, i3;
  }
  return t(n3, t6), n3;
}(ee);
var cn3 = function() {
  function e3(e4) {
    var t6 = e4.groupChannelCache, n3 = e4.messageCache, s4 = e4.unsentMessageCache, r3 = e4.dispatcher, a3 = this;
    this._observers = /* @__PURE__ */ new Map(), r3.on(function(e5) {
      return r(a3, void 0, void 0, function() {
        var r4, a4, i3, o3, u3, c3, l3, h3, d3, _2, m4, g4, E3, C3, y3 = this;
        return o(this, function(M2) {
          switch (M2.label) {
            case 0:
              if (!(e5 instanceof on3))
                return [3, 10];
              r4 = e5.channels, m4 = e5.source, g4 = e5.isWebSocketEventComing, a4 = e5.data, i3 = r4.filter(function(e6) {
                return e6 instanceof gr3;
              }), o3 = t6.filterOffsetChanged(i3), M2.label = 1;
            case 1:
              M2.trys.push([1, 6, 7, 8]), u3 = s(o3), c3 = u3.next(), M2.label = 2;
            case 2:
              return c3.done ? [3, 5] : (l3 = c3.value, [4, n3.removeUnderOffset(l3.url, l3.messageOffsetTimestamp)]);
            case 3:
              M2.sent(), M2.label = 4;
            case 4:
              return c3 = u3.next(), [3, 2];
            case 5:
              return [3, 8];
            case 6:
              return h3 = M2.sent(), E3 = { error: h3 }, [3, 8];
            case 7:
              try {
                c3 && !c3.done && (C3 = u3.return) && C3.call(u3);
              } finally {
                if (E3)
                  throw E3.error;
              }
              return [7];
            case 8:
              return [4, t6.upsert(i3, e5.ts)];
            case 9:
              return d3 = M2.sent(), g4 || this._broadcastUpdateEvent(d3, m4, a4), [3, 15];
            case 10:
              return e5 instanceof un3 ? (_2 = e5.channelUrls, m4 = e5.source, g4 = e5.isWebSocketEventComing, [4, t6.remove(_2)]) : [3, 13];
            case 11:
              return M2.sent(), [4, Kr(function() {
                return r(y3, void 0, void 0, function() {
                  var e6, t7, r5, a5, i4, o4;
                  return o(this, function(u4) {
                    switch (u4.label) {
                      case 0:
                        u4.trys.push([0, 6, 7, 8]), e6 = s(_2), t7 = e6.next(), u4.label = 1;
                      case 1:
                        return t7.done ? [3, 5] : (r5 = t7.value, [4, n3.removeMessagesOfChannel(r5)]);
                      case 2:
                        return u4.sent(), [4, s4.removeMessagesOfChannel(r5)];
                      case 3:
                        u4.sent(), u4.label = 4;
                      case 4:
                        return t7 = e6.next(), [3, 1];
                      case 5:
                        return [3, 8];
                      case 6:
                        return a5 = u4.sent(), i4 = { error: a5 }, [3, 8];
                      case 7:
                        try {
                          t7 && !t7.done && (o4 = e6.return) && o4.call(e6);
                        } finally {
                          if (i4)
                            throw i4.error;
                        }
                        return [7];
                      case 8:
                        return [2];
                    }
                  });
                });
              })];
            case 12:
              return M2.sent(), g4 || this._broadcastRemoveEvent(_2, m4), [3, 15];
            case 13:
              return e5 instanceof v2 ? [4, t6.fetch({ token: Number.MAX_SAFE_INTEGER, limit: Number.MAX_SAFE_INTEGER })] : [3, 15];
            case 14:
              M2.sent(), M2.label = 15;
            case 15:
              return [2];
          }
        });
      });
    });
  }
  return e3.prototype._broadcastUpdateEvent = function(e4, t6, n3) {
    var s4, r3;
    try {
      for (var a3 = s(this._observers.values()), i3 = a3.next(); !i3.done; i3 = a3.next()) {
        var o3 = i3.value;
        o3.onUpdate && o3.onUpdate(e4, t6, n3);
      }
    } catch (e5) {
      s4 = { error: e5 };
    } finally {
      try {
        i3 && !i3.done && (r3 = a3.return) && r3.call(a3);
      } finally {
        if (s4)
          throw s4.error;
      }
    }
  }, e3.prototype._broadcastRemoveEvent = function(e4, t6) {
    var n3, s4;
    try {
      for (var r3 = s(this._observers.values()), a3 = r3.next(); !a3.done; a3 = r3.next()) {
        var i3 = a3.value;
        i3.onRemove && i3.onRemove(e4, t6);
      }
    } catch (e5) {
      n3 = { error: e5 };
    } finally {
      try {
        a3 && !a3.done && (s4 = r3.return) && s4.call(r3);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
  }, e3.prototype.subscribe = function(e4, t6) {
    this._observers.set(e4, t6);
  }, e3.prototype.unsubscribe = function(e4) {
    this._observers.delete(e4);
  }, e3.prototype.unsubscribeAll = function() {
    this._observers.clear();
  }, e3;
}();
var ln3 = function(r3) {
  function a3(e3) {
    var a4 = e3.userId, i3 = e3.ts, o3 = e3.token, u3 = e3.filter, c3 = e3.includeChatNotification, l3 = void 0 !== c3 && c3, h3 = r3.call(this) || this, d3 = n(n({}, Jt3), u3), _2 = d3.customTypes, p5 = d3.includeEmpty, f4 = d3.includeFrozen;
    return h3.method = ie.GET, h3.path = "".concat(oe, "/").concat(encodeURIComponent(a4), "/my_group_channels/changelogs"), h3.params = te(ne({ show_delivery_receipt: true, show_member: true, show_read_receipt: true, change_ts: i3 || null, token: o3, custom_types: _2, show_empty: p5, show_frozen: f4, include_chat_notification: l3 })), h3;
  }
  return t(a3, r3), a3;
}(Ce);
var hn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.updatedChannels = n4.updated.map(function(t7) {
      return new gr3(e3, Object.assign(t7, { ts: n4.ts }));
    }), s4.deletedChannelUrls = n4.deleted, s4.hasMore = n4.has_more, s4.token = n4.next, s4.ts = n4.ts, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var dn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl, s4 = e3.isInternalCall, r3 = t6.call(this) || this;
    return r3.method = ie.GET, r3.path = "".concat(s4 ? ce : ae, "/").concat(encodeURIComponent(n4)), r3.params = { show_member: true, show_read_receipt: true, show_delivery_receipt: true }, r3;
  }
  return t(n3, t6), n3;
}(Ce);
var _n3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var pn3 = { includeEmpty: false, includeFrozen: true, includeMetaData: true, includeChatNotification: false, channelUrlsFilter: void 0, customTypesFilter: void 0, customTypeStartsWithFilter: void 0, nicknameContainsFilter: void 0, nicknameStartsWithFilter: void 0, nicknameExactMatchFilter: void 0, channelNameContainsFilter: void 0, myMemberStateFilter: Ft3.ALL, unreadChannelFilter: Ot3.ALL, superChannelFilter: xt3.ALL, publicChannelFilter: Pt3.ALL, hiddenChannelFilter: Ht3.ALL, userIdsFilter: { userIds: [], includeMode: true, queryType: Vt3.AND }, searchFilter: { query: void 0, fields: [] }, metadataKey: void 0, metadataValues: void 0, metadataOrderKeyFilter: void 0, metadataValueStartsWith: void 0, order: E2.LATEST_LAST_MESSAGE, createdAfter: void 0, createdBefore: void 0 };
var fn3 = function(n3) {
  function s4(e3) {
    var s5 = this, r3 = e3.userId, a3 = e3.token, i3 = e3.limit, o3 = e3.order, u3 = e3.includeEmpty, c3 = e3.myMemberStateFilter, l3 = e3.superChannelFilter, h3 = e3.publicChannelFilter, d3 = e3.unreadChannelFilter, _2 = e3.nicknameContainsFilter, p5 = e3.nicknameStartsWithFilter, f4 = e3.nicknameExactMatchFilter, v5 = e3.channelNameContainsFilter, m4 = e3.channelUrlsFilter, g4 = e3.customTypesFilter, E3 = e3.customTypeStartsWithFilter, C3 = e3.hiddenChannelFilter, y3 = e3.metadataOrderKeyFilter, M2 = e3.metadataKey, b4 = e3.metadataValues, S4 = e3.metadataValueStartsWith, A4 = e3.includeFrozen, T4 = e3.includeMetaData, I4 = e3.searchFilter, w3 = e3.userIdsFilter, D3 = e3.includeChatNotification, L4 = void 0 !== D3 && D3, R3 = e3.createdAfter, k2 = e3.createdBefore;
    return (s5 = n3.call(this) || this).method = ie.GET, s5.path = "".concat(oe, "/").concat(encodeURIComponent(r3), "/my_group_channels"), s5.params = te({ token: a3, limit: i3, order: null != o3 ? o3 : pn3.order, show_member: true, show_read_receipt: true, show_delivery_receipt: true, show_empty: null != u3 ? u3 : pn3.includeEmpty, member_state_filter: null != c3 ? c3 : pn3.myMemberStateFilter, super_mode: null != l3 ? l3 : pn3.superChannelFilter, public_mode: null != h3 ? h3 : pn3.publicChannelFilter, unread_filter: null != d3 ? d3 : pn3.unreadChannelFilter, members_nickname_contains: _2, members_nickname_startswith: p5, members_nickname: f4, name_contains: v5, channel_urls: m4, custom_types: g4, custom_type_startswith: E3, hidden_mode: C3, metadata_order_key: y3, metadata_key: M2, metadata_values: b4, metadata_value_startswith: S4, show_frozen: A4, show_metadata: T4, include_chat_notification: L4, created_after: R3, created_before: k2 }), I4 && I4.query && I4.fields && (s5.params.search_query = I4.query, s5.params.search_fields = I4.fields), w3 && w3.userIds && w3.userIds.length > 0 && (w3.includeMode ? (s5.params.members_include_in = w3.userIds, s5.params.query_type = w3.queryType.toUpperCase()) : s5.params.members_exactly_in = w3.userIds), s5;
  }
  return t(s4, n3), s4;
}(Ce);
var vn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    s4.channels = [];
    var r3 = n4.next, a3 = n4.channels, i3 = n4.ts;
    return s4.token = r3, a3 && a3.length > 0 && (s4.channels = a3.map(function(t7) {
      return t7.ts = i3, new gr3(e3, t7);
    })), s4.ts = null != i3 ? i3 : 0, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var mn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.filter, r3 = t6.call(this) || this, a3 = s4.myMemberStateFilter;
    return r3.method = ie.GET, r3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/group_channel_count"), r3.params = { state: null != a3 ? a3 : Ft3.ALL }, r3;
  }
  return t(n3, t6), n3;
}(Ce);
var gn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.groupChannelCount = n4.group_channel_count, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var En3 = function(n3) {
  function s4(e3) {
    var s5 = e3.userId, r3 = e3.filter, a3 = n3.call(this) || this, i3 = r3.keys;
    return a3.method = ie.GET, a3.path = "".concat(oe, "/").concat(encodeURIComponent(s5), "/unread_item_count"), a3.params = te({ item_keys: i3 }), a3;
  }
  return t(s4, n3), s4;
}(Ce);
var Cn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return "number" == typeof n4[Wt3.GROUP_CHANNEL_UNREAD_MENTION_COUNT] && (s4.groupChannelUnreadMentionCount = n4[Wt3.GROUP_CHANNEL_UNREAD_MENTION_COUNT]), "number" == typeof n4[Wt3.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT] && (s4.groupChannelUnreadMessageCount = n4[Wt3.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]), "number" == typeof n4[Wt3.GROUP_CHANNEL_INVITATION_COUNT] && (s4.groupChannelInvitationCount = n4[Wt3.GROUP_CHANNEL_INVITATION_COUNT]), "number" == typeof n4[Wt3.SUPER_UNREAD_MENTION_COUNT] && (s4.superGroupChannelUnreadMentionCount = n4[Wt3.SUPER_UNREAD_MENTION_COUNT]), "number" == typeof n4[Wt3.SUPER_UNREAD_MESSAGE_COUNT] && (s4.superGroupChannelUnreadMessageCount = n4[Wt3.SUPER_UNREAD_MESSAGE_COUNT]), "number" == typeof n4[Wt3.SUPER_INVITATION_COUNT] && (s4.superGroupChannelInvitationCount = n4[Wt3.SUPER_INVITATION_COUNT]), "number" == typeof n4[Wt3.NONSUPER_UNREAD_MENTION_COUNT] && (s4.nonSuperGroupChannelUnreadMentionCount = n4[Wt3.NONSUPER_UNREAD_MENTION_COUNT]), "number" == typeof n4[Wt3.NONSUPER_UNREAD_MESSAGE_COUNT] && (s4.nonSuperGroupChannelUnreadMessageCount = n4[Wt3.NONSUPER_UNREAD_MESSAGE_COUNT]), "number" == typeof n4[Wt3.NONSUPER_INVITATION_COUNT] && (s4.nonSuperGroupChannelInvitationCount = n4[Wt3.NONSUPER_INVITATION_COUNT]), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var yn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = t6.call(this) || this;
    return s4.method = ie.GET, s4.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/unread_channel_count"), s4;
  }
  return t(n3, t6), n3;
}(Ce);
var Mn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.unreadCount = n4.unread_count, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var bn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.filter, r3 = e3.includeFeedChannel, a3 = void 0 !== r3 && r3, i3 = t6.call(this) || this, o3 = s4.channelCustomTypesFilter, u3 = s4.superChannelFilter;
    return i3.method = ie.GET, i3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/unread_message_count"), i3.params = { super_mode: null != u3 ? u3 : xt3.ALL, custom_types: o3, include_feed_channel: a3 }, i3;
  }
  return t(n3, t6), n3;
}(Ce);
var Nn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.unreadCount = n4.unread_count, s4.unreadFeedCount = n4.unread_feed_count, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var Un3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl, s4 = e3.scheduledStatus, r3 = e3.messageTypeFilter, a3 = t6.call(this) || this;
    return a3.method = ie.GET, a3.path = "".concat(Ee, "/count"), a3.params = { channel_url: n4, status: An3(s4) }, r3 && (a3.params.message_type = r3), a3;
  }
  return t(n3, t6), n3;
}(Ce);
var Sn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.count = n4.count, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var An3 = function(e3) {
  if (!e3)
    return [];
  var t6 = [];
  return e3.forEach(function(e4) {
    switch (e4) {
      case Ae2.PENDING:
        t6.push(Ne2.PENDING);
        break;
      case Ae2.SENT:
        t6.push(Ne2.IN_QUEUE), t6.push(Ne2.SENT);
        break;
      case Ae2.CANCELED:
        t6.push(Ne2.CANCELED);
        break;
      case Ae2.FAILED:
        t6.push(Ne2.FAILED);
    }
  }), t6;
};
var Tn3 = function(n3) {
  function s4(e3) {
    var s5 = this, r3 = e3.userId, a3 = e3.channelUrl, i3 = e3.coverUrl, o3 = e3.coverImage, u3 = e3.isDistinct, c3 = e3.isSuper, l3 = e3.isBroadcast, h3 = e3.isPublic, p5 = e3.isExclusive, f4 = e3.isDiscoverable, v5 = e3.isStrict, m4 = e3.isEphemeral, g4 = e3.accessCode, E3 = e3.name, C3 = e3.data, y3 = e3.customType, M2 = e3.messageSurvivalSeconds, b4 = e3.invitedUserIds, U3 = e3.operatorUserIds;
    return (s5 = n3.call(this) || this).method = ie.POST, s5.path = ae, s5.params = te({ user_ids: c([r3], a(null != b4 ? b4 : []), false).filter(function(e4, t6, n4) {
      return t6 === n4.indexOf(e4);
    }), channel_url: a3, cover_url: i3, cover_file: o3, is_distinct: u3, is_super: c3, is_broadcast: l3, is_exclusive: p5, is_public: h3, is_discoverable: f4, strict: v5, is_ephemeral: m4, access_code: g4, name: E3, data: C3, custom_type: y3, operator_ids: U3, message_survival_seconds: M2 }), s5;
  }
  return t(s4, n3), s4;
}(Ce);
var In3 = function(t6) {
  function n3(e3, n4) {
    var s4, r3 = this;
    return (r3 = t6.call(this, e3, n4) || this).channel = new gr3(e3, n4), r3.isCreated = null === (s4 = n4.is_created) || void 0 === s4 || s4, r3;
  }
  return t(n3, t6), n3;
}(Oe);
var wn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.channelUrls, r3 = t6.call(this) || this;
    return r3.method = ie.PUT, r3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/mark_as_read_all"), r3.params = { channel_urls: s4 }, r3;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var Dn3 = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userId, a3 = e3.accessCode;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/join"), n4.params = { user_id: r3, access_code: a3 }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
var Ln3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var Rn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, n4, s4) || this, a3 = s4.data, i3 = a3.member_count, o3 = void 0 === i3 ? 0 : i3, u3 = a3.joined_member_count, c3 = void 0 === u3 ? 0 : u3, l3 = a3.users, h3 = void 0 === l3 ? null : l3;
    return r3.memberCount = o3, r3.joinedMemberCount = c3, r3.members = Array.isArray(h3) ? h3.map(function(t7) {
      return new qt3(e3, t7);
    }) : [new qt3(e3, s4.data)], r3;
  }
  return t(n3, t6), n3;
}(f2);
var kn3 = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userId, a3 = e3.shouldRemoveOperatorStatus;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/leave"), n4.params = { user_id: r3, should_remove_operator_status: a3 }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var Pn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, n4, s4) || this, a3 = s4.data, i3 = a3.member_count, o3 = void 0 === i3 ? 0 : i3, u3 = a3.joined_member_count, c3 = void 0 === u3 ? 0 : u3;
    return r3.memberCount = o3, r3.joinedMemberCount = c3, r3.member = new qt3(r3._iid, s4.data), r3;
  }
  return t(n3, t6), n3;
}(f2);
var Fn3 = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userIds;
    return (n4 = t6.call(this) || this).method = ie.POST, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/invite"), n4.params = { user_ids: r3 }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
var xn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var On3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, n4, s4) || this;
    r3.inviter = null;
    var a3 = s4.data, i3 = a3.member_count, u3 = void 0 === i3 ? 0 : i3, c3 = a3.joined_member_count, l3 = void 0 === c3 ? 0 : c3, h3 = a3.inviter, d3 = a3.invitees, _2 = void 0 === d3 ? [] : d3;
    return r3.memberCount = u3, r3.joinedMemberCount = l3, h3 && Object.keys(h3).length > 0 && (r3.inviter = new Fr(e3, h3)), r3.invitees = _2.map(function(t7) {
      return new qt3(e3, t7);
    }), r3;
  }
  return t(n3, t6), n3;
}(f2);
var Hn3 = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userId;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/decline"), n4.params = { user_id: r3 }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4.channel.myMemberState = kt3.NONE, s4;
  }
  t(n3, t6);
}(Oe);
var Gn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, n4, s4) || this, a3 = s4.data, i3 = a3.member_count, u3 = a3.joined_member_count, c3 = a3.inviter, l3 = a3.invitee;
    return r3.memberCount = null != i3 ? i3 : 0, r3.joinedMemberCount = null != u3 ? u3 : 0, r3.inviter = new Fr(e3, c3), r3.invitee = new qt3(e3, l3), r3;
  }
  return t(n3, t6), n3;
}(f2);
var Vn3 = { hidePreviousMessages: false, allowAutoUnhide: true };
var Bn3 = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userId, a3 = e3.hidePreviousMessages, i3 = e3.allowAutoUnhide;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/hide"), n4.params = { user_id: r3, hide_previous_messages: null != a3 ? a3 : Vn3.hidePreviousMessages, allow_auto_unhide: null != i3 ? i3 : Vn3.allowAutoUnhide }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
var qn3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this, r3 = n4.ts_message_offset;
    return s4.messageOffsetTimestamp = r3, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var zn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3, a3, i3, o3 = this;
    return (o3 = t6.call(this, e3, "SYEV", s4) || this).allowAutoUnhide = null, o3.hidePreviousMessages = null, o3.messageOffsetTimestamp = null, s4.data && (o3.allowAutoUnhide = null !== (r3 = s4.data.allow_auto_unhide) && void 0 !== r3 ? r3 : null, o3.hidePreviousMessages = null !== (a3 = s4.data.hide_previous_messages) && void 0 !== a3 ? a3 : null), o3.messageOffsetTimestamp = null !== (i3 = s4.ts_message_offset) && void 0 !== i3 ? i3 : null, o3;
  }
  return t(n3, t6), n3;
}(Re);
var Wn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl, s4 = e3.time;
    return t6.call(this, { code: "TPST", ackRequired: false, payload: { channel_url: n4, time: s4 } }) || this;
  }
  return t(n3, t6), n3;
}(De);
var jn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, "SYEV", s4) || this;
    return r3.user = new Fr(e3, s4.data), r3;
  }
  return t(n3, t6), n3;
}(Re);
var Qn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl, s4 = e3.time;
    return t6.call(this, { code: "TPEN", ackRequired: false, payload: { channel_url: n4, time: s4 } }) || this;
  }
  return t(n3, t6), n3;
}(De);
var Yn3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, "SYEV", s4) || this;
    return r3.user = new Fr(e3, s4.data), r3;
  }
  return t(n3, t6), n3;
}(Re);
var Kn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl, s4 = e3.messageId;
    return t6.call(this, { code: "MACK", ackRequired: false, payload: { channel_url: n4, msg_id: s4 } }) || this;
  }
  return t(n3, t6), n3;
}(De);
var Jn3 = function(t6) {
  function a3(e3, n3) {
    var s4, r3, a4, i3, o3, u3, c3, l3, h3, d3, _2, p5, f4, v5, m4, g4, E3, C3, y3, M2, b4, N3, U3, S4 = this;
    return (S4 = t6.call(this, e3, n3) || this).includeEmpty = false, S4.includeFrozen = true, S4.includeMetaData = true, S4.includeChatNotification = false, S4.channelUrlsFilter = null, S4.customTypesFilter = null, S4.customTypeStartsWithFilter = null, S4.nicknameContainsFilter = null, S4.nicknameStartsWithFilter = null, S4.nicknameExactMatchFilter = null, S4.channelNameContainsFilter = "", S4.myMemberStateFilter = Ft3.ALL, S4.unreadChannelFilter = Ot3.ALL, S4.superChannelFilter = xt3.ALL, S4.publicChannelFilter = Pt3.ALL, S4.hiddenChannelFilter = Ht3.UNHIDDEN, S4.searchFilter = { fields: [], query: null }, S4.userIdsFilter = { userIds: [], includeMode: true, queryType: Vt3.AND }, S4.metadataKey = null, S4.metadataValues = null, S4.metadataOrderKeyFilter = null, S4.metadataValueStartsWith = null, S4.order = E2.LATEST_LAST_MESSAGE, S4.includeEmpty = null !== (s4 = n3.includeEmpty) && void 0 !== s4 && s4, S4.includeFrozen = null === (r3 = n3.includeFrozen) || void 0 === r3 || r3, S4.includeMetaData = null === (a4 = n3.includeMetaData) || void 0 === a4 || a4, S4.includeChatNotification = null !== (i3 = n3.includeChatNotification) && void 0 !== i3 && i3, S4.channelUrlsFilter = null !== (o3 = n3.channelUrlsFilter) && void 0 !== o3 ? o3 : null, S4.customTypesFilter = null !== (u3 = n3.customTypesFilter) && void 0 !== u3 ? u3 : null, S4.customTypeStartsWithFilter = null !== (c3 = n3.customTypeStartsWithFilter) && void 0 !== c3 ? c3 : "", S4.nicknameContainsFilter = null !== (l3 = n3.nicknameContainsFilter) && void 0 !== l3 ? l3 : null, S4.nicknameStartsWithFilter = null !== (h3 = n3.nicknameStartsWithFilter) && void 0 !== h3 ? h3 : null, S4.nicknameExactMatchFilter = null !== (d3 = n3.nicknameExactMatchFilter) && void 0 !== d3 ? d3 : null, S4.channelNameContainsFilter = null !== (_2 = n3.channelNameContainsFilter) && void 0 !== _2 ? _2 : "", S4.myMemberStateFilter = null !== (p5 = n3.myMemberStateFilter) && void 0 !== p5 ? p5 : Ft3.ALL, S4.unreadChannelFilter = null !== (f4 = n3.unreadChannelFilter) && void 0 !== f4 ? f4 : Ot3.ALL, S4.superChannelFilter = null !== (v5 = n3.superChannelFilter) && void 0 !== v5 ? v5 : xt3.ALL, S4.publicChannelFilter = null !== (m4 = n3.publicChannelFilter) && void 0 !== m4 ? m4 : Pt3.ALL, S4.hiddenChannelFilter = null !== (g4 = n3.hiddenChannelFilter) && void 0 !== g4 ? g4 : Ht3.UNHIDDEN, S4.searchFilter = null !== (E3 = n3.searchFilter) && void 0 !== E3 ? E3 : { fields: [], query: null }, S4.userIdsFilter = null !== (C3 = n3.userIdsFilter) && void 0 !== C3 ? C3 : { userIds: [], includeMode: true, queryType: Vt3.AND }, S4.metadataKey = null !== (y3 = n3.metadataKey) && void 0 !== y3 ? y3 : null, S4.metadataValues = null !== (M2 = n3.metadataValues) && void 0 !== M2 ? M2 : null, S4.metadataOrderKeyFilter = null !== (b4 = n3.metadataOrderKeyFilter) && void 0 !== b4 ? b4 : null, S4.metadataValueStartsWith = null !== (N3 = n3.metadataValueStartsWith) && void 0 !== N3 ? N3 : null, S4.order = null !== (U3 = n3.order) && void 0 !== U3 ? U3 : E2.LATEST_LAST_MESSAGE, n3.createdAfter && (S4.createdAfter = n3.createdAfter), n3.createdBefore && (S4.createdBefore = n3.createdBefore), S4;
  }
  return t(a3, t6), a3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && w("boolean", this.includeEmpty) && w("boolean", this.includeFrozen) && w("boolean", this.includeMetaData) && w("string", this.channelNameContainsFilter) && S("string", this.channelUrlsFilter, true) && S("string", this.customTypesFilter, true) && w("string", this.customTypeStartsWithFilter) && w("string", this.nicknameContainsFilter, true) && w("string", this.nicknameStartsWithFilter, true) && w("string", this.nicknameExactMatchFilter, true) && N(Ft3, this.myMemberStateFilter) && N(xt3, this.superChannelFilter) && N(Pt3, this.publicChannelFilter) && N(Ot3, this.unreadChannelFilter) && N(Ht3, this.hiddenChannelFilter) && S(Bt3, this.searchFilter.fields) && w("string", this.searchFilter.query, true) && S("string", this.userIdsFilter.userIds) && w("boolean", this.userIdsFilter.includeMode) && N(Vt3, this.userIdsFilter.queryType) && N(E2, this.order) && w("string", this.metadataOrderKeyFilter, true) && w("string", this.metadataKey, true) && S("string", this.metadataValues, true) && w("string", this.metadataValueStartsWith, true) && A(this.createdAfter, true) && A(this.createdBefore, true);
  }, a3.prototype.serialize = function() {
    return xr(this);
  }, a3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, r3;
      return o(this, function(a4) {
        switch (a4.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, [4, us3.of(this._iid).getMyGroupChannels(this._token, ne(n({}, this)), this.limit)]) : [3, 2] : [3, 5];
          case 1:
            return e3 = a4.sent(), t7 = e3.channels, r3 = e3.token, this._token = r3, this._hasNext = !!r3, this._isLoading = false, [2, t7];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, a3;
}(Ho);
var Zn3 = function(t6) {
  function n3(e3, n4, r3) {
    var a3, i3 = this;
    return (i3 = t6.call(this, e3, "SYEV", r3) || this).pinnedMessageIds = [], i3.latestPinnedMessage = null, i3.ts = 0, r3.data && (i3.pinnedMessageIds = null !== (a3 = r3.data.pinned_message_ids) && void 0 !== a3 ? a3 : [], i3.latestPinnedMessage = r3.data.latest_pinned_message ? $e2(e3, n({}, r3.data.latest_pinned_message)) : null), i3.ts = r3.ts, i3;
  }
  return t(n3, t6), n3;
}(Re);
var Xn3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrl;
    return t6.call(this, { code: "READ", ackRequired: true, payload: { channel_url: n4 } }) || this;
  }
  return t(n3, t6), n3;
}(De);
var $n3 = function(s4) {
  function r3(e3) {
    var r4 = e3.channelUrl, a3 = e3.channelType, i3 = e3.userId, o3 = s4.call(this) || this;
    return o3.method = ie.PUT, o3.path = "".concat(ye(a3), "/").concat(encodeURIComponent(r4), "/messages/mark_as_read"), o3.params = te(ne({ user_id: encodeURIComponent(i3) })), o3;
  }
  return t(r3, s4), r3;
}(Ce);
var es3 = function(s4) {
  function r3(e3) {
    var r4 = e3.channelUrl, a3 = e3.channelType, i3 = e3.userId, o3 = e3.notificationIds, u3 = s4.call(this) || this;
    return u3.method = ie.PUT, u3.path = "".concat(ye(a3), "/").concat(encodeURIComponent(r4), "/messages/mark_as_read"), u3.params = te(ne({ user_id: encodeURIComponent(i3), message_ids: o3 })), u3;
  }
  return t(r3, s4), r3;
}(Ce);
var ts3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, "READ", s4) || this;
    return r3.readStatus = new zt3(e3, s4), r3;
  }
  return t(n3, t6), n3;
}(Re);
var ns3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.readAt = n4.ts, s4.unreadMessageCount = n4.unread_message_count, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var ss3 = function(n3) {
  function s4(e3) {
    var s5 = e3.channelUrl, r3 = e3.userId, a3 = n3.call(this) || this;
    return (a3 = n3.call(this) || this).method = ie.PUT, a3.path = "".concat(ae, "/").concat(encodeURIComponent(s5), "/messages/mark_as_delivered"), a3.params = te({ userId: r3 }), a3;
  }
  return t(s4, n3), s4;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var rs3;
var as3 = function(t6) {
  function n3(e3, n4, s4) {
    var r3 = t6.call(this, e3, "DLVR", s4) || this;
    return r3.channelUrl = s4.channel_url, r3.deliveredStateUpdate = s4.updated, r3;
  }
  return t(n3, t6), n3;
}(Re);
var is3 = function() {
  function e3(e4) {
    var t6 = e4.top, n3 = void 0 === t6 ? Number.MAX_SAFE_INTEGER : t6, s4 = e4.bottom, r3 = void 0 === s4 ? 0 : s4;
    this.top = n3, this.bottom = r3;
  }
  return e3.prototype.includes = function() {
    for (var e4 = this, t6 = [], n3 = 0; n3 < arguments.length; n3++)
      t6[n3] = arguments[n3];
    return t6.every(function(t7) {
      return e4.top <= t7 && t7 <= e4.bottom;
    });
  }, e3.prototype.overlap = function(e4) {
    return this.includes(e4.top) || this.includes(e4.bottom);
  }, e3.prototype.intersect = function() {
    for (var e4 = this, t6 = [], n3 = 0; n3 < arguments.length; n3++)
      t6[n3] = arguments[n3];
    return t6.some(function(t7) {
      return e4.top <= t7 && t7 <= e4.bottom;
    });
  }, e3.prototype.extends = function() {
    for (var e4 = [], t6 = 0; t6 < arguments.length; t6++)
      e4[t6] = arguments[t6];
    this.top = Math.min.apply(Math, c([this.top], a(e4), false)), this.bottom = Math.max.apply(Math, c([this.bottom], a(e4), false));
  }, e3;
}();
var os3 = {};
var us3 = function(o3) {
  function u3(e3, t6) {
    var n3, r3 = this;
    return (r3 = o3.call(this, e3, n(n({}, t6), { channelType: F.GROUP })) || this)._leftChannels = /* @__PURE__ */ new Map(), r3._disableMack = false, r3._markAsReadAllLastSentAt = 0, r3._disableMack = null !== (n3 = t6.disableMack) && void 0 !== n3 && n3, r3._groupChannelHandlers = /* @__PURE__ */ new Map(), r3._groupChannelCache = new Qt3(r3._iid, { sdkState: t6.sdkState, cacheContext: t6.cacheContext }), r3._groupChannelBroadcast = new cn3({ dispatcher: t6.dispatcher, groupChannelCache: r3._groupChannelCache, messageCache: ds.of(r3._iid), unsentMessageCache: cs2.of(r3._iid) }), setInterval(function() {
      var e4, t7, n4 = function(e5) {
        e5.invalidateTypingStatus() && (r3._dispatcher.dispatch(new on3({ channels: [e5], source: Co.EVENT_CHANNEL_TYPING_STATUS_UPDATE })), r3._groupChannelHandlers.forEach(function(t8) {
          t8.onTypingStatusUpdated && t8.onTypingStatusUpdated(e5);
        }));
      };
      try {
        for (var s4 = s(r3._groupChannelCache.channels), a3 = s4.next(); !a3.done; a3 = s4.next()) {
          n4(a3.value);
        }
      } catch (t8) {
        e4 = { error: t8 };
      } finally {
        try {
          a3 && !a3.done && (t7 = s4.return) && t7.call(s4);
        } finally {
          if (e4)
            throw e4.error;
        }
      }
    }, 1e3), r3._dispatcher.on(function(e4) {
      e4 instanceof Re ? r3._handleEvent(e4) : e4 instanceof I2 ? r(r3, void 0, void 0, function() {
        var t7, n4;
        return o(this, function(s4) {
          switch (s4.label) {
            case 0:
              return t7 = e4.message, [4, this.getChannel(t7.channelUrl, true)];
            case 1:
              return n4 = s4.sent(), t7 instanceof We2 ? n4._autoResendUserMessage(t7) : t7 instanceof et2 && n4._autoResendFileMessage(t7), [2];
          }
        });
      }) : e4 instanceof D2 && r3.reduceDBSize();
    }), os3[e3] || (os3[e3] = r3), r3;
  }
  return t(u3, o3), Object.defineProperty(u3.prototype, "_messageCache", { get: function() {
    return ds.of(this._iid);
  }, enumerable: false, configurable: true }), Object.defineProperty(u3.prototype, "_unsentMessageCache", { get: function() {
    return cs2.of(this._iid);
  }, enumerable: false, configurable: true }), u3.of = function(e3) {
    return os3[e3] || (os3[e3] = new u3(e3, So.of(e3))), os3[e3];
  }, u3.clear = function(e3) {
    os3[e3] && delete os3[e3];
  }, Object.defineProperty(u3.prototype, "handlers", { get: function() {
    return c([], a(this._groupChannelHandlers.values()), false);
  }, enumerable: false, configurable: true }), u3.prototype.buildGroupChannelFromSerializedData = function(e3) {
    var t6 = Ur(e3);
    return new gr3(this._iid, gr3.payloadify(t6));
  }, u3.prototype.buildGroupChannelListQueryFromSerializedData = function(e3) {
    var t6 = Ur(e3);
    return new Jn3(this._iid, t6);
  }, u3.prototype.buildMemberFromSerializedData = function(e3) {
    var t6 = Ur(e3);
    return new qt3(this._iid, qt3.payloadify(t6));
  }, u3.prototype.getChannelFromCache = function(e3) {
    var t6;
    return r(this, void 0, void 0, function() {
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._groupChannelCache.get(e3)];
          case 1:
            return [2, null !== (t6 = n3.sent()) && void 0 !== t6 ? t6 : null];
        }
      });
    });
  }, u3.prototype.getChannelsFromCache = function(e3, t6, n3, s4, r3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return [4, this._groupChannelCache.fetch({ token: e3, filter: t6, order: n3, limit: s4, borderlineChannelUrl: r3 })];
          case 1:
            return [2, a3.sent()];
        }
      });
    });
  }, u3.prototype.upsertChannelsToCache = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._groupChannelCache.upsert(e3)];
          case 1:
            return [2, t6.sent()];
        }
      });
    });
  }, u3.prototype.removeChannelsFromCache = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._groupChannelCache.remove(e3)];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, u3.prototype.clearChannelsFromCache = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return [4, this._groupChannelCache.clear()];
          case 1:
            return e3.sent(), [2];
        }
      });
    });
  }, u3.prototype.reduceDBSize = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3, a3, i3, o4, u4, c3, l3, h3, d3, _2, p5;
      return o(this, function(f4) {
        switch (f4.label) {
          case 0:
            return e3 = ds.of(this._iid), t6 = So.of(this._iid).cacheContext, n3 = t6.localCacheConfig, s4 = t6.nestdb, t6.localCacheEnabled && s4 && s4.state == Yi2.OPENED ? (r3 = 1024 * n3.maxSize * 1024, [4, s4.estimateUsage()]) : [2];
          case 1:
            if ((a3 = f4.sent()) < r3)
              return [2];
            i3 = [], o4 = this._groupChannelCache.channels, u4 = {}, d3 = 0, f4.label = 2;
          case 2:
            return d3 < o4.length ? [4, this.getMessagesFromCache(o4[d3].url, 0, "prev", new Zi2())] : [3, 5];
          case 3:
            c3 = f4.sent(), u4[o4[d3].url] = JSON.stringify(c3).length, l3 = new P({ channel: o4[d3], cachedMessageCount: c3.length }), i3.push(l3), f4.label = 4;
          case 4:
            return d3++, [3, 2];
          case 5:
            h3 = i3.sort(n3.clearOrderComparator), d3 = 0, f4.label = 6;
          case 6:
            return d3 < h3.length ? [4, e3.removeMessagesOfChannel(h3[d3].channel.url)] : [3, 10];
          case 7:
            return f4.sent(), [4, e3._getGroupChannelPreferenceSize(h3[d3].channel.url)];
          case 8:
            if (_2 = f4.sent(), p5 = u4[h3[d3].channel.url] + _2, (a3 -= p5) < r3)
              return [3, 10];
            f4.label = 9;
          case 9:
            return d3++, [3, 6];
          case 10:
            return [2];
        }
      });
    });
  }, u3.prototype._handleEvent = function(e3) {
    var t6;
    return r(this, void 0, void 0, function() {
      var n3, s4, r3, o4, u4, c3, l3, h3, d3, _2, m4, g4, E3, C3, M2, N3, U3, S4, A4, T4, I4, w3, D3, L4, R3, k2, P2, F2, O3, H3, Q2, K3, J2, Z2, X2, $2, ee2, te2, ne2, se2, re2, ae2, ie2, oe2, ue2, ce2, le2, he2, de2, _e2, pe2, fe2, ve2, me2, ge2, Ee2, Ce3, ye2, Me3, be2, Ne3, Ue3, Ve4, Be4, qe4, ze4, We4, je4, Qe4, Ye4, Ke4, Je4, Ze3, Xe4, $e4, et3, tt3, nt3, st3, rt3, at3, it3, ot3, ut3, ct3, lt3, ht3, dt3, _t3, pt3, ft3, vt3, mt3, gt3, Et3, bt3, Ut3, Pt4, Ft4, xt4, Ot4, Ht4, Gt4, Vt4, Bt4, qt4, zt4, Wt4, jt4, Qt4, Yt4, Kt4, Jt4, Zt4, Xt4, $t4, en4, tn4, nn4, sn4, rn4, an4, cn4, ln4, hn4, dn4, _n4, pn4, fn4, vn4, mn4, gn4, En4, Cn4, yn4, Mn4, bn4, Nn4, Un4 = this;
      return o(this, function(Sn4) {
        switch (Sn4.label) {
          case 0:
            switch (Sn4.trys.push([0, 80, , 81]), e3.code) {
              case "MESG":
              case "FILE":
              case "ADMM":
              case "BRDM":
                return [3, 1];
              case "MEDI":
              case "FEDI":
              case "AEDI":
                return [3, 4];
              case "DELM":
                return [3, 7];
              case "READ":
                return [3, 10];
              case "DLVR":
                return [3, 13];
              case "MRCT":
                return [3, 15];
              case "MTHD":
                return [3, 19];
              case "MCNT":
                return [3, 23];
              case "PEDI":
                return [3, 32];
              case "VOTE":
                return [3, 35];
              case "SYEV":
                return [3, 38];
              case "USEV":
                return [3, 78];
            }
            return [3, 79];
          case 1:
            return h3 = null, "MESG" === e3.code ? h3 = e3.as(Kn2) : "FILE" === e3.code ? h3 = e3.as(it2) : "ADMM" !== e3.code && "BRDM" != e3.code || (h3 = e3.as(T3)), h3 ? (n3 = h3.message, s4 = h3.isMentioned, r3 = h3.forceUpdateLastMessage, n3.channelType !== F.GROUP ? [3, 3] : (this._disableMack || Kr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4;
                return o(this, function(t7) {
                  return e4 = new Kn3(n3), this._requestQueue.send(e4), [2];
                });
              });
            }), R3 = this._groupChannelCache.isCachedInMemory(n3.channelUrl), g4 = n3 instanceof Be2 && n3.sender.userId === this._sdkState.userId, [4, this.getChannel(n3.channelUrl, true)])) : [3, 3];
          case 2:
            if ((o4 = Sn4.sent()).hiddenState === dr3.HIDDEN_ALLOW_AUTO_UNHIDE && (o4.hiddenState = dr3.UNHIDDEN), n3 instanceof Be2) {
              u4 = So.of(this._iid).useMemberInfoInMessage;
              try {
                for (c3 = s(o4.members), l3 = c3.next(); !l3.done; l3 = c3.next())
                  if ((ft3 = l3.value).userId === n3.sender.userId) {
                    u4 || (n3.sender.nickname = ft3.nickname, n3.sender.plainProfileUrl = ft3.plainProfileUrl, n3.sender.metaData = ft3.metaData, n3.sender.isBlockedByMe = ft3.isBlockedByMe);
                    break;
                  }
              } catch (e4) {
                fn4 = { error: e4 };
              } finally {
                try {
                  l3 && !l3.done && (vn4 = c3.return) && vn4.call(c3);
                } finally {
                  if (fn4)
                    throw fn4.error;
                }
              }
              !u4 && s4 && (null === (t6 = n3.mentionedUsers) || void 0 === t6 || t6.forEach(function(e4) {
                var t7, n4;
                try {
                  for (var s5 = s(o4.members), r4 = s5.next(); !r4.done; r4 = s5.next()) {
                    var a3 = r4.value;
                    if (e4.userId === a3.userId) {
                      e4.nickname = a3.nickname, e4.plainProfileUrl = a3.plainProfileUrl, e4.metaData = a3.metaData;
                      break;
                    }
                  }
                } catch (e5) {
                  t7 = { error: e5 };
                } finally {
                  try {
                    r4 && !r4.done && (n4 = s5.return) && n4.call(s5);
                  } finally {
                    if (t7)
                      throw t7.error;
                  }
                }
              })), g4 && (M2 = this._sessionManager.currentUser) && (M2.nickname = n3.sender.nickname, M2.plainProfileUrl = n3.sender.plainProfileUrl, M2.metaData = n3.sender.metaData);
            }
            n3.silent && !g4 || (o4.isEphemeral || R3) && ((!o4.lastMessage || o4.lastMessage.createdAt < n3.createdAt) && (o4.lastMessage = n3), g4 || o4._updateUnreadCount(o4.unreadMessageCount + 1, o4.unreadMentionCount + (s4 ? 1 : 0))), r3 && (!o4.lastMessage || o4.lastMessage.createdAt < n3.createdAt) && (o4.lastMessage = n3), this._dispatcher.dispatch(new on3({ channels: [o4], source: Co.EVENT_MESSAGE_RECEIVED })), n3.silent && !g4 || jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelChanged && n4.onChannelChanged(o4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), this._dispatcher.dispatch(new Uo({ messages: [n3], source: Co.EVENT_MESSAGE_RECEIVED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, r4, a3, i3;
                return o(this, function(u5) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (r4 = t7.value).onMessageReceived && r4.onMessageReceived(o4, n3), s4 && r4.onMentionReceived && r4.onMentionReceived(o4, n3);
                  } catch (e5) {
                    a3 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (i3 = e4.return) && i3.call(e4);
                    } finally {
                      if (a3)
                        throw a3.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 3;
          case 3:
            return [3, 79];
          case 4:
            return h3 = null, "MEDI" === e3.code ? h3 = e3.as(Qn2) : "FEDI" === e3.code ? h3 = e3.as(Vn2) : "AEDI" === e3.code && (h3 = e3.as(H2)), h3 ? (d3 = h3.message, _2 = h3.mentionCountChange, d3.channelType !== F.GROUP ? [3, 6] : (R3 = this._groupChannelCache.isCachedInMemory(d3.channelUrl), [4, this.getChannel(d3.channelUrl, true)])) : [3, 6];
          case 5:
            m4 = Sn4.sent(), g4 = d3 instanceof Be2 && d3.sender.userId === this._sdkState.userId, E3 = false, g4 ? (C3 = d3.sender, (M2 = this._sessionManager.currentUser) && (M2.nickname = C3.nickname, M2.plainProfileUrl = C3.plainProfileUrl, M2.metaData = C3.metaData)) : m4.isReadMessage(d3) || 0 !== _2 && !d3.silent && R3 && (m4._updateUnreadCount(m4.unreadMessageCount, m4.unreadMentionCount + _2), E3 = true), !m4.lastMessage || m4.lastMessage.createdAt < d3.createdAt ? (m4.lastMessage = d3, E3 = true) : m4.lastMessage.isIdentical(d3) && (R3 ? m4.lastMessage.updatedAt < d3.updatedAt && (m4.lastMessage = d3, E3 = true) : E3 = true), N3 = false, m4.lastPinnedMessage && m4.lastPinnedMessage.messageId === d3.messageId && (m4.lastPinnedMessage = d3, E3 = true, N3 = true), E3 && (this._dispatcher.dispatch(new on3({ channels: [m4], source: N3 ? Co.EVENT_PINNED_MESSAGE_UPDATED : Co.EVENT_MESSAGE_UPDATED })), d3.silent && !g4 || jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelChanged && n4.onChannelChanged(m4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), N3 && jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onPinnedMessageUpdated && n4.onPinnedMessageUpdated(m4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })), this._dispatcher.dispatch(new Uo({ messages: [d3], source: Co.EVENT_MESSAGE_UPDATED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onMessageUpdated && n4.onMessageUpdated(m4, d3), 0 !== _2 && n4.onMentionReceived && n4.onMentionReceived(m4, d3);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 6;
          case 6:
            return [3, 79];
          case 7:
            return U3 = e3.as(Wn2), he2 = U3.channelUrl, de2 = U3.channelType, S4 = U3.messageId, de2 !== F.GROUP ? [3, 9] : [4, this.getChannel(he2, true)];
          case 8:
            A4 = Sn4.sent(), this._dispatcher.dispatch(new Po({ messageIds: [S4], source: Co.EVENT_MESSAGE_DELETED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onMessageDeleted && n4.onMessageDeleted(A4, S4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 9;
          case 9:
            return [3, 79];
          case 10:
            return (T4 = e3.as(ts3).readStatus).channelType !== F.GROUP ? [3, 12] : (R3 = this._groupChannelCache.isCachedInMemory(T4.channelUrl), [4, this.getChannel(T4.channelUrl, true)]);
          case 11:
            I4 = Sn4.sent(), R3 && I4._updateUnreadMemberState(T4.reader.userId, T4.readAt), T4.reader.userId === this._sdkState.userId ? R3 ? (I4.unreadMessageCount > 0 || I4.unreadMentionCount > 0) && (I4._updateUnreadCount(0, 0), this._dispatcher.dispatch(new on3({ channels: [I4], source: Co.EVENT_CHANNEL_READ })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelChanged && n4.onChannelChanged(I4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })) : 0 !== I4.unreadMessageCount && 0 !== I4.unreadMentionCount || (this._dispatcher.dispatch(new on3({ channels: [I4], source: Co.EVENT_CHANNEL_READ })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelChanged && n4.onChannelChanged(I4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })) : (this._dispatcher.dispatch(new on3({ channels: [I4], source: Co.EVENT_CHANNEL_READ })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onUnreadMemberStatusUpdated && n4.onUnreadMemberStatusUpdated(I4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })), Sn4.label = 12;
          case 12:
            return [3, 79];
          case 13:
            return w3 = e3.as(as3), he2 = w3.channelUrl, D3 = w3.deliveredStateUpdate, L4 = void 0 === D3 ? {} : D3, R3 = this._groupChannelCache.isCachedInMemory(he2), [4, this.getChannel(he2, true)];
          case 14:
            if (k2 = Sn4.sent(), R3)
              for (P2 in L4)
                k2._updateUndeliveredMemberState(P2, L4[P2]);
            return Object.keys(L4).some(function(e4) {
              return e4 !== Un4._sdkState.userId;
            }) && (this._dispatcher.dispatch(new on3({ channels: [k2], source: Co.EVENT_CHANNEL_DELIVERED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onUndeliveredMemberStatusUpdated && n4.onUndeliveredMemberStatusUpdated(k2);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })), [3, 79];
          case 15:
            return F2 = e3.as(L3), he2 = F2.channelUrl, de2 = F2.channelType, O3 = F2.event, de2 !== F.GROUP ? [3, 18] : [4, this.getChannel(he2, true)];
          case 16:
            return H3 = Sn4.sent(), [4, this.getMessageFromCache(O3.messageId)];
          case 17:
            (J2 = Sn4.sent()) instanceof ze2 && (J2.applyReactionEvent(O3), this._dispatcher.dispatch(new Uo({ messages: [J2], source: Co.EVENT_MESSAGE_REACTION_UPDATED }))), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onReactionUpdated && n4.onReactionUpdated(H3, O3);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 18;
          case 18:
            return [3, 79];
          case 19:
            return (Q2 = e3.as(g2).event).channelType !== F.GROUP ? [3, 22] : [4, this.getChannel(Q2.channelUrl, true)];
          case 20:
            return K3 = Sn4.sent(), [4, this.getMessageFromCache(Q2.targetMessageId)];
          case 21:
            (J2 = Sn4.sent()) instanceof ze2 && (J2.applyThreadInfoUpdateEvent(Q2), this._dispatcher.dispatch(new Uo({ messages: [J2], source: Co.EVENT_MESSAGE_THREADINFO_UPDATED }))), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onThreadInfoUpdated && n4.onThreadInfoUpdated(K3, Q2);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 22;
          case 22:
            return [3, 79];
          case 23:
            Z2 = e3.as(U2).groupChannelMemberCounts, X2 = [], Sn4.label = 24;
          case 24:
            Sn4.trys.push([24, 29, 30, 31]), $2 = s(Z2), ee2 = $2.next(), Sn4.label = 25;
          case 25:
            return ee2.done ? [3, 28] : (te2 = ee2.value, he2 = te2.channelUrl, st3 = te2.memberCount, rt3 = te2.joinedMemberCount, ne2 = te2.updatedAt, [4, this.getChannelFromCache(he2)]);
          case 26:
            (se2 = Sn4.sent()) && se2._setLatestMemberCount(st3, rt3, ne2) && X2.push(se2), Sn4.label = 27;
          case 27:
            return ee2 = $2.next(), [3, 25];
          case 28:
            return [3, 31];
          case 29:
            return re2 = Sn4.sent(), mn4 = { error: re2 }, [3, 31];
          case 30:
            try {
              ee2 && !ee2.done && (gn4 = $2.return) && gn4.call($2);
            } finally {
              if (mn4)
                throw mn4.error;
            }
            return [7];
          case 31:
            return X2.length > 0 && (this._dispatcher.dispatch(new on3({ channels: X2, source: Co.EVENT_CHANNEL_MEMBER_COUNT_UPDATED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelMemberCountChanged && n4.onChannelMemberCountChanged(X2);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            })), [3, 79];
          case 32:
            return ae2 = e3.as(I3), ie2 = ae2.event, oe2 = ae2.status, he2 = ae2.channelUrl, de2 = ae2.channelType, he2 && de2 === F.GROUP ? [4, this.getChannel(he2, true)] : [3, 34];
          case 33:
            ue2 = Sn4.sent(), this._dispatcher.dispatch(new zo({ event: ie2, source: Co.EVENT_POLL_UPDATED })), jr(oe2 === Oo ? function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onPollDeleted && n4.onPollDeleted(ue2, ie2.pollId);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            } : function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onPollUpdated && n4.onPollUpdated(ue2, ie2);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 34;
          case 34:
            return [3, 79];
          case 35:
            return ce2 = e3.as(vr2), le2 = ce2.event, he2 = ce2.channelUrl, de2 = ce2.channelType, he2 && de2 === F.GROUP ? [4, this.getChannel(he2, true)] : [3, 37];
          case 36:
            _e2 = Sn4.sent(), this._dispatcher.dispatch(new Vo({ event: le2, source: Co.EVENT_POLL_VOTED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onPollVoted && n4.onPollVoted(_e2, le2);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), Sn4.label = 37;
          case 37:
            return [3, 79];
          case 38:
            if (!(pe2 = e3.as(f2).event).isGroupChannelEvent)
              return [3, 77];
            switch (pe2.category) {
              case A2.CHANNEL_JOIN:
                return [3, 39];
              case A2.CHANNEL_LEAVE:
                return [3, 41];
              case A2.CHANNEL_OPERATOR_UPDATE:
                return [3, 45];
              case A2.CHANNEL_INVITE:
                return [3, 47];
              case A2.CHANNEL_DECLINE_INVITE:
                return [3, 49];
              case A2.TYPING_START:
              case A2.TYPING_END:
                return [3, 51];
              case A2.USER_CHANNEL_MUTE:
              case A2.USER_CHANNEL_UNMUTE:
                return [3, 53];
              case A2.USER_CHANNEL_BAN:
                return [3, 55];
              case A2.USER_CHANNEL_UNBAN:
                return [3, 59];
              case A2.CHANNEL_FREEZE:
              case A2.CHANNEL_UNFREEZE:
                return [3, 61];
              case A2.CHANNEL_HIDE:
                return [3, 63];
              case A2.CHANNEL_UNHIDE:
                return [3, 65];
              case A2.CHANNEL_DELETED:
                return [3, 67];
              case A2.CHANNEL_PROP_CHANGED:
                return [3, 69];
              case A2.CHANNEL_META_DATA_CHANGED:
                return [3, 71];
              case A2.CHANNEL_META_COUNTERS_CHANGED:
                return [3, 73];
              case A2.PINNED_MESSAGE_CHANGED:
                return [3, 75];
            }
            return [3, 77];
          case 39:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 40:
            return fe2 = Sn4.sent(), ve2 = e3.as(Rn3), me2 = ve2.memberCount, ge2 = ve2.joinedMemberCount, Ee2 = ve2.members, Ce3 = false, Ee2.forEach(function(e4) {
              fe2.isExclusive || fe2.isSuper || fe2.isBroadcast ? Ce3 = Ce3 || fe2._setLatestMemberCount(me2, ge2, pe2.ts) : (e4.state = kt3.JOINED, fe2.addMember(e4, pe2.ts), Un4._updateJoinedMemberCount(fe2)), e4.userId === Un4._sdkState.userId && (fe2.myMemberState = kt3.JOINED);
            }), this._dispatcher.dispatch(new on3({ channels: [fe2], source: Co.EVENT_CHANNEL_JOINED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    var t7, n4;
                    try {
                      for (var s5 = s(Ee2), r4 = s5.next(); !r4.done; r4 = s5.next()) {
                        var a3 = r4.value;
                        e5.onUserJoined && e5.onUserJoined(fe2, a3);
                      }
                    } catch (e6) {
                      t7 = { error: e6 };
                    } finally {
                      try {
                        r4 && !r4.done && (n4 = s5.return) && n4.call(s5);
                      } finally {
                        if (t7)
                          throw t7.error;
                      }
                    }
                    fe2.isBroadcast && Ce3 && e5.onChannelMemberCountChanged && e5.onChannelMemberCountChanged([fe2]);
                  }), [2];
                });
              });
            }), [3, 77];
          case 41:
            return (vt3 = this._leftChannels.get(pe2.channelUrl)) ? (Me3 = vt3.channel, [3, 44]) : [3, 42];
          case 42:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 43:
            Me3 = Sn4.sent(), Sn4.label = 44;
          case 44:
            return ye2 = Me3, be2 = e3.as(Pn3), st3 = be2.memberCount, rt3 = be2.joinedMemberCount, Ne3 = be2.member, Ue3 = false, Ve4 = So.of(this._iid).appInfo, ye2.isExclusive || ye2.isSuper || ye2.isBroadcast ? Ue3 = ye2._setLatestMemberCount(st3, rt3, pe2.ts) : ((null == Ve4 ? void 0 : Ve4.enabledChannelMemberShipHistory) ? ((Be4 = ye2.members.find(function(e4) {
              return e4.userId === Be4.userId;
            })) && (Be4.state = kt3.LEFT), ye2.memberCount = st3) : ye2.removeMember(Ne3), this._updateJoinedMemberCount(ye2)), Ne3.userId === this._sdkState.userId ? (ye2.myMemberState = kt3.NONE, ye2.invitedAt = 0, ye2.joinedAt = 0, ye2._updateUnreadCount(0, 0), ye2.isPublic ? this._dispatcher.dispatch(new on3({ channels: [ye2], source: Co.EVENT_CHANNEL_LEFT })) : (this._markAsLeave(ye2), this._dispatcher.dispatch(new un3({ channelUrls: [ye2.url], source: Co.EVENT_CHANNEL_LEFT })))) : this._dispatcher.dispatch(new on3({ channels: [ye2], source: Co.EVENT_CHANNEL_LEFT })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onUserLeft && e5.onUserLeft(ye2, Ne3), ye2.isBroadcast && Ue3 && e5.onChannelMemberCountChanged && e5.onChannelMemberCountChanged([ye2]);
                  }), [2];
                });
              });
            }), [3, 77];
          case 45:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 46:
            qe4 = Sn4.sent(), ze4 = e3.as(m2).operators, We4 = ze4.map(function(e4) {
              return e4.userId;
            });
            try {
              for (je4 = s(qe4.members), Qe4 = je4.next(); !Qe4.done; Qe4 = je4.next())
                (ft3 = Qe4.value).role = We4.includes(ft3.userId) ? z.OPERATOR : z.NONE;
            } catch (e4) {
              En4 = { error: e4 };
            } finally {
              try {
                Qe4 && !Qe4.done && (Cn4 = je4.return) && Cn4.call(je4);
              } finally {
                if (En4)
                  throw En4.error;
              }
            }
            return qe4.myRole = We4.includes(this._sdkState.userId) ? z.OPERATOR : z.NONE, this._dispatcher.dispatch(new on3({ channels: [qe4], source: Co.EVENT_CHANNEL_OPERATOR_UPDATED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onOperatorUpdated && e5.onOperatorUpdated(qe4, ze4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 47:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 48:
            Ye4 = Sn4.sent(), Ke4 = e3.as(On3), st3 = Ke4.memberCount, rt3 = Ke4.joinedMemberCount, Je4 = Ke4.inviter, (Ze3 = Ke4.invitees).forEach(function(e4) {
              return e4.state = kt3.INVITED;
            });
            try {
              for (Xe4 = s(Ze3), $e4 = Xe4.next(); !$e4.done; $e4 = Xe4.next())
                et3 = $e4.value, Ye4.isExclusive || Ye4.isSuper || Ye4.isBroadcast ? Ye4._setLatestMemberCount(st3, rt3, pe2.ts) : Ye4.addMember(et3, pe2.ts), this._sdkState.userId === et3.userId && (Ye4.hiddenState = dr3.UNHIDDEN, Ye4.myMemberState !== kt3.JOINED && (Ye4.myMemberState = kt3.INVITED), Ye4.invitedAt = pe2.ts);
            } catch (e4) {
              yn4 = { error: e4 };
            } finally {
              try {
                $e4 && !$e4.done && (Mn4 = Xe4.return) && Mn4.call(Xe4);
              } finally {
                if (yn4)
                  throw yn4.error;
              }
            }
            return this._dispatcher.dispatch(new on3({ channels: [Ye4], source: Co.EVENT_CHANNEL_INVITED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onUserReceivedInvitation && e5.onUserReceivedInvitation(Ye4, Je4, Ze3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 49:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 50:
            return tt3 = Sn4.sent(), nt3 = e3.as(Gn3), st3 = nt3.memberCount, rt3 = nt3.joinedMemberCount, at3 = nt3.inviter, it3 = nt3.invitee, tt3.isExclusive || tt3.isSuper || tt3.isBroadcast ? tt3._setLatestMemberCount(st3, rt3, pe2.ts) : tt3.removeMember(it3), this._sdkState.userId === it3.userId ? (tt3.invitedAt = 0, tt3.myMemberState = kt3.NONE, tt3.isPublic ? this._dispatcher.dispatch(new on3({ channels: [tt3], source: Co.EVENT_CHANNEL_DECLINED_INVITE })) : this._dispatcher.dispatch(new un3({ channelUrls: [tt3.url], source: Co.EVENT_CHANNEL_DECLINED_INVITE }))) : this._dispatcher.dispatch(new on3({ channels: [tt3], source: Co.EVENT_CHANNEL_DECLINED_INVITE })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onUserDeclinedInvitation && e5.onUserDeclinedInvitation(tt3, at3, it3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 51:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 52:
            return ot3 = Sn4.sent(), ut3 = pe2.category === A2.TYPING_START, ct3 = e3.as(ut3 ? jn3 : Yn3).user, ot3._updateTypingStatus(ct3, ut3 ? pe2.ts : 0), this._dispatcher.dispatch(new on3({ channels: [ot3], source: Co.EVENT_CHANNEL_TYPING_STATUS_UPDATE })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onTypingStatusUpdated && e5.onTypingStatusUpdated(ot3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 53:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 54:
            lt3 = Sn4.sent(), ht3 = pe2.category === A2.USER_CHANNEL_MUTE, (dt3 = e3.as(ht3 ? Un2 : On2).user).userId === this._sdkState.userId && (lt3.myMutedState = ht3 ? V.MUTED : V.UNMUTED, lt3._myMutedRemainingTime = dt3.restrictionInfo.remainingDuration);
            try {
              for (_t3 = s(lt3.members), pt3 = _t3.next(); !pt3.done; pt3 = _t3.next())
                if ((ft3 = pt3.value).userId === dt3.userId) {
                  ft3.isMuted = ht3;
                  break;
                }
            } catch (e4) {
              bn4 = { error: e4 };
            } finally {
              try {
                pt3 && !pt3.done && (Nn4 = _t3.return) && Nn4.call(_t3);
              } finally {
                if (bn4)
                  throw bn4.error;
              }
            }
            return this._dispatcher.dispatch(new on3({ channels: [lt3], source: ht3 ? Co.EVENT_CHANNEL_MUTED : Co.EVENT_CHANNEL_UNMUTED, data: dt3.userId })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    ht3 ? e5.onUserMuted && e5.onUserMuted(lt3, dt3) : e5.onUserUnmuted && e5.onUserUnmuted(lt3, dt3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 55:
            return (vt3 = this._leftChannels.get(pe2.channelUrl)) ? (gt3 = vt3.channel, [3, 58]) : [3, 56];
          case 56:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 57:
            gt3 = Sn4.sent(), Sn4.label = 58;
          case 58:
            return mt3 = gt3, this._markAsLeave(mt3), Et3 = e3.as(kn2).user, Et3.userId === this._sdkState.userId && this._dispatcher.dispatch(new un3({ channelUrls: [mt3.url], source: Co.EVENT_CHANNEL_BANNED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onUserBanned && e5.onUserBanned(mt3, Et3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 59:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 60:
            return bt3 = Sn4.sent(), Ut3 = e3.as(xn2).user, Ut3.userId === this._sdkState.userId && this._dispatcher.dispatch(new un3({ channelUrls: [bt3.url], source: Co.EVENT_CHANNEL_UNBANNED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onUserUnbanned && e5.onUserUnbanned(bt3, Ut3);
                  }), [2];
                });
              });
            }), [3, 77];
          case 61:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 62:
            return Pt4 = Sn4.sent(), Ft4 = e3.as(Ln2).freeze, Pt4.isFrozen = Ft4, this._dispatcher.dispatch(new on3({ channels: [Pt4], source: Ft4 ? Co.EVENT_CHANNEL_FROZEN : Co.EVENT_CHANNEL_UNFROZEN })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    Ft4 ? e5.onChannelFrozen && e5.onChannelFrozen(Pt4) : e5.onChannelUnfrozen && e5.onChannelUnfrozen(Pt4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 63:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 64:
            return xt4 = Sn4.sent(), Ot4 = e3.as(zn3), Ht4 = Ot4.allowAutoUnhide, Gt4 = Ot4.hidePreviousMessages, Vt4 = Ot4.messageOffsetTimestamp, null !== Ht4 && (xt4.hiddenState = Ht4 ? dr3.HIDDEN_ALLOW_AUTO_UNHIDE : dr3.HIDDEN_PREVENT_AUTO_UNHIDE), null !== Gt4 && Gt4 && xt4._updateUnreadCount(0, 0), null !== Vt4 && (xt4.messageOffsetTimestamp = Vt4), this._dispatcher.dispatch(new on3({ channels: [xt4], source: Co.EVENT_CHANNEL_HIDDEN })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onChannelHidden && e5.onChannelHidden(xt4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 65:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 66:
            return (Bt4 = Sn4.sent()).hiddenState = dr3.UNHIDDEN, this._dispatcher.dispatch(new on3({ channels: [Bt4], source: Co.EVENT_CHANNEL_UNHIDDEN })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onChannelChanged && e5.onChannelChanged(Bt4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 67:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 68:
            return qt4 = Sn4.sent(), this._dispatcher.dispatch(new un3({ channelUrls: [pe2.channelUrl], source: Co.EVENT_CHANNEL_DELETED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onChannelDeleted && e5.onChannelDeleted(qt4.url, qt4.channelType);
                  }), [2];
                });
              });
            }), [3, 77];
          case 69:
            return [4, this.getChannelWithoutCache(pe2.channelUrl, true)];
          case 70:
            return zt4 = Sn4.sent(), this._dispatcher.dispatch(new on3({ channels: [zt4], source: Co.EVENT_CHANNEL_UPDATED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onChannelChanged && e5.onChannelChanged(zt4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 71:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 72:
            return Wt4 = Sn4.sent(), jt4 = e3.as(pn2), Qt4 = jt4.created, Yt4 = jt4.updated, Kt4 = jt4.deleted, Qt4 && (Wt4._upsertCachedMetaData(Qt4, pe2.ts), this._dispatcher.dispatch(new on3({ channels: [Wt4], source: Co.EVENT_CHANNEL_METADATA_CREATED }))), Yt4 && (Wt4._upsertCachedMetaData(Yt4, pe2.ts), this._dispatcher.dispatch(new on3({ channels: [Wt4], source: Co.EVENT_CHANNEL_METADATA_UPDATED }))), Kt4 && (Wt4._removeFromCachedMetaData(Kt4, pe2.ts), this._dispatcher.dispatch(new on3({ channels: [Wt4], source: Co.EVENT_CHANNEL_METADATA_DELETED }))), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    Qt4 && e5.onMetaDataCreated && e5.onMetaDataCreated(Wt4, Qt4), Yt4 && e5.onMetaDataUpdated && e5.onMetaDataUpdated(Wt4, Yt4), Kt4 && e5.onMetaDataDeleted && e5.onMetaDataDeleted(Wt4, Kt4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 73:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 74:
            return Jt4 = Sn4.sent(), Zt4 = e3.as(Sn2), Xt4 = Zt4.created, $t4 = Zt4.updated, en4 = Zt4.deleted, Xt4 && this._dispatcher.dispatch(new on3({ channels: [Jt4], source: Co.EVENT_CHANNEL_METACOUNTER_CREATED })), $t4 && this._dispatcher.dispatch(new on3({ channels: [Jt4], source: Co.EVENT_CHANNEL_METACOUNTER_UPDATED })), en4 && this._dispatcher.dispatch(new on3({ channels: [Jt4], source: Co.EVENT_CHANNEL_METACOUNTER_DELETED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    Xt4 && e5.onMetaCounterCreated && e5.onMetaCounterCreated(Jt4, Xt4), $t4 && e5.onMetaCounterUpdated && e5.onMetaCounterUpdated(Jt4, $t4), en4 && e5.onMetaCounterDeleted && e5.onMetaCounterDeleted(Jt4, en4);
                  }), [2];
                });
              });
            }), [3, 77];
          case 75:
            return [4, this.getChannel(pe2.channelUrl, true)];
          case 76:
            return tn4 = Sn4.sent(), nn4 = e3.as(Zn3), sn4 = nn4.pinnedMessageIds, rn4 = nn4.latestPinnedMessage, (an4 = nn4.ts) > tn4._pinnedMessagesUpdatedAt && (tn4.pinnedMessageIds = sn4, tn4.lastPinnedMessage = rn4, tn4._pinnedMessagesUpdatedAt = an4, this._dispatcher.dispatch(new on3({ channels: [tn4], source: Co.EVENT_PINNED_MESSAGE_UPDATED })), jr(function() {
              return r(Un4, void 0, void 0, function() {
                var e4, t7, n4, s5, r4;
                return o(this, function(a3) {
                  try {
                    for (e4 = s(this._groupChannelHandlers.values()), t7 = e4.next(); !t7.done; t7 = e4.next())
                      (n4 = t7.value).onChannelChanged && n4.onChannelChanged(tn4);
                  } catch (e5) {
                    s5 = { error: e5 };
                  } finally {
                    try {
                      t7 && !t7.done && (r4 = e4.return) && r4.call(e4);
                    } finally {
                      if (s5)
                        throw s5.error;
                    }
                  }
                  return [2];
                });
              });
            }), jr(function() {
              return r(Un4, void 0, void 0, function() {
                return o(this, function(e4) {
                  return this._groupChannelHandlers.forEach(function(e5) {
                    e5.onPinnedMessageUpdated && e5.onPinnedMessageUpdated(tn4);
                  }), [2];
                });
              });
            })), [3, 77];
          case 77:
            return [3, 79];
          case 78:
            switch ((cn4 = e3.as(T2).event).category) {
              case C2.USER_BLOCK:
                ln4 = N2.getDataAsUserBlockEvent(this._iid, cn4), dn4 = ln4.blocker, _n4 = ln4.blockee, this._groupChannelCache.block(dn4.userId, _n4.userId);
                break;
              case C2.USER_UNBLOCK:
                hn4 = N2.getDataAsUserBlockEvent(this._iid, cn4), dn4 = hn4.blocker, _n4 = hn4.blockee, this._groupChannelCache.unblock(dn4.userId, _n4.userId);
            }
            return [3, 79];
          case 79:
            return [3, 81];
          case 80:
            if (pn4 = Sn4.sent(), v(pn4))
              throw pn4;
            return [3, 81];
          case 81:
            return [2];
        }
      });
    });
  }, u3.prototype._markAsLeave = function(e3) {
    var t6, n3 = this, s4 = null !== (t6 = this._leftChannels.get(e3.url)) && void 0 !== t6 ? t6 : { channel: e3, ref: 0 };
    s4.ref++, this._leftChannels.set(e3.url, s4), setTimeout(function() {
      s4.ref--, 0 === s4.ref && n3._leftChannels.delete(e3.url);
    }, 1e4);
  }, u3.prototype.addHandler = function(e3, t6) {
    this._groupChannelHandlers.set(e3, t6);
  }, u3.prototype.removeHandler = function(e3) {
    this._groupChannelHandlers.delete(e3);
  }, u3.prototype.clearHandler = function() {
    this._groupChannelHandlers.clear();
  }, u3.prototype.subscribeChannelEvent = function(e3, t6) {
    this._groupChannelBroadcast.subscribe(e3, t6);
  }, u3.prototype.unsubscribeChannelEvent = function(e3) {
    this._groupChannelBroadcast.unsubscribe(e3);
  }, u3.prototype._updateJoinedMemberCount = function(e3) {
    e3.joinedMemberCount = e3.members.filter(function(e4) {
      return e4.state === kt3.JOINED;
    }).length;
  }, u3.prototype.getChannel = function(e3, t6) {
    return void 0 === t6 && (t6 = false), r(this, void 0, void 0, function() {
      var n3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            Pr(w("string", e3)).throw(g.invalidParameters), s4.label = 1;
          case 1:
            return s4.trys.push([1, 3, , 4]), [4, this.getChannelFromCache(e3)];
          case 2:
            return (n3 = s4.sent()) ? [2, n3] : [3, 4];
          case 3:
            return s4.sent(), [3, 4];
          case 4:
            return [4, this.getChannelWithoutCache(e3, t6)];
          case 5:
            return [2, s4.sent()];
        }
      });
    });
  }, u3.prototype.getChannelWithoutCache = function(e3, t6) {
    return void 0 === t6 && (t6 = false), r(this, void 0, void 0, function() {
      var n3, s4, r3, a3, i3;
      return o(this, function(o4) {
        switch (o4.label) {
          case 0:
            return Pr(w("string", e3)).throw(g.invalidParameters), n3 = new dn3({ channelUrl: e3, isInternalCall: t6 }), [4, this._requestQueue.send(n3)];
          case 1:
            switch (s4 = o4.sent(), r3 = s4.as(_n3).channel, a3 = r3.unreadMessageCount, i3 = r3.unreadMentionCount, r3.myCountPreference) {
              case hr3.UNREAD_MESSAGE_COUNT_ONLY:
                i3 = 0;
                break;
              case hr3.UNREAD_MENTION_COUNT_ONLY:
                a3 = 0;
                break;
              case hr3.OFF:
                a3 = 0, i3 = 0;
            }
            return r3._updateUnreadCount(a3, i3), [4, this.upsertChannelsToCache([r3])];
          case 2:
            return [2, o4.sent()[0]];
        }
      });
    });
  }, u3.prototype.refreshChannel = function(e3, t6, n3) {
    return void 0 === t6 && (t6 = true), void 0 === n3 && (n3 = Co.REFRESH_CHANNEL), r(this, void 0, void 0, function() {
      var s4, r3, a3, i3, o4;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return u4.trys.push([0, 5, , 6]), s4 = new dn3({ channelUrl: e3, isInternalCall: t6 }), [4, this._requestQueue.send(s4)];
          case 1:
            return r3 = u4.sent(), (a3 = r3.as(_n3).channel).myMemberState !== kt3.NONE ? [3, 2] : (this._dispatcher.dispatch(new un3({ channelUrls: [a3.url], source: n3 })), [3, 4]);
          case 2:
            return [4, this.upsertChannelsToCache([a3])];
          case 3:
            i3 = u4.sent(), this._dispatcher.dispatch(new on3({ channels: i3, source: n3 })), u4.label = 4;
          case 4:
            return [3, 6];
          case 5:
            return (o4 = u4.sent()).code !== u.NON_AUTHORIZED && o4.code !== u.NOT_FOUND_IN_DATABASE || this._dispatcher.dispatch(new un3({ channelUrls: [e3], source: n3 })), [3, 6];
          case 6:
            return [2];
        }
      });
    });
  }, u3.prototype.getMyGroupChannels = function(e3, t6, n3, r3) {
    return void 0 === r3 && (r3 = Co.REQUEST_CHANNEL), r(this, void 0, void 0, function() {
      var a3, i3, o4, u4, c3;
      return o(this, function(l3) {
        switch (l3.label) {
          case 0:
            return t6.createdAfter && (t6.createdAfter = Math.floor(t6.createdAfter / 1e3)), t6.createdBefore && (t6.createdBefore = Math.floor(t6.createdBefore / 1e3)), a3 = new fn3(n(n({}, t6), { userId: this._sdkState.userId, token: e3, limit: n3 })), [4, this._requestQueue.send(a3)];
          case 1:
            return i3 = l3.sent(), o4 = i3.as(vn3), u4 = o4.channels, c3 = o4.token, this._dispatcher.dispatch(new on3({ channels: u4, source: r3 })), [2, { channels: u4, token: c3 }];
        }
      });
    });
  }, u3.prototype.getMyGroupChannelChangeLogs = function(e3, t6, r3) {
    return void 0 === r3 && (r3 = Co.REQUEST_CHANNEL_CHANGELOGS), r(this, void 0, void 0, function() {
      var a3, i3, o4, u4, c3, d3, _2, p5;
      return o(this, function(f4) {
        switch (f4.label) {
          case 0:
            return a3 = n(n({}, Jt3), t6), Pr((w("string", e3) || w("number", e3)) && Zt3(a3)).throw(g.invalidParameters), i3 = new ln3(ne({ userId: this._sdkState.userId, ts: "number" == typeof e3 ? e3 : null, token: "string" == typeof e3 ? e3 : null, filter: a3 })), [4, this._requestQueue.send(i3)];
          case 1:
            return o4 = f4.sent(), u4 = o4.as(hn3), c3 = u4.updatedChannels, d3 = u4.deletedChannelUrls, _2 = u4.hasMore, p5 = u4.ts, c3.length > 0 && this._dispatcher.dispatch(new on3({ channels: c3, source: r3, ts: p5 })), d3.length > 0 && this._dispatcher.dispatch(new un3({ channelUrls: d3, source: r3 })), [2, { updatedChannels: c3, deletedChannelUrls: d3, hasMore: _2, token: u4.token }];
        }
      });
    });
  }, u3.prototype.getGroupChannelCount = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return t6 = n(n({}, Xt3), e3), Pr($t3(t6)).throw(g.invalidParameters), n3 = new mn3({ userId: this._sdkState.userId, filter: t6 }), [4, this._requestQueue.send(n3)];
          case 1:
            return r3 = a3.sent(), [2, r3.as(gn3).groupChannelCount];
        }
      });
    });
  }, u3.prototype.getUnreadItemCount = function(e3) {
    return r(this, void 0, void 0, function() {
      var n3, r3, a3, i3, o4, u4, c3, d3, _2, p5, v5, g4, E3, C3, y3, M2;
      return o(this, function(f4) {
        switch (f4.label) {
          case 0:
            return n3 = n(n({}, en3), e3), Pr(function(e4) {
              return S(Wt3, e4.keys);
            }(n3)).throw(g.invalidParameters), r3 = So.of(this._iid), a3 = r3.sdkState, i3 = r3.requestQueue, o4 = new En3({ userId: a3.userId, filter: n3 }), [4, i3.send(o4)];
          case 1:
            return u4 = f4.sent(), c3 = u4.as(Cn3), d3 = c3.groupChannelUnreadMentionCount, _2 = c3.groupChannelUnreadMessageCount, p5 = c3.groupChannelInvitationCount, v5 = c3.superGroupChannelUnreadMentionCount, g4 = c3.superGroupChannelUnreadMessageCount, E3 = c3.superGroupChannelInvitationCount, C3 = c3.nonSuperGroupChannelUnreadMentionCount, y3 = c3.nonSuperGroupChannelUnreadMessageCount, M2 = c3.nonSuperGroupChannelInvitationCount, [2, te({ groupChannelUnreadMentionCount: d3, groupChannelUnreadMessageCount: _2, groupChannelInvitationCount: p5, superGroupChannelUnreadMentionCount: v5, superGroupChannelUnreadMessageCount: g4, superGroupChannelInvitationCount: E3, nonSuperGroupChannelUnreadMentionCount: C3, nonSuperGroupChannelUnreadMessageCount: y3, nonSuperGroupChannelInvitationCount: M2 })];
        }
      });
    });
  }, u3.prototype.getTotalUnreadChannelCount = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.sdkState, n3 = e3.requestQueue, s4 = new yn3({ userId: t6.userId }), [4, n3.send(s4)];
          case 1:
            return r3 = a3.sent(), [2, r3.as(Mn3).unreadCount];
        }
      });
    });
  }, u3.prototype.getTotalUnreadMessageCount = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, a3, i3, o4;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return t6 = n(n({}, tn3), e3), Pr(nn3(t6)).throw(g.invalidParameters), n3 = So.of(this._iid), r3 = n3.sdkState, a3 = n3.requestQueue, i3 = new bn3({ userId: r3.userId, filter: t6 }), [4, a3.send(i3)];
          case 1:
            return o4 = u4.sent(), [2, o4.as(Nn3).unreadCount];
        }
      });
    });
  }, u3.prototype.getTotalScheduledMessageCount = function(e3) {
    return void 0 === e3 && (e3 = {}), r(this, void 0, void 0, function() {
      var t6, n3, a3, i3;
      return o(this, function(o4) {
        switch (o4.label) {
          case 0:
            return t6 = n(n({}, sn3), e3), Pr(function(e4) {
              return w("string", e4.channelUrl, true) && S(Ae2, e4.scheduledStatus, true) && N(G, e4.messageTypeFilter);
            }(t6)).throw(g.invalidParameters), n3 = So.of(this._iid).requestQueue, a3 = new Un3(t6), [4, n3.send(a3)];
          case 1:
            return i3 = o4.sent(), [2, i3.as(Sn3).count];
        }
      });
    });
  }, u3.prototype.getSubscribedTotalUnreadMessageCount = function() {
    var e3 = So.of(this._iid).subscribedUnreadMessageCount;
    return e3.all >= 0 ? e3.all : 0;
  }, u3.prototype.getSubscribedCustomTypeTotalUnreadMessageCount = function() {
    var e3 = 0, t6 = So.of(this._iid).subscribedUnreadMessageCount;
    for (var n3 in t6.customTypes)
      e3 += t6.customTypes[n3];
    return e3;
  }, u3.prototype.getSubscribedCustomTypeUnreadMessageCount = function(e3) {
    var t6;
    return null !== (t6 = So.of(this._iid).subscribedUnreadMessageCount.customTypes[e3]) && void 0 !== t6 ? t6 : 0;
  }, u3.prototype.createChannel = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, a3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return t6 = n(n({}, Yt3), e3), Pr(Kt3(t6)).throw(g.invalidParameters), t6.isPublic || (t6.accessCode = void 0), n3 = new Tn3(n({ userId: this._sdkState.userId }, t6)), [4, this._requestQueue.send(n3)];
          case 1:
            return r3 = i3.sent(), a3 = r3.as(In3).channel, [4, this.upsertChannelsToCache([a3])];
          case 2:
            return i3.sent(), [2, a3];
        }
      });
    });
  }, u3.prototype.markAsReadAll = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3, a3, i3, o4;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return e3 = Date.now(), Pr(e3 - this._markAsReadAllLastSentAt >= 1e3).throw(g.markAsReadAllRateLimitExceeded), this._markAsReadAllLastSentAt = e3, t6 = new wn3({ userId: this._sdkState.userId }), [4, this._requestQueue.send(t6)];
          case 1:
            u4.sent(), n3 = this._groupChannelCache.channels;
            try {
              for (s4 = s(n3), r3 = s4.next(); !r3.done; r3 = s4.next())
                (a3 = r3.value)._updateUnreadMemberState(this._sdkState.userId, e3), a3._updateUnreadCount(0, 0);
            } catch (e4) {
              i3 = { error: e4 };
            } finally {
              try {
                r3 && !r3.done && (o4 = s4.return) && o4.call(s4);
              } finally {
                if (i3)
                  throw i3.error;
              }
            }
            return n3.length > 0 ? [4, this.upsertChannelsToCache(n3)] : [3, 3];
          case 2:
            u4.sent(), u4.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, u3.prototype.markAsReadWithChannelUrls = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3, o4, u4, c3;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return t6 = Date.now(), Pr(S("string", e3) && t6 - this._markAsReadAllLastSentAt >= 1e3).throw(g.markAsReadAllRateLimitExceeded), this._markAsReadAllLastSentAt = t6, n3 = new wn3({ userId: this._sdkState.userId, channelUrls: e3 }), [4, this._requestQueue.send(n3)];
          case 1:
            d3.sent(), s4 = this._groupChannelCache.channels, r3 = [];
            try {
              for (a3 = s(s4), i3 = a3.next(); !i3.done; i3 = a3.next())
                o4 = i3.value, e3.includes(o4.url) && (o4._updateUnreadMemberState(this._sdkState.userId, t6), o4._updateUnreadCount(0, 0), r3.push(o4));
            } catch (e4) {
              u4 = { error: e4 };
            } finally {
              try {
                i3 && !i3.done && (c3 = a3.return) && c3.call(a3);
              } finally {
                if (u4)
                  throw u4.error;
              }
            }
            return r3.length > 0 ? [4, this.upsertChannelsToCache(r3)] : [3, 3];
          case 2:
            d3.sent(), d3.label = 3;
          case 3:
            return [2];
        }
      });
    });
  }, u3.prototype.markAsDelivered = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this.getChannel(e3)];
          case 1:
            return [4, t6.sent().markAsDelivered()];
          case 2:
            return t6.sent(), [2];
        }
      });
    });
  }, u3.prototype.getMessageFromCache = function(e3) {
    var t6;
    return r(this, void 0, void 0, function() {
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._messageCache.get(e3)];
          case 1:
            return [2, null !== (t6 = n3.sent()) && void 0 !== t6 ? t6 : null];
        }
      });
    });
  }, u3.prototype.getExactlyMatchingMessagesForTokenFromCache = function(e3, t6, n3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return [4, this._messageCache.fetch({ channelUrl: e3, token: t6, filter: n3, exactMatch: true })];
          case 1:
            return [2, s4.sent()];
        }
      });
    });
  }, u3.prototype.getMessagesFromCache = function(e3, t6, n3, s4, r3, a3) {
    return void 0 === r3 && (r3 = br2), void 0 === a3 && (a3 = true), r(this, void 0, void 0, function() {
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return [4, this._messageCache.fetch({ channelUrl: e3, token: t6, limit: r3, filter: s4, backward: "next" === n3, inclusive: a3 })];
          case 1:
            return [2, i3.sent()];
        }
      });
    });
  }, u3.prototype.getPollMessagesFromCache = function(e3, t6, n3, s4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return [4, this._messageCache.fetch({ channelUrl: e3, token: t6, limit: s4, filter: n3, backward: false, isPollOnly: true })];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, u3.prototype.getCachedMessageCountBetween = function(e3, t6, n3, s4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return [4, this._messageCache.countBetween(e3, t6, new is3({ top: n3, bottom: s4 }))];
          case 1:
            return [2, r3.sent()];
        }
      });
    });
  }, u3.prototype.getUnsentMessagesFromCache = function(e3, t6) {
    return r(this, void 0, void 0, function() {
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return [4, this._unsentMessageCache.fetch({ channelUrl: e3, filter: t6 })];
          case 1:
            return [2, n3.sent()];
        }
      });
    });
  }, u3.prototype.removeFailedMessageFromCache = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, this._unsentMessageCache.remove([e3])];
          case 1:
            return t6.sent(), [2];
        }
      });
    });
  }, u3;
}(v3);
var cs3 = function(e3, t6) {
  return t6 instanceof Be2 ? e3.findIndex(function(e4) {
    return e4 instanceof Be2 && t6.isIdentical(e4);
  }) : e3.findIndex(function(e4) {
    return e4.isIdentical(t6);
  });
};
var ls3 = function(e3, t6) {
  return e3.findIndex(function(e4) {
    return e4 instanceof ze2 ? e4.messageId === t6 : e4 instanceof Xe2 ? e4.notificationId === t6 : void 0;
  });
};
var hs3 = function(e3, t6) {
  if (e3.length > 0) {
    for (var n3 = 0, s4 = e3.length - 1, r3 = Math.floor((n3 + s4) / 2); n3 < s4; ) {
      var a3 = e3[r3].createdAt - t6.createdAt;
      if (a3 > 0)
        s4 = r3, r3 = Math.floor((n3 + s4) / 2);
      else {
        if (!(a3 < 0))
          return r3;
        n3 = r3 + 1, r3 = Math.floor((n3 + s4) / 2);
      }
    }
    return e3[r3].createdAt > t6.createdAt ? r3 : r3 + 1;
  }
  return e3.length;
};
!function(e3) {
  e3[e3.IDLE = 0] = "IDLE", e3[e3.RUNNING = 1] = "RUNNING", e3[e3.END = 2] = "END";
}(rs3 || (rs3 = {}));
var ds2;
var _s2 = function(t6) {
  function n3(e3, n4, s4, r3) {
    var a3 = t6.call(this) || this;
    return a3._state = rs3.IDLE, a3._retryCount = 0, a3._retryLimit = 3, a3.priority = 0, a3._worker = n4, a3;
  }
  return t(n3, t6), Object.defineProperty(n3.prototype, "isIdle", { get: function() {
    return this._state === rs3.IDLE;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isRunning", { get: function() {
    return this._state === rs3.RUNNING;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "isDone", { get: function() {
    return this._state === rs3.END;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "retryCount", { get: function() {
    return this._retryCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(n3.prototype, "retryLimit", { get: function() {
    return this._retryLimit;
  }, enumerable: false, configurable: true }), n3.prototype._run = function(e3) {
    return r(this, void 0, void 0, function() {
      var t7, n4;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            if (!this.isRunning)
              return [3, 4];
            s4.label = 1;
          case 1:
            return s4.trys.push([1, 3, , 4]), [4, this._worker(e3)];
          case 2:
            return t7 = s4.sent(), this._retryCount = 0, this.dispatch("progress", t7), t7.hasNext ? this._run(t7.nextToken) : this.end(), [3, 4];
          case 3:
            return n4 = s4.sent(), this.dispatch("error", n4), this._retryCount < this._retryLimit ? (this._retryCount++, this._run(e3)) : this.stop(), [3, 4];
          case 4:
            return [2];
        }
      });
    });
  }, n3.prototype.start = function(e3) {
    this.isIdle && (this._state = rs3.RUNNING, this._run(e3));
  }, n3.prototype.stop = function() {
    this._state = rs3.IDLE, this.dispatch("stop");
  }, n3.prototype.end = function() {
    this._state = rs3.END, this.dispatch("end");
  }, n3;
}(J);
var ps2 = {};
var fs2 = function() {
  function e3(e4) {
    var t6 = e4._iid, n3 = e4.channel, s4 = e4.limit, r3 = void 0 === s4 ? 100 : s4, a3 = this;
    this.ref = 0, this._iid = t6, this._channel = n3, this._limit = r3, this._prevSyncLoopCount = 0, this._nextSyncLoopCount = 0;
    var i3, o3, u3 = So.of(this._iid), c3 = u3.sdkState, l3 = u3.cacheContext, v5 = u3.dispatcher, m4 = u3.logger, g4 = u3.statLogCollector;
    this._metadataKey = (i3 = c3.userId, o3 = n3.url, "sendbird:".concat(i3, "@groupchannel/").concat(o3, "/message/sync.meta"));
    var E3 = function(e5, t7) {
      return "sendbird:".concat(e5, "@groupchannel/").concat(t7, "/message/sync");
    }(c3.userId, n3.url);
    this._prevSync = new _s2(E3, function(e5) {
      return r(a3, void 0, void 0, function() {
        var t7, s5, r4, a4, i4, o4, u4, c4, p5, v6, E4, C3;
        return o(this, function(f4) {
          switch (f4.label) {
            case 0:
              return t7 = { hasNext: true, nextToken: 0 }, this._prevSyncLoopCount++, [4, this.loadMetadata(e5)];
            case 1:
              if (f4.sent(), m4.debug("message background prev sync from", null === (o4 = this._metadata) || void 0 === o4 ? void 0 : o4.range.top), null === (u4 = this._metadata) || void 0 === u4 ? void 0 : u4.previousComplete)
                return [3, 10];
              f4.label = 2;
            case 2:
              return f4.trys.push([2, 5, 8, 9]), [4, ys.of(this._iid).getMessagesByTimestamp(this._channel.url, this._channel.channelType, (null === (p5 = null === (c4 = this._metadata) || void 0 === c4 ? void 0 : c4.range) || void 0 === p5 ? void 0 : p5.top) ? this._metadata.range.top : e5, { prevResultSize: this._limit, nextResultSize: 0, replyType: K.ALL, includeReactions: true, includeMetaArray: true, includeParentMessageInfo: true, includeThreadInfo: true }, Co.SYNC_MESSAGE_BACKGROUND)];
            case 3:
              return (s5 = f4.sent()).length > 0 && (r4 = s5.map(function(e6) {
                return e6.createdAt;
              }), (null === (v6 = this._metadata) || void 0 === v6 ? void 0 : (i4 = v6.range).intersect.apply(i4, c([], a(r4), false))) ? this.extendRange(s5) : this._metadata = { range: new is3({ top: Math.min.apply(Math, c([], a(r4), false)), bottom: Math.max.apply(Math, c([], a(r4), false)) }), previousComplete: false }), t7.hasNext = s5.length >= this._limit && this._prevSyncLoopCount < 1, this._metadata && (t7.nextToken = this._metadata.range.top, this._metadata.previousComplete = s5.length < this._limit), m4.debug("message background prev sync progress", t7), [4, this.saveMetadata()];
            case 4:
              return f4.sent(), [3, 9];
            case 5:
              return a4 = f4.sent(), m4.debug("message background prev sync error", a4), a4 instanceof g && a4.isInvalidTokenError ? [4, this.clearMetadata()] : [3, 7];
            case 6:
              f4.sent(), f4.label = 7;
            case 7:
              throw a4;
            case 8:
              return g4.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: n3.url, measured_on: "back_sync", event: "cache_fetch", max_db_size: null !== (C3 = null === (E4 = l3.localCacheConfig) || void 0 === E4 ? void 0 : E4.maxSize) && void 0 !== C3 ? C3 : 0, use_local_cache: l3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [7];
            case 9:
              return [3, 11];
            case 10:
              t7.hasNext = false, f4.label = 11;
            case 11:
              return [2, t7];
          }
        });
      });
    }), this._nextSync = new _s2(E3, function(e5) {
      return r(a3, void 0, void 0, function() {
        var t7, s5, r4, a4, i4, o4, u4, c4, h3, p5, v6;
        return o(this, function(f4) {
          switch (f4.label) {
            case 0:
              return t7 = { hasNext: true, nextToken: 0 }, this._nextSyncLoopCount++, [4, this.loadMetadata(e5)];
            case 1:
              f4.sent(), m4.debug("message background next sync from", null === (o4 = this._metadata) || void 0 === o4 ? void 0 : o4.range.bottom), f4.label = 2;
            case 2:
              return f4.trys.push([2, 5, 6, 7]), [4, ys.of(this._iid).getMessagesByTimestamp(this._channel.url, this._channel.channelType, (null === (c4 = null === (u4 = this._metadata) || void 0 === u4 ? void 0 : u4.range) || void 0 === c4 ? void 0 : c4.bottom) ? this._metadata.range.bottom : e5, { prevResultSize: 0, nextResultSize: this._limit, replyType: K.ALL, includeReactions: true, includeMetaArray: true, includeParentMessageInfo: true, includeThreadInfo: true }, Co.SYNC_MESSAGE_BACKGROUND)];
            case 3:
              return (s5 = f4.sent()).length > 0 && (r4 = s5.map(function(e6) {
                return e6.createdAt;
              }), (null === (h3 = this._metadata) || void 0 === h3 ? void 0 : (i4 = h3.range).intersect.apply(i4, c([], a(r4), false))) ? this.extendRange(s5) : this._metadata = { range: new is3({ top: Math.min.apply(Math, c([], a(r4), false)), bottom: Math.max.apply(Math, c([], a(r4), false)) }), previousComplete: false }), t7.hasNext = s5.length >= this._limit && this._nextSyncLoopCount < 1, this._metadata && (t7.nextToken = this._metadata.range.bottom), m4.debug("message background next sync progress", t7), [4, this.saveMetadata()];
            case 4:
              return f4.sent(), [3, 7];
            case 5:
              throw a4 = f4.sent(), m4.debug("message background next sync error", a4), a4;
            case 6:
              return g4.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: n3.url, measured_on: "back_sync", event: "cache_fetch", max_db_size: null !== (v6 = null === (p5 = l3.localCacheConfig) || void 0 === p5 ? void 0 : p5.maxSize) && void 0 !== v6 ? v6 : 0, use_local_cache: l3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [7];
            case 7:
              return [2, t7];
          }
        });
      });
    }), this._connectionEventContext = v5.on(function(e5) {
      if (e5 instanceof Er)
        if (e5.stateType === dr.CONNECTED)
          a3.resume();
        else
          a3.pause();
    });
  }
  return e3.of = function(t6, n3) {
    return ps2[t6] || (ps2[t6] = {}), ps2[t6][n3.url] || (ps2[t6][n3.url] = new e3({ _iid: t6, channel: n3 })), ps2[t6][n3.url].ref++, ps2[t6][n3.url];
  }, e3.clear = function(e4, t6) {
    ps2[e4] && ps2[e4][t6] && (ps2[e4][t6].close(), delete ps2[e4]);
  }, Object.defineProperty(e3.prototype, "range", { get: function() {
    var e4, t6;
    return null !== (t6 = null === (e4 = this._metadata) || void 0 === e4 ? void 0 : e4.range) && void 0 !== t6 ? t6 : new is3({});
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "previousComplete", { get: function() {
    var e4;
    return !!(null === (e4 = this._metadata) || void 0 === e4 ? void 0 : e4.previousComplete);
  }, enumerable: false, configurable: true }), e3.prototype.isWrappingMessages = function(e4) {
    var t6;
    return null === (t6 = this.range) || void 0 === t6 ? void 0 : t6.includes.apply(t6, c([], a(e4.map(function(e5) {
      return e5.createdAt;
    })), false));
  }, e3.prototype.extendRange = function(e4) {
    var t6;
    this._metadata && (t6 = this._metadata.range).extends.apply(t6, c([], a(e4.map(function(e5) {
      return e5.createdAt;
    })), false));
  }, e3.prototype.loadMetadata = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return this._metadata ? [3, 2] : [4, So.of(this._iid).cacheContext.preference.get(this._metadataKey)];
          case 1:
            (t6 = n3.sent()) ? t6.range.bottom < e4 ? this._metadata = { range: new is3({}), previousComplete: false } : this._metadata = { range: new is3(t6.range), previousComplete: t6.previousComplete } : this._metadata = { range: new is3({}), previousComplete: false }, n3.label = 2;
          case 2:
            return [2, this._metadata];
        }
      });
    });
  }, e3.prototype.saveMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._metadata ? [4, So.of(this._iid).cacheContext.preference.set(this._metadataKey, this._metadata)] : [3, 2];
          case 1:
            return e4.sent(), [2, true];
          case 2:
            return [2, false];
        }
      });
    });
  }, e3.prototype.clearMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, So.of(this._iid).cacheContext.preference.remove(this._metadataKey)];
          case 1:
            return e4.sent(), this._metadata = void 0, [2];
        }
      });
    });
  }, e3.prototype.resume = function(e4) {
    var t6, n3, s4, r3;
    void 0 === e4 && (e4 = Date.now());
    var a3 = So.of(this._iid), i3 = a3.logger;
    a3.sessionManager.session.hasSession && (i3.debug("message background sync resume()"), this._prevSyncLoopCount = this._nextSyncLoopCount = 0, this._metadata && this._metadata.previousComplete || this._prevSync.start(null !== (n3 = null === (t6 = this._metadata) || void 0 === t6 ? void 0 : t6.range.top) && void 0 !== n3 ? n3 : e4), this._nextSync.start(null !== (r3 = null === (s4 = this._metadata) || void 0 === s4 ? void 0 : s4.range.bottom) && void 0 !== r3 ? r3 : e4));
  }, e3.prototype.pause = function() {
    So.of(this._iid).logger.debug("message background sync stop()"), this._prevSync.stop(), this._nextSync.stop();
  }, e3.prototype.close = function() {
    this.ref--, this.ref <= 0 && (this.ref = 0, this.pause(), this._connectionEventContext.close(), delete ps2[this._iid][this._channel.url]);
  }, e3;
}();
var vs2 = {};
var ms2 = function() {
  function e3(e4) {
    var t6 = e4._iid, n3 = e4.channel, s4 = this;
    this.ref = 0, this._iid = t6, this._channel = n3;
    var r3, a3, i3 = So.of(this._iid), o3 = i3.logger, u3 = i3.sdkState, c3 = i3.dispatcher;
    this._metadataKey = (r3 = u3.userId, a3 = n3.url, "sendbird:".concat(r3, "@groupchannel/").concat(a3, "/message/changelogs.meta"));
    var l3 = function(e5, t7) {
      return "sendbird:".concat(e5, "@groupchannel/").concat(t7, "/message/changelogs");
    }(u3.userId, this._channel.url);
    this._sync = new _s2(l3, function() {
      return r(s4, void 0, void 0, function() {
        var e5, t7, n4, s5, r4, a4, i4, u4;
        return o(this, function(c4) {
          switch (c4.label) {
            case 0:
              return e5 = { hasNext: true, nextToken: 0 }, [4, this.loadMetadata()];
            case 1:
              c4.sent(), o3.debug("message changelog sync from", null === (u4 = this._metadata) || void 0 === u4 ? void 0 : u4.token), c4.label = 2;
            case 2:
              return c4.trys.push([2, 5, , 8]), [4, ys.of(this._iid).getMessageChangelogs(this._channel.url, this._channel.channelType, this._metadata.token, { replyType: K.ALL, includeReactions: true, includeThreadInfo: true, includeMetaArray: true, includeParentMessageInfo: true }, Co.SYNC_MESSAGE_CHANGELOGS)];
            case 3:
              return t7 = c4.sent(), n4 = t7.updatedMessages, s5 = t7.deletedMessageIds, r4 = t7.hasMore, a4 = t7.token, e5.hasNext = r4, e5.nextToken = a4, (n4.length > 0 || s5.length > 0) && this._metadata && (this._metadata.token = a4), o3.debug("message changelog sync progress", e5), [4, this.saveMetadata()];
            case 4:
              return c4.sent(), [3, 8];
            case 5:
              return i4 = c4.sent(), o3.debug("message changelog sync error", i4), i4 instanceof g && i4.isInvalidTokenError ? [4, this.clearMetadata()] : [3, 7];
            case 6:
              c4.sent(), c4.label = 7;
            case 7:
              throw i4;
            case 8:
              return [2, e5];
          }
        });
      });
    }), this._connectionEventContext = c3.on(function(e5) {
      if (e5 instanceof Er)
        if (e5.stateType === dr.CONNECTED)
          s4.resume();
        else
          s4.pause();
    });
  }
  return e3.of = function(t6, n3) {
    return vs2[t6] || (vs2[t6] = {}), vs2[t6][n3.url] || (vs2[t6][n3.url] = new e3({ _iid: t6, channel: n3 })), vs2[t6][n3.url].ref++, vs2[t6][n3.url];
  }, e3.clear = function(e4, t6) {
    vs2[e4] && vs2[e4][t6] && (vs2[e4][t6].close(), delete vs2[e4]);
  }, e3.prototype.loadMetadata = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, s4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this._metadata ? [3, 2] : (e4 = So.of(this._iid), t6 = e4.cacheContext, n3 = e4.firstConnectedAt, [4, t6.preference.get(this._metadataKey)]);
          case 1:
            s4 = r3.sent(), this._metadata = { token: s4 ? s4.token : n3 }, r3.label = 2;
          case 2:
            return [2, this._metadata];
        }
      });
    });
  }, e3.prototype.saveMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._metadata ? [4, So.of(this._iid).cacheContext.preference.set(this._metadataKey, this._metadata)] : [3, 2];
          case 1:
            return e4.sent(), [2, true];
          case 2:
            return [2, false];
        }
      });
    });
  }, e3.prototype.clearMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, So.of(this._iid).cacheContext.preference.remove(this._metadataKey)];
          case 1:
            return e4.sent(), this._metadata = void 0, [2];
        }
      });
    });
  }, e3.prototype.resume = function() {
    var e4 = So.of(this._iid), t6 = e4.logger;
    e4.sessionManager.session.hasSession && (t6.debug("message changelog sync resume()"), this._sync.start(0));
  }, e3.prototype.pause = function() {
    So.of(this._iid).logger.debug("message changelog sync pause()"), this._sync.stop();
  }, e3.prototype.close = function() {
    this.ref--, this.ref <= 0 && (this.ref = 0, this.pause(), this._connectionEventContext.close(), delete vs2[this._iid][this._channel.url]);
  }, e3;
}();
var gs2 = {};
var Es2 = function() {
  function e3(e4) {
    var t6 = e4._iid, n3 = e4.channel, s4 = e4.hasPollMessage, r3 = this;
    this.ref = 0, this._iid = t6, this._channel = n3;
    var a3, i3, o3 = So.of(this._iid), u3 = o3.logger, c3 = o3.sdkState, l3 = o3.dispatcher;
    this._metadataKey = (a3 = c3.userId, i3 = n3.url, "sendbird:".concat(a3, "@groupchannel/").concat(i3, "/poll/changelogs.meta"));
    var d3 = function(e5, t7) {
      return "sendbird:".concat(e5, "@groupchannel/").concat(t7, "/poll/changelogs");
    }(c3.userId, this._channel.url);
    this._sync = new _s2(d3, function() {
      return r(r3, void 0, void 0, function() {
        var e5, t7, n4, r4, a4, i4, o4, c4;
        return o(this, function(l4) {
          switch (l4.label) {
            case 0:
              return e5 = { hasNext: true, nextToken: 0 }, [4, this.loadMetadata()];
            case 1:
              return l4.sent(), u3.debug("poll changelog sync from", null === (c4 = this._metadata) || void 0 === c4 ? void 0 : c4.token), (t7 = !this._metadata || !this._metadata.token) ? [4, s4()] : [3, 3];
            case 2:
              t7 = !l4.sent(), l4.label = 3;
            case 3:
              if (t7)
                return [2, { hasNext: false, nextToken: 0 }];
              this._metadata || (n4 = So.of(this._iid).firstConnectedAt, this._metadata = { token: n4 }), l4.label = 4;
            case 4:
              return l4.trys.push([4, 7, , 10]), [4, os.of(this._iid).getPollChangeLogs(this._channel.url, this._channel.channelType, this._metadata.token)];
            case 5:
              return r4 = l4.sent(), a4 = r4.hasMore, i4 = r4.token, e5.hasNext = a4, e5.nextToken = i4, this._metadata.token = i4, u3.debug("poll changelog sync progress", e5), [4, this.saveMetadata()];
            case 6:
              return l4.sent(), [3, 10];
            case 7:
              return o4 = l4.sent(), u3.debug("poll changelog sync error", o4), o4 instanceof g && o4.isInvalidTokenError ? [4, this.clearMetadata()] : [3, 9];
            case 8:
              l4.sent(), l4.label = 9;
            case 9:
              throw o4;
            case 10:
              return [2, e5];
          }
        });
      });
    }), this._connectionEventContext = l3.on(function(e5) {
      if (e5 instanceof Er)
        if (e5.stateType === dr.CONNECTED)
          r3.resume();
        else
          r3.pause();
    });
  }
  return e3.of = function(t6, n3, s4) {
    return gs2[t6] || (gs2[t6] = {}), gs2[t6][n3.url] || (gs2[t6][n3.url] = new e3({ _iid: t6, channel: n3, hasPollMessage: s4 })), gs2[t6][n3.url].ref++, gs2[t6][n3.url];
  }, e3.prototype.loadMetadata = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return this._metadata ? [3, 2] : [4, So.of(this._iid).cacheContext.preference.get(this._metadataKey)];
          case 1:
            e4 = t6.sent(), this._metadata = e4 ? { token: e4.token } : void 0, t6.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, e3.prototype.saveMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._metadata ? [4, So.of(this._iid).cacheContext.preference.set(this._metadataKey, this._metadata)] : [3, 2];
          case 1:
            e4.sent(), e4.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, e3.prototype.clearMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, So.of(this._iid).cacheContext.preference.remove(this._metadataKey)];
          case 1:
            return e4.sent(), this._metadata = void 0, [2];
        }
      });
    });
  }, e3.prototype.resume = function() {
    So.of(this._iid).logger.debug("poll changelog sync resume()"), this._sync.start(0);
  }, e3.prototype.pause = function() {
    So.of(this._iid).logger.debug("poll changelog sync pause()"), this._sync.stop();
  }, e3.prototype.close = function() {
    this.ref--, this.ref <= 0 && (this.ref = 0, this.pause(), this._connectionEventContext.close(), delete gs2[this._iid][this._channel.url]);
  }, e3;
}();
var Cs = function(t6) {
  function n3(e3) {
    var n4 = e3.channels, s4 = e3.source, r3 = e3.isWebSocketEventComing, a3 = void 0 !== r3 && r3, i3 = e3.data, o3 = void 0 === i3 ? null : i3, u3 = t6.call(this) || this;
    return u3.channels = n4, u3.source = s4, u3.isWebSocketEventComing = a3, u3.data = o3, u3;
  }
  return t(n3, t6), n3;
}(ee);
var ys2 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelUrls, s4 = e3.source, r3 = e3.isWebSocketEventComing, a3 = void 0 !== r3 && r3, i3 = t6.call(this) || this;
    return i3.channelUrls = n4, i3.source = s4, i3.isWebSocketEventComing = a3, i3;
  }
  return t(n3, t6), n3;
}(ee);
var Ms = function(n3) {
  function s4(e3) {
    var s5, r3, a3, i3, o3, u3, c3, l3, h3, d3, _2 = this;
    return (_2 = n3.call(this) || this).method = ie.GET, _2.path = "".concat(ye(e3.channelType), "/").concat(e3.channelUrl, "/messages_gap"), _2.params = te({ prev_start_ts: e3.prevStart, prev_end_ts: e3.prevEnd, prev_cache_count: e3.prevCount, next_start_ts: e3.nextStart, next_end_ts: e3.nextEnd, next_cache_count: e3.nextCount, huge_gap_threshold: null !== (s5 = e3.threshold) && void 0 !== s5 ? s5 : null, reverse: true, custom_types: null !== (r3 = e3.customTypes) && void 0 !== r3 ? r3 : ["*"], message_type: null !== (a3 = e3.messageType) && void 0 !== a3 ? a3 : null, include_reply_type: null !== (i3 = e3.replyType) && void 0 !== i3 ? i3 : K.NONE, include_reactions: null === (o3 = e3.includeReactions) || void 0 === o3 || o3, include_meta_array: null === (u3 = e3.includeMetaArray) || void 0 === u3 || u3, include_thread_info: null === (c3 = e3.includeThreadInfo) || void 0 === c3 || c3, include_parent_message_info: null === (l3 = e3.includeParentMessageInfo) || void 0 === l3 || l3, with_sorted_meta_array: null === (h3 = e3.includeMetaArray) || void 0 === h3 || h3, show_subchannel_messages_only: null !== (d3 = e3.showSubchannelMessagesOnly) && void 0 !== d3 && d3, include_poll_details: true, checking_continuous_messages: e3.checkingContinuousMessages }), _2;
  }
  return t(s4, n3), s4;
}(Ce);
var bs2 = function(t6) {
  function n3(e3, n4) {
    var s4, r3, a3, i3, o3, u3, c3 = this;
    return (c3 = t6.call(this, e3, n4) || this).isHugeGap = n4.is_huge_gap, c3.prevMessages = (null !== (s4 = n4.prev_messages) && void 0 !== s4 ? s4 : []).map(function(t7) {
      return $e2(e3, t7);
    }), c3.prevHasMore = null !== (r3 = n4.prev_hasmore) && void 0 !== r3 && r3, c3.isContinuousPrevMessages = null !== (a3 = n4.is_continuous_prev_messages) && void 0 !== a3 && a3, c3.nextMessages = (null !== (i3 = n4.next_messages) && void 0 !== i3 ? i3 : []).map(function(t7) {
      return $e2(e3, t7);
    }), c3.nextHasmore = null !== (o3 = n4.next_hasmore) && void 0 !== o3 && o3, c3.isContinuousNextMessages = null !== (u3 = n4.is_continuous_next_messages) && void 0 !== u3 && u3, c3;
  }
  return t(n3, t6), n3;
}(Oe);
var Ns = function(e3) {
  this.source = e3;
};
var Us = function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  return t(n3, t6), n3;
}(Ns);
var Ss = function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  return t(n3, t6), n3;
}(Ns);
var As = function(e3) {
  this.source = e3;
};
var Ts2 = function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  return t(n3, t6), n3;
}(As);
var Is2 = function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  return t(n3, t6), n3;
}(As);
var ws2 = 6e5;
var Ds = { includeMetaArray: true, includeReactions: true, includeThreadInfo: true, includeParentMessageInfo: true };
!function(e3) {
  e3.CACHE_AND_REPLACE_BY_API = "cache_and_replace_by_api";
}(ds2 || (ds2 = {}));
var Ls;
var Rs;
var ks;
var Ps = function() {
  function e3() {
    this._onCacheResult = Ze, this._onApiResult = Ze;
  }
  return e3.prototype._invokeResponse = function(e4, t6, n3) {
    var s4 = this;
    jr(function() {
      return r(s4, void 0, void 0, function() {
        return o(this, function(s5) {
          switch (e4) {
            case "local":
              this._onCacheResult(t6, n3);
              break;
            case "remote":
              this._onApiResult(t6, n3);
          }
          return [2];
        });
      });
    });
  }, e3.prototype.onCacheResult = function(e4) {
    return this._onCacheResult = e4, this;
  }, e3.prototype.onApiResult = function(e4) {
    return this._onApiResult = e4, this;
  }, e3;
}();
var Fs = function() {
  function e3(e4, t6) {
    var n3 = t6.filter, s4 = t6.startingPoint, r3 = t6.limit, a3 = t6.channel, i3 = t6.channelManager, o3 = t6.disableBackgroundSync, u3 = void 0 !== o3 && o3, c3 = this;
    this._messages = [], this._unsentMessages = [], this._isLoadingPrevious = false, this._isLoadingNext = false, this._iid = e4, this._key = "mc-".concat(Y()), this._isDisposed = false, this.filter = null != n3 ? n3 : new Zi2(), this._channel = a3, this._syncRange = new is3({}), this._hasPrevious = true, this._hasNext = true, this._startingPoint = "number" == typeof s4 ? s4 : Date.now() + ws2, this._limit = r3 || br2, this._channelManager = i3, this._channelManager.subscribeChannelEvent(this._key, { onUpdate: function(e5, t7, n4) {
      var s5 = e5.findIndex(function(e6) {
        return e6.isIdentical(c3.channel);
      });
      s5 >= 0 && (c3._replaceChannelOfCollection(e5[s5]), c3.channel._runIfHandleableWithGroupChannel(function(e6) {
        switch (t7) {
          case Co.EVENT_CHANNEL_UPDATED:
            var s6 = false;
            for (var r4 in c3._messages) {
              if (c3._messages[r4].createdAt >= e6.messageOffsetTimestamp) {
                s6 = true;
                var a4 = parseInt(r4);
                if (a4 > 0) {
                  var i4 = c3._messages.splice(0, a4);
                  c3._removeMessagesFromView(i4.map(function(e7) {
                    return c3.keyOf(e7);
                  }), Co.EVENT_MESSAGE_OFFSET_UPDATED);
                }
                break;
              }
            }
            !s6 && c3._messages.length > 0 && c3._removeMessagesFromView(c3._messages.map(function(e7) {
              return c3.keyOf(e7);
            }), Co.EVENT_MESSAGE_OFFSET_UPDATED);
            break;
          case Co.EVENT_CHANNEL_UNMUTED:
            var o4 = So.of(c3._iid).sdkState, u4 = n4;
            o4.userId === u4 && c3._clearCheckMyMutedTimer();
            break;
          case Co.EVENT_CHANNEL_MUTED:
            o4 = So.of(c3._iid).sdkState;
            var l4 = n4;
            o4.userId === l4 && -1 !== e6._myMutedRemainingTime && c3._startCheckMyMutedTimer(e6._myMutedRemainingTime);
            break;
          case Co.EVENT_CHANNEL_LEFT:
            e6.isPublic && c3._clearCheckMyMutedTimer();
        }
        jr(function() {
          return r(c3, void 0, void 0, function() {
            var e7, n5;
            return o(this, function(s7) {
              return e7 = this._createChannelEventContext(t7), an3(t7) && (null === (n5 = this._handler) || void 0 === n5 ? void 0 : n5.onChannelUpdated) && this._handler.onChannelUpdated(e7, this.channel), [2];
            });
          });
        });
      }), c3._postprocessChannelUpdateEvent(e5[s5], t7));
    }, onRemove: function(e5, t7) {
      var n4 = e5.indexOf(c3.channel.url);
      n4 >= 0 && (c3._clearCheckMyMutedTimer(), jr(function() {
        return r(c3, void 0, void 0, function() {
          var e6, n5;
          return o(this, function(s5) {
            return e6 = this._createChannelEventContext(t7), (null === (n5 = this._handler) || void 0 === n5 ? void 0 : n5.onChannelDeleted) && this._handler.onChannelDeleted(e6, this.channel.url), [2];
          });
        });
      }), c3._postprocessChannelRemoveEvent(e5[n4]));
    } }), this._channelManager.subscribeMessageEvent(this._key, { onUpdate: function(e5, t7) {
      var n4, s5, r4 = [], a4 = [];
      try {
        for (var i4 = s(e5), o4 = i4.next(); !o4.done; o4 = i4.next()) {
          var u4 = o4.value;
          u4.channelUrl === c3._channel.url && (c3.filter.match(u4) ? r4.push(u4) : a4.push(c3.keyOf(u4)));
        }
      } catch (e6) {
        n4 = { error: e6 };
      } finally {
        try {
          o4 && !o4.done && (s5 = i4.return) && s5.call(i4);
        } finally {
          if (n4)
            throw n4.error;
        }
      }
      if (xo(t7)) {
        if (r4.length > 0)
          switch (t7) {
            case Co.LOCAL_MESSAGE_CANCELED:
            case Co.LOCAL_MESSAGE_RESEND_STARTED:
            case Co.EVENT_MESSAGE_SENT_FAILED:
            case Co.EVENT_MESSAGE_SENT_SUCCESS:
            case Co.EVENT_MESSAGE_UPDATED:
            case Co.EVENT_MESSAGE_THREADINFO_UPDATED:
            case Co.EVENT_MESSAGE_REACTION_UPDATED:
            case Co.SYNC_MESSAGE_CHANGELOGS:
              c3._updateMessagesToView(r4, t7);
              break;
            case Co.EVENT_MESSAGE_SENT_PENDING:
              c3._addMessagesToView(r4, t7);
              break;
            case Co.EVENT_MESSAGE_RECEIVED:
              c3.hasNext || c3._addMessagesToView(r4, t7);
              break;
            case Co.SYNC_MESSAGE_FILL:
              c3._addMessagesToView(r4, t7);
          }
        a4.length > 0 && c3._removeMessagesFromView(a4, t7);
      }
      c3._postprocessMessageUpdateEvent(e5, t7);
    }, onRemove: function(e5, t7) {
      c3._removeMessagesFromView(e5, t7), c3._postprocessMessageRemoveEvent(e5);
    }, onRemoveUnsent: function(e5, t7) {
      c3._removeUnsentMessageFromView(e5, t7);
    }, onPollChangeLogUpdate: function(e5, t7) {
      c3._updatePollsToView(e5, t7);
    }, onPollUpdate: function(e5, t7) {
      c3._applyPollUpdateEventToView(e5, t7);
    }, onPollVote: function(e5, t7) {
      c3._applyPollVoteEventToView(e5, t7);
    } });
    var l3 = So.of(this._iid), h3 = l3.cacheContext, m4 = l3.dispatcher;
    this._channel._updateMessageCollectionLastAccessedAt();
    var g4 = this._createChannelUpdateEventCommand(Co.CHANNEL_LASTACCESSEDAT_UPDATED);
    g4 && m4.dispatch(g4), !u3 && this._shouldStartBackgroundSync() && (this._backgroundSync = fs2.of(this._iid, this._channel), this._backgroundSync.resume(this._startingPoint)), this._changelogSync = ms2.of(this._iid, this._channel), this._changelogSync.resume(), this._pollChangelogSync = Es2.of(this._iid, this._channel, this._hasPollMessage.bind(this)), this._pollChangelogSync.resume(), this._prevFill = new _s2(this._key, function(e5) {
      return r(c3, void 0, void 0, function() {
        var t7, n4, s5, r4, a4, i4, o4;
        return o(this, function(u4) {
          switch (u4.label) {
            case 0:
              return [4, this._getRemoteMessages(e5, { prevLimit: this._limit, source: Co.SYNC_MESSAGE_FILL, checkingContinuousMessages: h3.localCacheEnabled })];
            case 1:
              return t7 = u4.sent(), n4 = t7.messages, s5 = t7.isContinuousMessages, n4.length > 0 ? (r4 = Math.min.apply(Math, c([], a(n4.map(function(e6) {
                return e6.createdAt;
              })), false)), this._syncRange.extends(r4), s5 && (null === (a4 = this._backgroundSync) || void 0 === a4 || a4.range.extends(r4)), [2, { hasNext: n4.length >= this._limit && this.viewTop < r4, nextToken: this._syncRange.top }]) : (E3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, measured_on: "gap_check", event: "cache_fetch", max_db_size: null !== (o4 = null === (i4 = h3.localCacheConfig) || void 0 === i4 ? void 0 : i4.maxSize) && void 0 !== o4 ? o4 : 0, use_local_cache: h3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [2, { hasNext: false, nextToken: 0 }]);
          }
        });
      });
    }), this._nextFill = new _s2(this._key, function(e5) {
      return r(c3, void 0, void 0, function() {
        var t7, n4, s5, r4, a4, i4, o4;
        return o(this, function(u4) {
          switch (u4.label) {
            case 0:
              return [4, this._getRemoteMessages(e5, { nextLimit: this._limit, source: Co.SYNC_MESSAGE_FILL, checkingContinuousMessages: h3.localCacheEnabled })];
            case 1:
              return t7 = u4.sent(), n4 = t7.messages, s5 = t7.isContinuousMessages, n4.length > 0 ? (r4 = Math.max.apply(Math, c([], a(n4.map(function(e6) {
                return e6.createdAt;
              })), false)), this._syncRange.extends(r4), s5 && (null === (a4 = this._backgroundSync) || void 0 === a4 || a4.range.extends(r4)), [2, { hasNext: !(n4.length >= this._limit && this._hasNext) || this.viewBottom > r4, nextToken: this._syncRange.bottom }]) : (E3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, measured_on: "gap_check", event: "cache_fetch", max_db_size: null !== (o4 = null === (i4 = h3.localCacheConfig) || void 0 === i4 ? void 0 : i4.maxSize) && void 0 !== o4 ? o4 : 0, use_local_cache: h3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [2, { hasNext: false, nextToken: 0 }]);
          }
        });
      });
    }), this._connectionEventContext = m4.on(function(e5) {
      if (e5 instanceof Er)
        switch (e5.stateType) {
          case dr.CONNECTED:
            Kr(function() {
              return r(c3, void 0, void 0, function() {
                return o(this, function(e6) {
                  return this._activate(), [2];
                });
              });
            });
            break;
          case dr.LOGOUT:
            c3.dispose();
            break;
          default:
            c3._clearCheckMyMutedTimer(), c3._prevFill.stop(), c3._nextFill.stop();
        }
    });
    var E3 = So.of(this._iid).statLogCollector;
    E3.put(new vo({ type: Ae.FEATURE_LOCALCACHE, data: { use_local_cache: h3.localCacheEnabled, collection_interface: { message: true } } }));
  }
  return e3.prototype.keyOf = function(e4) {
    return 0;
  }, e3.prototype._postprocessChannelUpdateEvent = function(e4, t6) {
  }, e3.prototype._postprocessChannelRemoveEvent = function(e4) {
  }, e3.prototype._postprocessMessageUpdateEvent = function(e4, t6) {
  }, e3.prototype._postprocessMessageRemoveEvent = function(e4) {
  }, Object.defineProperty(e3.prototype, "channel", { get: function() {
    return this._channel;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "succeededMessages", { get: function() {
    return c([], a(this._messages), false);
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "failedMessages", { get: function() {
    return this._unsentMessages.filter(function(e4) {
      return e4.sendingStatus === W.FAILED;
    });
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "pendingMessages", { get: function() {
    return this._unsentMessages.filter(function(e4) {
      return e4.sendingStatus === W.PENDING;
    });
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "hasPrevious", { get: function() {
    return this._hasPrevious;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "hasNext", { get: function() {
    return this._hasNext;
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "viewTop", { get: function() {
    return Math.min.apply(Math, c(c([], a(this._messages.map(function(e4) {
      return e4.createdAt;
    })), false), [Number.MAX_SAFE_INTEGER], false));
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "viewBottom", { get: function() {
    return Math.max.apply(Math, c(c([], a(this._messages.map(function(e4) {
      return e4.createdAt;
    })), false), [0], false));
  }, enumerable: false, configurable: true }), e3.prototype._activate = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return So.of(this._iid).logger.debug("check huge gap"), this._checkHugeGap(), [4, this._refreshChannel(Co.SYNC_CHANNEL_CHANGELOGS)];
          case 1:
            return e4.sent(), [2];
        }
      });
    });
  }, e3.prototype._replaceChannelOfCollection = function(e4) {
    this._channel.isGroupChannel() ? this._channel = e4 : this._channel.isFeedChannel() && (this._channel._groupChannel = e4._groupChannel);
  }, e3.prototype._shouldStartBackgroundSync = function() {
    var e4 = So.of(this._iid).cacheContext;
    return this.channel.isGroupChannel() ? e4.localCacheEnabled && !this.channel.isSuper : e4.localCacheEnabled;
  }, e3.prototype._createChannelEventContext = function(e4) {
    switch (true) {
      case this.channel.isGroupChannel():
        return new Us(e4);
      case this.channel.isFeedChannel():
        return new Ss(e4);
      default:
        throw new g({ code: u.WRONG_CHANNEL_TYPE, message: "Wrong channel type" });
    }
  }, e3.prototype._createMessageEventContext = function(e4) {
    switch (true) {
      case this.channel.isGroupChannel():
        return new Ts2(e4);
      case this.channel.isFeedChannel():
        return new Is2(e4);
      default:
        throw new g({ code: u.WRONG_CHANNEL_TYPE, message: "Wrong channel type" });
    }
  }, e3.prototype._createChannelUpdateEventCommand = function(e4) {
    switch (true) {
      case this.channel.isGroupChannel():
        return new on3({ channels: [this._channel], source: e4 });
      case this.channel.isFeedChannel():
        return new Cs({ channels: [this._channel], source: e4 });
      default:
        return null;
    }
  }, e3.prototype._setBaseMessageCollectionHandler = function(e4) {
    this._handler = e4;
  }, e3.prototype._filterUnderOffsetMessage = function(e4) {
    return e4;
  }, e3.prototype._updateChildMessagesInView = function(e4) {
    var t6 = [];
    return this._messages.forEach(function(n3) {
      n3 instanceof ze2 && n3.parentMessageId === e4.messageId && n3.applyParentMessage(e4) && t6.push(n3);
    }), t6;
  }, e3.prototype._updatePollsToView = function(e4, t6) {
    var n3, s4, r3 = this, a3 = [];
    try {
      for (var i3 = s(e4), o3 = i3.next(); !o3.done; o3 = i3.next()) {
        var u3 = o3.value, c3 = ls3(this._messages, u3.messageId);
        if (c3 >= 0) {
          var l3 = this._messages[c3];
          l3.isUserMessage() && l3.applyPoll(u3), a3.push(l3);
        }
      }
    } catch (e5) {
      n3 = { error: e5 };
    } finally {
      try {
        o3 && !o3.done && (s4 = i3.return) && s4.call(i3);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
    return a3.length > 0 && xo(t6) && jr(function() {
      return r(r3, void 0, void 0, function() {
        var e5, n4, s5;
        return o(this, function(r4) {
          return e5 = this._createMessageEventContext(t6), a3.length > 0 && (null === (s5 = (n4 = this._handler).onMessagesUpdated) || void 0 === s5 || s5.call(n4, e5, this.channel, a3)), [2];
        });
      });
    }), a3;
  }, e3.prototype._applyPollUpdateEventToView = function(e4, t6) {
    var n3 = this, s4 = ls3(this._messages, e4.messageId);
    if (s4 >= 0) {
      var r3 = this._messages[s4];
      r3 && r3.isUserMessage() && r3.poll && r3.poll.applyPollUpdateEvent(e4) && xo(t6) && jr(function() {
        return r(n3, void 0, void 0, function() {
          var e5, n4, s5;
          return o(this, function(a3) {
            return e5 = this._createMessageEventContext(t6), null === (s5 = null === (n4 = this._handler) || void 0 === n4 ? void 0 : n4.onMessagesUpdated) || void 0 === s5 || s5.call(n4, e5, this.channel, [r3]), [2];
          });
        });
      });
    }
  }, e3.prototype._applyPollVoteEventToView = function(e4, t6) {
    var n3 = this, s4 = ls3(this._messages, e4.messageId);
    if (s4 >= 0) {
      var r3 = this._messages[s4];
      r3 && r3.isUserMessage() && r3.poll && r3.poll.applyPollVoteEvent(e4) && xo(t6) && jr(function() {
        return r(n3, void 0, void 0, function() {
          var e5, n4, s5;
          return o(this, function(a3) {
            return e5 = this._createMessageEventContext(t6), null === (s5 = null === (n4 = this._handler) || void 0 === n4 ? void 0 : n4.onMessagesUpdated) || void 0 === s5 || s5.call(n4, e5, this.channel, [r3]), [2];
          });
        });
      });
    }
  }, e3.prototype._removeMessagesFromView = function(e4, t6) {
    var n3, s4, r3 = this, a3 = [], i3 = [], o3 = function(e5) {
      var t7 = u3._messages.findIndex(function(t8) {
        return r3.keyOf(t8) === e5;
      });
      if (t7 >= 0) {
        var n4 = u3._messages[t7];
        a3.push(u3.keyOf(n4)), i3.push(n4), u3._messages.splice(t7, 1);
      }
    }, u3 = this;
    try {
      for (var c3 = s(e4), l3 = c3.next(); !l3.done; l3 = c3.next()) {
        o3(l3.value);
      }
    } catch (e5) {
      n3 = { error: e5 };
    } finally {
      try {
        l3 && !l3.done && (s4 = c3.return) && s4.call(c3);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
    return xo(t6) && i3.length > 0 && jr(function() {
      return r(r3, void 0, void 0, function() {
        var e5, n4, s5;
        return o(this, function(r4) {
          return e5 = this._createMessageEventContext(t6), null === (s5 = null === (n4 = this._handler) || void 0 === n4 ? void 0 : n4.onMessagesDeleted) || void 0 === s5 || s5.call(n4, e5, this.channel, a3, i3), [2];
        });
      });
    }), a3;
  }, e3.prototype._removeUnsentMessageFromView = function(e4, t6) {
    var n3 = this._unsentMessages.findIndex(function(t7) {
      return t7.reqId === e4;
    });
    n3 >= 0 && this._unsentMessages.splice(n3, 1);
  }, e3.prototype._getLocalMessages = function(e4, t6) {
    var n3 = t6.prevLimit, s4 = void 0 === n3 ? 0 : n3, r3 = t6.nextLimit, a3 = void 0 === r3 ? 0 : r3, i3 = t6.inclusive, o3 = void 0 === i3 || i3;
    return r(this, void 0, void 0, function() {
      var t7, n4, r4, i4, u3;
      return o(this, function(c3) {
        switch (c3.label) {
          case 0:
            return t7 = [], o3 ? [4, this._channelManager.getExactlyMatchingMessagesForTokenFromCache(this._channel.url, e4, this.filter)] : [3, 2];
          case 1:
            t7 = c3.sent(), c3.label = 2;
          case 2:
            return s4 > 0 ? [4, this._channelManager.getMessagesFromCache(this._channel.url, e4, "prev", this.filter, s4, false)] : [3, 4];
          case 3:
            return r4 = c3.sent(), [3, 5];
          case 4:
            r4 = [], c3.label = 5;
          case 5:
            return n4 = r4, a3 > 0 ? [4, this._channelManager.getMessagesFromCache(this._channel.url, e4, "next", this.filter, a3, false)] : [3, 7];
          case 6:
            return u3 = c3.sent(), [3, 8];
          case 7:
            u3 = [], c3.label = 8;
          case 8:
            return i4 = u3, [2, c(c(c([], a(t7), false), a(n4), false), a(i4), false).sort(function(e5, t8) {
              return t8.createdAt - e5.createdAt;
            })];
        }
      });
    });
  }, e3.prototype._getRemoteMessages = function(e4, t6) {
    var r3 = t6.prevLimit, a3 = void 0 === r3 ? 0 : r3, i3 = t6.nextLimit, o3 = void 0 === i3 ? 0 : i3, u3 = t6.source, c3 = void 0 === u3 ? Co.REQUEST_MESSAGE : u3, l3 = t6.reverse, h3 = void 0 !== l3 && l3, d3 = t6.checkingHasNext, _2 = void 0 !== d3 && d3, v5 = t6.checkingContinuousMessages, m4 = void 0 !== v5 && v5;
    return r(this, void 0, void 0, function() {
      var t7, r4;
      return o(this, function(i4) {
        switch (i4.label) {
          case 0:
            return t7 = ys.of(this._iid), a3 > 0 || o3 > 0 ? [4, t7._getMessagesByTimestampForCollection(this._channel.url, this._channel.channelType, e4, ne(n(n(n({}, this.filter), Ds), { isInclusive: true, reverse: h3, prevResultSize: a3, nextResultSize: o3 })), c3, _2, m4)] : [3, 2];
          case 1:
            return r4 = i4.sent(), [3, 3];
          case 2:
            r4 = { messages: [], isContinuousMessages: false }, i4.label = 3;
          case 3:
            return [2, r4];
        }
      });
    });
  }, e3.prototype._checkHugeGap = function() {
    var e4, t6, n3, r3, a3;
    return r(this, void 0, void 0, function() {
      var i3, o3, u3, c3, l3, v5, m4, g4, E3, C3, M2, b4, N3, U3, S4, A4, T4, I4, w3, D3, L4, R3, k2, P2, F2, O3, H3 = this;
      return o(this, function(G2) {
        switch (G2.label) {
          case 0:
            return i3 = So.of(this._iid), o3 = i3.dispatcher, u3 = i3.requestQueue, c3 = i3.cacheContext, l3 = i3.statLogCollector, v5 = i3.logger, this._messages.length > 0 ? (m4 = this._syncRange.top, g4 = this.viewTop, E3 = this._syncRange.bottom, C3 = this.hasNext ? this.viewBottom : Number.MAX_SAFE_INTEGER, [4, this._channelManager.getCachedMessageCountBetween(this._channel.url, this.filter, g4, m4)]) : [3, 8];
          case 1:
            return M2 = G2.sent(), [4, this._channelManager.getCachedMessageCountBetween(this._channel.url, this.filter, E3, C3)];
          case 2:
            b4 = G2.sent(), G2.label = 3;
          case 3:
            return G2.trys.push([3, 5, 6, 7]), [4, Xr(function() {
              return r(H3, void 0, void 0, function() {
                var e5, t7, n4, r4, a4, i4, l4, h3, v6, N4, U4, S5, A5, T5, I5, w4, D4, L5 = this;
                return o(this, function(R4) {
                  switch (R4.label) {
                    case 0:
                      return e5 = new Ms(n(n({ channelUrl: this._channel.url, channelType: this._channel.channelType, prevStart: g4, prevEnd: m4, prevCount: M2, nextStart: E3, nextEnd: C3, nextCount: b4, checkingContinuousMessages: c3.localCacheEnabled }, this.filter), Ds)), [4, u3.send(e5)];
                    case 1:
                      return t7 = R4.sent(), n4 = t7.as(bs2), r4 = n4.isHugeGap, a4 = n4.prevMessages, i4 = void 0 === a4 ? [] : a4, l4 = n4.prevHasMore, h3 = n4.isContinuousPrevMessages, v6 = n4.nextMessages, N4 = void 0 === v6 ? [] : v6, U4 = n4.nextHasmore, S5 = n4.isContinuousNextMessages, r4 ? jr(function() {
                        return r(L5, void 0, void 0, function() {
                          var e6;
                          return o(this, function(t8) {
                            return (null === (e6 = this._handler) || void 0 === e6 ? void 0 : e6.onHugeGapDetected) && this._handler.onHugeGapDetected(), [2];
                          });
                        });
                      }) : (A5 = this.viewTop, T5 = this.viewBottom, I5 = Math.min.apply(Math, c([Number.MAX_SAFE_INTEGER, A5], a(i4.map(function(e6) {
                        return e6.createdAt;
                      })), false)), w4 = Math.max.apply(Math, c([0, T5], a(N4.map(function(e6) {
                        return e6.createdAt;
                      })), false)), o3.dispatch(new Uo({ messages: i4, source: Co.SYNC_MESSAGE_FILL })), o3.dispatch(new Uo({ messages: N4, source: Co.SYNC_MESSAGE_FILL })), this._syncRange.extends(I5, w4), (h3 || S5) && (null === (D4 = this._backgroundSync) || void 0 === D4 || D4.range.extends(I5, w4)), l4 && this._prevFill.start(I5), U4 && this._nextFill.start(w4)), [2];
                  }
                });
              });
            }, 1)];
          case 4:
            return G2.sent(), [3, 7];
          case 5:
            return N3 = G2.sent(), v5.debug("Failed HugeGap Check ", N3), [3, 7];
          case 6:
            return l3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, measured_on: "gap_check", event: "cache_fetch", max_db_size: null !== (t6 = null === (e4 = c3.localCacheConfig) || void 0 === e4 ? void 0 : e4.maxSize) && void 0 !== t6 ? t6 : 0, use_local_cache: c3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [7];
          case 7:
            return [3, 13];
          case 8:
            U3 = Math.floor(this._limit / 2), S4 = Date.now(), G2.label = 9;
          case 9:
            return G2.trys.push([9, 11, 12, 13]), [4, this._getRemoteMessages(S4, { prevLimit: U3, nextLimit: U3, source: Co.SYNC_MESSAGE_FILL, checkingHasNext: true, checkingContinuousMessages: c3.localCacheEnabled })];
          case 10:
            if (A4 = G2.sent(), T4 = A4.messages, I4 = A4.isContinuousMessages, w3 = A4.hasNext, T4.length > 0) {
              for (D3 = T4.map(function(e5) {
                return e5.createdAt;
              }), L4 = 0, R3 = 0, k2 = 0; k2 < D3.length; k2++)
                (P2 = D3[k2]) <= S4 ? L4++ : P2 >= S4 && R3++;
              this._hasPrevious = L4 >= U3, this._hasNext = null != w3 ? w3 : R3 >= U3, (O3 = this._syncRange).extends.apply(O3, c([], a(D3), false)), I4 && (null === (n3 = this._backgroundSync) || void 0 === n3 || n3.range.extends(this._syncRange.top, this._syncRange.bottom)), this._addMessagesToView(T4, Co.SYNC_MESSAGE_FILL);
            } else
              this._hasPrevious = false, this._hasNext = false;
            return [3, 13];
          case 11:
            return (F2 = G2.sent()) instanceof g && F2.code === u.NOT_FOUND_IN_DATABASE && (this._hasPrevious = false, this._hasNext = false), [3, 13];
          case 12:
            return l3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, measured_on: "gap_check", event: "cache_fetch", max_db_size: null !== (a3 = null === (r3 = c3.localCacheConfig) || void 0 === r3 ? void 0 : r3.maxSize) && void 0 !== a3 ? a3 : 0, use_local_cache: c3.localCacheEnabled, starting_point: 0, message_init_policy: "" } })), [7];
          case 13:
            return [2];
        }
      });
    });
  }, e3.prototype._loadUnsentMessages = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return e4 = this, [4, this._channelManager.getUnsentMessagesFromCache(this._channel.url, this.filter)];
          case 1:
            return e4._unsentMessages = t6.sent(), [2];
        }
      });
    });
  }, e3.prototype._hasPollMessage = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._channelManager.getPollMessagesFromCache(this._channel.url, Date.now() + ws2, this.filter, 1)];
          case 1:
            return e4.sent().length > 0 ? [2, true] : [2, false];
        }
      });
    });
  }, e3.prototype._refreshChannel = function(e4) {
    var t6 = this;
    Kr(function() {
      return r(t6, void 0, void 0, function() {
        return o(this, function(t7) {
          switch (t7.label) {
            case 0:
              return [4, this._channelManager.refreshChannel(this.channel.url, true, e4)];
            case 1:
              return t7.sent(), [2];
          }
        });
      });
    });
  }, e3.prototype._startCheckMyMutedTimer = function(e4) {
    var t6 = this;
    this._clearCheckMyMutedTimer(), this._checkMyMutedStateTimer = setTimeout(function() {
      return r(t6, void 0, void 0, function() {
        var e5, t7, n3 = this;
        return o(this, function(s4) {
          switch (s4.label) {
            case 0:
              this._checkMyMutedStateTimer = void 0, e5 = true, s4.label = 1;
            case 1:
              return s4.trys.push([1, 3, 4, 5]), [4, this._channel.getMyMutedInfo()];
            case 2:
              return t7 = s4.sent(), e5 = !t7.isMuted, [3, 5];
            case 3:
              return s4.sent(), e5 = true, [3, 5];
            case 4:
              return e5 && this.channel._runIfHandleableWithGroupChannel(function(e6) {
                var t8, s5;
                e6.myMutedState = V.UNMUTED;
                var r3 = n3._createChannelEventContext(Co.EVENT_CHANNEL_UNMUTED);
                null === (s5 = null === (t8 = n3._handler) || void 0 === t8 ? void 0 : t8.onChannelUpdated) || void 0 === s5 || s5.call(t8, r3, n3.channel);
              }), [7];
            case 5:
              return [2];
          }
        });
      });
    }, e4 + 1e3);
  }, e3.prototype._clearCheckMyMutedTimer = function() {
    this._checkMyMutedStateTimer && (clearTimeout(this._checkMyMutedStateTimer), this._checkMyMutedStateTimer = void 0);
  }, e3.prototype.initialize = function(e4) {
    var t6 = this, n3 = new Ps();
    this._messages = [], this._unsentMessages = [], this._syncRange = new is3({}), this._hasNext = true, this._hasPrevious = true, this._refreshChannel(Co.REFRESH_CHANNEL);
    var s4 = So.of(this._iid), r3 = s4.cacheContext, a3 = s4.statLogCollector, i3 = Math.floor(this._limit / 2);
    if (e4 === ds2.CACHE_AND_REPLACE_BY_API)
      this._getLocalMessages(this._startingPoint, { prevLimit: i3, nextLimit: i3 }).then(function(e5) {
        return r(t6, void 0, void 0, function() {
          var t7;
          return o(this, function(s5) {
            switch (s5.label) {
              case 0:
                return t7 = this._filterUnderOffsetMessage(e5), this._addMessagesToView(t7, Co.REQUEST_MESSAGE), [4, this._loadUnsentMessages()];
              case 1:
                return s5.sent(), n3._invokeResponse("local", null, t7), [2];
            }
          });
        });
      }).catch(function(e5) {
        if (v(e5))
          throw e5;
        n3._invokeResponse("local", e5, null);
      }).finally(function() {
        var s5 = So.of(t6._iid).cacheContext;
        t6._getRemoteMessages(t6._startingPoint, { prevLimit: i3, nextLimit: i3, reverse: true, checkingHasNext: true, checkingContinuousMessages: s5.localCacheEnabled }).then(function(r4) {
          var o3, u3, c3, l3, h3, p5, f4 = r4.messages, v5 = r4.isContinuousMessages, m4 = r4.hasNext, g4 = t6._filterUnderOffsetMessage(f4), E3 = true;
          if (t6._messages.length === g4.length) {
            var C3 = t6._messages.map(function(e5) {
              return t6.keyOf(e5);
            });
            for (var M2 in g4)
              if (!C3.includes(t6.keyOf(g4[M2]))) {
                E3 = false;
                break;
              }
          } else
            E3 = false;
          if (t6._messages = [], g4.length > 0) {
            var b4 = g4.map(function(e5) {
              return e5.createdAt;
            }), N3 = 0, U3 = 0;
            for (M2 = 0; M2 < b4.length; M2++) {
              var S4 = b4[M2];
              S4 < t6._startingPoint ? N3++ : S4 > t6._startingPoint && U3++;
            }
            t6._hasPrevious = N3 >= i3, t6._hasNext = null != m4 ? m4 : U3 >= i3, (o3 = t6._syncRange).extends.apply(o3, c([], a(g4.map(function(e5) {
              return e5.createdAt;
            })), false)), v5 && (null === (u3 = t6._backgroundSync) || void 0 === u3 || u3.range.extends(t6._syncRange.top, t6._syncRange.bottom)), t6._addMessagesToView(g4, Co.REQUEST_MESSAGE);
          } else
            t6._hasPrevious = false, t6._hasNext = false;
          a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: t6.channel.url, starting_point: t6._startingPoint, measured_on: "initial_load", event: E3 ? "cache_hit" : "cache_miss", max_db_size: null !== (l3 = null === (c3 = s5.localCacheConfig) || void 0 === c3 ? void 0 : c3.maxSize) && void 0 !== l3 ? l3 : 0, message_init_policy: e4, use_local_cache: s5.localCacheEnabled, collection_id: t6._key } })), a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: t6.channel.url, starting_point: t6._startingPoint, measured_on: "initial_load", event: "cache_fetch", max_db_size: null !== (p5 = null === (h3 = s5.localCacheConfig) || void 0 === h3 ? void 0 : h3.maxSize) && void 0 !== p5 ? p5 : 0, message_init_policy: e4, use_local_cache: s5.localCacheEnabled, collection_id: t6._key } })), n3._invokeResponse("remote", null, g4);
        }).catch(function(e5) {
          if (v(e5))
            throw e5;
          n3._invokeResponse("remote", e5, null);
        });
      });
    return a3.put(new vo({ type: Ae.FEATURE_LOCALCACHE, data: { use_local_cache: r3.localCacheEnabled, collection_interface: { message_init_policy: e4 } } })), n3;
  }, e3.prototype.loadPrevious = function() {
    var e4, t6, n3;
    return r(this, void 0, void 0, function() {
      var s4, r3, a3, i3, o3, u3, c3, l3, v5 = this;
      return o(this, function(m4) {
        switch (m4.label) {
          case 0:
            if (this._isDisposed)
              throw new g({ code: u.COLLECTION_DISPOSED, message: "Collection has been disposed." });
            return s4 = So.of(this._iid), r3 = s4.cacheContext, a3 = s4.statLogCollector, i3 = s4.logger, this._hasPrevious ? this._isLoadingPrevious ? (i3.warn("Messages are already fetching."), [2, []]) : (this._isLoadingPrevious = true, o3 = Math.floor(this._limit / 2), u3 = this.viewTop, c3 = [], [4, Kr(function() {
              return r(v5, void 0, void 0, function() {
                var e5;
                return o(this, function(t7) {
                  switch (t7.label) {
                    case 0:
                      return e5 = this._filterUnderOffsetMessage, [4, this._getLocalMessages(u3, { prevLimit: o3, inclusive: false })];
                    case 1:
                      return c3 = e5.apply(this, [t7.sent()]), [2];
                  }
                });
              });
            })]) : [2, []];
          case 1:
            return m4.sent(), l3 = c3.length >= o3, a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, starting_point: this._startingPoint, measured_on: "load_prev", event: l3 ? "cache_hit" : "cache_miss", max_db_size: null !== (t6 = null === (e4 = r3.localCacheConfig) || void 0 === e4 ? void 0 : e4.maxSize) && void 0 !== t6 ? t6 : 0, use_local_cache: r3.localCacheEnabled, collection_id: this._key, message_init_policy: "" } })), l3 && (null === (n3 = this._backgroundSync) || void 0 === n3 ? void 0 : n3.isWrappingMessages(c3)) ? [3, 3] : [4, Kr(function() {
              return r(v5, void 0, void 0, function() {
                var e5, t7, n4, s5, r4, i4, l4, h3 = this;
                return o(this, function(p5) {
                  switch (p5.label) {
                    case 0:
                      return e5 = So.of(this._iid).cacheContext, [4, this._getRemoteMessages(u3, { prevLimit: o3, reverse: true, checkingContinuousMessages: e5.localCacheEnabled })];
                    case 1:
                      return t7 = p5.sent(), (c3 = this._filterUnderOffsetMessage(t7.messages)).length > 0 && ((n4 = this._syncRange).extends.apply(n4, c([], a(c3.map(function(e6) {
                        return e6.createdAt;
                      })), false)), (null === (s5 = this._backgroundSync) || void 0 === s5 ? void 0 : s5.range.overlap(this._syncRange)) && t7.isContinuousMessages && (null === (r4 = this._backgroundSync) || void 0 === r4 || r4.range.extends(this._syncRange.top))), c3 = c3.filter(function(e6) {
                        return cs3(h3._messages, e6) < 0;
                      }), this._hasPrevious = c3.length >= o3, a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, starting_point: this._startingPoint, measured_on: "load_prev", event: "cache_fetch", max_db_size: null !== (l4 = null === (i4 = e5.localCacheConfig) || void 0 === i4 ? void 0 : i4.maxSize) && void 0 !== l4 ? l4 : 0, use_local_cache: e5.localCacheEnabled, collection_id: this._key, message_init_policy: "" } })), [2];
                  }
                });
              });
            })];
          case 2:
            return m4.sent(), this._addMessagesToView(c3, Co.REQUEST_MESSAGE), [3, 4];
          case 3:
            this._hasPrevious = c3.length >= o3, c3.length > 0 && this._addMessagesToView(c3, Co.REQUEST_MESSAGE), m4.label = 4;
          case 4:
            return this._isLoadingPrevious = false, [2, c3];
        }
      });
    });
  }, e3.prototype.loadNext = function() {
    var e4, t6, n3;
    return r(this, void 0, void 0, function() {
      var s4, r3, a3, i3, o3, u3, c3, l3, v5 = this;
      return o(this, function(m4) {
        switch (m4.label) {
          case 0:
            if (this._isDisposed)
              throw new g({ code: u.COLLECTION_DISPOSED, message: "Collection has been disposed." });
            return s4 = So.of(this._iid), r3 = s4.cacheContext, a3 = s4.statLogCollector, i3 = s4.logger, this._hasNext ? this._isLoadingNext ? (i3.warn("Messages are already fetching."), [2, []]) : (this._isLoadingNext = true, o3 = Math.floor(this._limit / 2), u3 = this.viewBottom, c3 = [], [4, Kr(function() {
              return r(v5, void 0, void 0, function() {
                var e5;
                return o(this, function(t7) {
                  switch (t7.label) {
                    case 0:
                      return e5 = this._filterUnderOffsetMessage, [4, this._getLocalMessages(u3, { nextLimit: o3, inclusive: false })];
                    case 1:
                      return c3 = e5.apply(this, [t7.sent()]), [2];
                  }
                });
              });
            })]) : [2, []];
          case 1:
            return m4.sent(), l3 = c3.length >= o3, a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, starting_point: this._startingPoint, measured_on: "load_next", event: l3 ? "cache_hit" : "cache_miss", max_db_size: null !== (t6 = null === (e4 = r3.localCacheConfig) || void 0 === e4 ? void 0 : e4.maxSize) && void 0 !== t6 ? t6 : 0, use_local_cache: r3.localCacheEnabled, collection_id: this._key, message_init_policy: "" } })), l3 && (null === (n3 = this._backgroundSync) || void 0 === n3 ? void 0 : n3.isWrappingMessages(c3)) ? [3, 3] : [4, Kr(function() {
              return r(v5, void 0, void 0, function() {
                var e5, t7, n4, s5, r4, i4, l4, h3, p5 = this;
                return o(this, function(f4) {
                  switch (f4.label) {
                    case 0:
                      return e5 = So.of(this._iid).cacheContext, [4, this._getRemoteMessages(u3, { nextLimit: o3, reverse: true, checkingHasNext: true, checkingContinuousMessages: e5.localCacheEnabled })];
                    case 1:
                      return t7 = f4.sent(), (c3 = this._filterUnderOffsetMessage(t7.messages)).length > 0 && ((n4 = this._syncRange).extends.apply(n4, c([], a(c3.map(function(e6) {
                        return e6.createdAt;
                      })), false)), (null === (s5 = this._backgroundSync) || void 0 === s5 ? void 0 : s5.range.overlap(this._syncRange)) && t7.isContinuousMessages && (null === (r4 = this._backgroundSync) || void 0 === r4 || r4.range.extends(this._syncRange.bottom))), c3 = c3.filter(function(e6) {
                        return cs3(p5._messages, e6) < 0;
                      }), this._hasNext = null !== (i4 = t7.hasNext) && void 0 !== i4 ? i4 : c3.length >= o3, a3.put(new Ge({ type: Ae.FEATURE_LOCALCACHE_EVENT, ts: Date.now(), data: { channel_url: this.channel.url, starting_point: this._startingPoint, measured_on: "load_next", event: "cache_fetch", max_db_size: null !== (h3 = null === (l4 = e5.localCacheConfig) || void 0 === l4 ? void 0 : l4.maxSize) && void 0 !== h3 ? h3 : 0, use_local_cache: e5.localCacheEnabled, collection_id: this._key, message_init_policy: "" } })), [2];
                  }
                });
              });
            })];
          case 2:
            return m4.sent(), this._addMessagesToView(c3, Co.REQUEST_MESSAGE), [3, 4];
          case 3:
            this._hasNext = c3.length >= o3, c3.length > 0 && this._addMessagesToView(c3, Co.REQUEST_MESSAGE), m4.label = 4;
          case 4:
            return this._isLoadingNext = false, [2, c3];
        }
      });
    });
  }, e3.prototype.removeFailedMessage = function(e4) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            if (this._isDisposed)
              throw new g({ code: u.COLLECTION_DISPOSED, message: "Collection has been disposed." });
            return [4, this._channelManager.removeFailedMessageFromCache(e4)];
          case 1:
            return n3.sent(), (t6 = this._unsentMessages.findIndex(function(t7) {
              return t7.reqId === e4;
            })) > -1 && this._unsentMessages.splice(t6, 1), [2];
        }
      });
    });
  }, e3.prototype.dispose = function() {
    var e4, t6, n3, s4 = this;
    if (!this._isDisposed) {
      this._isDisposed = true;
      var r3 = So.of(this._iid), a3 = r3.cacheContext, i3 = r3.dispatcher;
      this._messages = [], this._clearCheckMyMutedTimer(), this._channel._runIfHandleableWithGroupChannel(function(e5) {
        if (e5.myMemberState !== kt3.NONE) {
          s4._channel._updateMessageCollectionLastAccessedAt();
          var t7 = s4._createChannelUpdateEventCommand(Co.CHANNEL_LASTACCESSEDAT_UPDATED);
          t7 && i3.dispatch(t7);
        }
      }), a3.localCacheEnabled && (this._prevFill.stop(), this._nextFill.stop()), null === (e4 = this._backgroundSync) || void 0 === e4 || e4.close(), null === (t6 = this._changelogSync) || void 0 === t6 || t6.close(), null === (n3 = this._pollChangelogSync) || void 0 === n3 || n3.close(), this._channelManager.unsubscribeChannelEvent(this._key), this._channelManager.unsubscribeMessageEvent(this._key), this._connectionEventContext && this._connectionEventContext.close();
    }
  }, e3;
}();
var xs = function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n(n({}, n4), { channelManager: us3.of(e3) })) || this;
  }
  return t(n3, t6), n3.prototype.keyOf = function(e3) {
    return e3.messageId;
  }, n3.prototype.initialize = function(e3) {
    var n4 = this;
    return Kr(function() {
      return r(n4, void 0, void 0, function() {
        var e4;
        return o(this, function(t7) {
          switch (t7.label) {
            case 0:
              return [4, this.channel.getMyMutedInfo()];
            case 1:
              return (e4 = t7.sent()).isMuted && -1 !== e4.remainingDuration && this._startCheckMyMutedTimer(e4.remainingDuration), [2];
          }
        });
      });
    }), t6.prototype.initialize.call(this, e3);
  }, n3.prototype.setMessageCollectionHandler = function(e3) {
    this._setBaseMessageCollectionHandler(e3);
  }, n3.prototype._activate = function() {
    return r(this, void 0, void 0, function() {
      var e3 = this;
      return o(this, function(n4) {
        switch (n4.label) {
          case 0:
            return [4, t6.prototype._activate.call(this)];
          case 1:
            return n4.sent(), [4, Kr(function() {
              return r(e3, void 0, void 0, function() {
                var e4;
                return o(this, function(t7) {
                  switch (t7.label) {
                    case 0:
                      return [4, this.channel.getMyMutedInfo()];
                    case 1:
                      return (e4 = t7.sent()).isMuted && -1 !== e4.remainingDuration && this._startCheckMyMutedTimer(e4.remainingDuration), [2];
                  }
                });
              });
            })];
          case 2:
            return n4.sent(), [2];
        }
      });
    });
  }, n3.prototype._addMessagesToView = function(e3, t7) {
    var n4, s4, r3 = this, a3 = this._filterUnderOffsetMessage(e3), i3 = [], o3 = [];
    try {
      for (var u3 = s(a3), c3 = u3.next(); !c3.done; c3 = u3.next()) {
        var l3 = c3.value;
        if (t7 === Co.SYNC_MESSAGE_FILL) {
          if (l3.messageId > 0) {
            if ((E3 = cs3(this._messages, l3)) < 0) {
              cs3(this._unsentMessages, l3) < 0 && i3.push(l3);
              var h3 = hs3(this._messages, l3);
              this._messages.splice(h3, 0, l3);
            }
          } else if (l3 instanceof Be2) {
            (E3 = cs3(this._unsentMessages, l3)) < 0 && cs3(this._messages, l3) < 0 && (this._unsentMessages.push(l3), i3.push(l3));
          }
        } else if (l3.messageId > 0) {
          if ((E3 = cs3(this._messages, l3)) < 0) {
            var m4 = cs3(this._unsentMessages, l3);
            m4 < 0 ? i3.push(l3) : (this._unsentMessages.splice(m4, 1), o3.push(l3));
            h3 = hs3(this._messages, l3);
            this._messages.splice(h3, 0, l3);
          } else
            o3.push(l3), this._messages[E3] = l3;
          if (l3.updatedAt > 0) {
            var g4 = this._updateChildMessagesInView(l3);
            o3.push.apply(o3, c([], a(g4), false));
          }
        } else if (l3 instanceof Be2) {
          var E3;
          (E3 = cs3(this._unsentMessages, l3)) < 0 ? cs3(this._messages, l3) < 0 && (this._unsentMessages.push(l3), i3.push(l3)) : (o3.push(l3), this._unsentMessages[E3] = l3);
        }
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        c3 && !c3.done && (s4 = u3.return) && s4.call(u3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
    xo(t7) && jr(function() {
      return r(r3, void 0, void 0, function() {
        var e4, n5, s5, r4, a4;
        return o(this, function(u4) {
          return e4 = this._createMessageEventContext(t7), i3.length > 0 && (null === (s5 = null === (n5 = this._handler) || void 0 === n5 ? void 0 : n5.onMessagesAdded) || void 0 === s5 || s5.call(n5, e4, this.channel, i3)), o3.length > 0 && (null === (a4 = null === (r4 = this._handler) || void 0 === r4 ? void 0 : r4.onMessagesUpdated) || void 0 === a4 || a4.call(r4, e4, this.channel, o3)), [2];
        });
      });
    });
  }, n3.prototype._updateMessagesToView = function(e3, t7) {
    var n4, s4, r3 = this, a3 = [], i3 = [], o3 = [];
    try {
      for (var u3 = s(e3), c3 = u3.next(); !c3.done; c3 = u3.next()) {
        var l3, h3 = c3.value;
        if (h3.messageId > 0)
          if ((l3 = cs3(this._messages, h3)) >= 0)
            i3.push(h3), this._messages[l3] = h3;
          else {
            var m4 = cs3(this._unsentMessages, h3);
            if (m4 >= 0) {
              var g4 = a(this._unsentMessages.splice(m4, 1), 1)[0];
              if (this.hasNext && g4)
                o3.push(g4);
              else {
                i3.push(h3);
                var E3 = hs3(this._messages, h3);
                this._messages.splice(E3, 0, h3);
              }
            } else {
              var C3 = this._messages.map(function(e4) {
                return e4.createdAt;
              });
              (h3.createdAt < Math.min.apply(Math, c([], a(C3), false)) && !this._hasPrevious || h3.createdAt > Math.max.apply(Math, c([], a(C3), false)) && !this._hasNext) && a3.push(h3);
            }
          }
        else if (h3 instanceof Be2)
          (l3 = cs3(this._unsentMessages, h3)) >= 0 && (i3.push(h3), this._unsentMessages[l3] = h3);
      }
    } catch (e4) {
      n4 = { error: e4 };
    } finally {
      try {
        c3 && !c3.done && (s4 = u3.return) && s4.call(u3);
      } finally {
        if (n4)
          throw n4.error;
      }
    }
    return xo(t7) && jr(function() {
      return r(r3, void 0, void 0, function() {
        var e4, n5, s5, r4, u4;
        return o(this, function(c4) {
          return e4 = this._createMessageEventContext(t7), i3.length > 0 ? null === (s5 = null === (n5 = this._handler) || void 0 === n5 ? void 0 : n5.onMessagesUpdated) || void 0 === s5 || s5.call(n5, e4, this.channel, i3) : o3.length > 0 ? null === (u4 = null === (r4 = this._handler) || void 0 === r4 ? void 0 : r4.onMessagesDeleted) || void 0 === u4 || u4.call(r4, e4, this.channel, [], o3) : a3.length > 0 && this._addMessagesToView(a3, t7), [2];
        });
      });
    }), i3;
  }, n3;
}(Fs);
var Os = { coverUrl: void 0, coverImage: void 0, isDistinct: void 0, isPublic: void 0, isDiscoverable: void 0, accessCode: void 0, name: void 0, data: void 0, customType: void 0, operatorUserIds: void 0, messageSurvivalSeconds: void 0 };
var Hs = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.token, a3 = e3.limit, i3 = e3.order, o3 = e3.mutedMemberFilter, u3 = e3.memberStateFilter, c3 = e3.nicknameStartsWithFilter, l3 = e3.operatorFilter;
    return (n4 = t6.call(this) || this).method = ie.GET, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/members"), n4.params = { token: r3, limit: a3, order: i3, muted_member_filter: o3, member_state_filter: u3, nickname_startswith: c3, operator_filter: l3, show_member_is_muted: true, show_read_receipt: true, show_delivery_receipt: true }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
var Gs = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    s4.members = [];
    var r3 = n4.next, a3 = n4.members;
    return s4.token = r3, a3 && a3.length > 0 && (s4.members = a3.map(function(t7) {
      return new qt3(e3, t7);
    })), s4;
  }
  return t(n3, t6), n3;
}(Oe);
!function(e3) {
  e3.ALL = "all", e3.MUTED = "muted", e3.UNMUTED = "unmuted";
}(Ls || (Ls = {})), function(e3) {
  e3.MEMBER_NICKNAME_ALPHABETICAL = "member_nickname_alphabetical", e3.OPERATOR_THEN_MEMBER_ALPHABETICAL = "operator_then_member_alphabetical";
}(Rs || (Rs = {})), function(e3) {
  e3.ALL = "all", e3.JOINED = "joined_only", e3.INVITED = "invited_only", e3.INVITED_BY_FRIEND = "invited_by_friend", e3.INVITED_BY_NON_FRIEND = "invited_by_non_friend";
}(ks || (ks = {}));
var Vs = function(t6) {
  function a3(e3, n3, s4) {
    var r3, a4, o3, u3, c3 = this;
    return (c3 = t6.call(this, e3, n3, F.GROUP, s4) || this).mutedMemberFilter = Ls.ALL, c3.memberStateFilter = ks.ALL, c3.nicknameStartsWithFilter = null, c3.operatorFilter = Gt3.ALL, c3.order = Rs.MEMBER_NICKNAME_ALPHABETICAL, c3.mutedMemberFilter = null !== (r3 = s4.mutedMemberFilter) && void 0 !== r3 ? r3 : Ls.ALL, c3.memberStateFilter = null !== (a4 = s4.memberStateFilter) && void 0 !== a4 ? a4 : ks.ALL, c3.nicknameStartsWithFilter = null !== (o3 = s4.nicknameStartsWithFilter) && void 0 !== o3 ? o3 : null, c3.order = null !== (u3 = s4.order) && void 0 !== u3 ? u3 : Rs.MEMBER_NICKNAME_ALPHABETICAL, c3;
  }
  return t(a3, t6), a3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && N(Ls, this.mutedMemberFilter) && N(ks, this.memberStateFilter) && (w("string", this.nicknameStartsWithFilter) || null === this.nicknameStartsWithFilter) && N(Gt3, this.operatorFilter) && N(Rs, this.order);
  }, a3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, r3, a4, i3, o3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new Hs(ne(n(n({}, this), { token: this._token }))), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return r3 = u3.sent(), a4 = r3.as(Gs), i3 = a4.members, o3 = a4.token, this._token = o3, this._hasNext = !!o3, this._isLoading = false, [2, i3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, a3;
}(Go);
var Bs = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl, r3 = e3.userId, a3 = e3.accessCode;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/accept"), n4.params = { user_id: r3, access_code: a3 }, n4;
  }
  return t(n3, t6), n3;
}(Ce);
var qs = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4.channel.myMemberState = kt3.JOINED, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var zs = function(n3) {
  function s4(e3) {
    var s5 = this, r3 = e3.channelUrl, a3 = e3.isDistinct, i3 = e3.isPublic, o3 = e3.isDiscoverable, u3 = e3.coverUrl, c3 = e3.coverImage, l3 = e3.accessCode, h3 = e3.name, d3 = e3.data, _2 = e3.customType, p5 = e3.operatorUserIds, f4 = e3.messageSurvivalSeconds;
    return (s5 = n3.call(this) || this).method = ie.PUT, s5.path = "".concat(ae, "/").concat(encodeURIComponent(r3)), s5.params = te({ is_distinct: a3, is_public: i3, is_discoverable: o3, name: h3, data: d3, custom_type: _2, cover_url: u3, cover_file: c3, access_code: l3, operator_ids: p5, message_survival_seconds: f4 }), s5;
  }
  return t(s4, n3), s4;
}(Ce);
var Ws = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.channel = new gr3(e3, n4), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var js = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl;
    return (n4 = t6.call(this) || this).method = ie.DELETE, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4)), n4;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var Qs = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl;
    return (n4 = t6.call(this) || this).method = ie.DELETE, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/hide"), n4;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3() {
    return null !== t6 && t6.apply(this, arguments) || this;
  }
  t(n3, t6);
}(Oe);
var Ys = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.channelUrl, r3 = e3.countPreference, a3 = t6.call(this) || this;
    return a3.method = ie.PUT, a3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/count_preference/").concat(encodeURIComponent(s4)), a3.params = { count_preference: r3 }, a3;
  }
  return t(n3, t6), n3;
}(Ce);
var Ks = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.countPreference = n4.count_preference, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var Js = function(t6) {
  function n3(e3) {
    var n4 = this, s4 = e3.channelUrl;
    return (n4 = t6.call(this) || this).method = ie.PUT, n4.path = "".concat(ae, "/").concat(encodeURIComponent(s4), "/reset_user_history"), n4;
  }
  return t(n3, t6), n3;
}(Ce);
var Zs = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this, r3 = n4.ts_message_offset;
    return s4.messageOffsetTimestamp = r3, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var Xs = n(n({}, Kt2), { scheduledAt: void 0, file: void 0, fileUrl: void 0, fileName: void 0, mimeType: void 0, fileSize: void 0, thumbnailSizes: void 0, requireAuth: false });
var $s = n(n({}, Qt2), { scheduledAt: void 0 });
var er3 = function(s4) {
  function r3(e3) {
    var r4, a3 = this;
    a3 = s4.call(this) || this;
    var i3 = [];
    e3.mentionType === j.USERS && (e3.mentionedUserIds ? i3 = e3.mentionedUserIds : e3.mentionedUsers && (i3 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    })));
    var o3 = e3.channelType, u3 = e3.channelUrl, c3 = e3.scheduledMessageId;
    return a3.method = ie.PUT, a3.path = "".concat(ye(o3), "/").concat(encodeURIComponent(u3), "/scheduled_messages/").concat(encodeURIComponent(c3)), a3.params = te(ne({ req_id: e3.reqId, scheduled_at: e3.scheduledAt, message_type: q.FILE, url: e3.fileUrl, file_name: e3.fileName, file_size: e3.fileSize, file_type: e3.mimeType, thumbnails: e3.thumbnailSizes ? e3.thumbnailSizes.map(function(e4) {
      return Ke2.payloadify(e4);
    }) : [], custom_type: e3.customType, data: e3.data, require_auth: e3.requireAuth, mention_type: e3.mentionType, mentioned_user_ids: i3, sorted_metaarray: null === (r4 = e3.metaArrays) || void 0 === r4 ? void 0 : r4.map(function(e4) {
      return xe2.payloadify(e4);
    }), apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, push_option: e3.pushNotificationDeliveryOption })), a3;
  }
  return t(r3, s4), r3;
}(Ce);
var tr3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.message = new et2(e3, n4), s4;
  }
  return t(n3, t6), n3;
}(Oe);
var nr3 = function(s4) {
  function r3(e3) {
    var r4, a3 = this;
    a3 = s4.call(this) || this;
    var i3 = [];
    e3.mentionType === j.USERS && (e3.mentionedUserIds ? i3 = e3.mentionedUserIds : e3.mentionedUsers && (i3 = e3.mentionedUsers.map(function(e4) {
      return e4.userId;
    })));
    var o3 = e3.channelType, u3 = e3.channelUrl, c3 = e3.scheduledMessageId;
    return a3.method = ie.PUT, a3.path = "".concat(ye(o3), "/").concat(encodeURIComponent(u3), "/scheduled_messages/").concat(encodeURIComponent(c3)), a3.params = te(ne({ req_id: e3.reqId, scheduled_at: e3.scheduledAt, message_type: q.USER, message: e3.message, custom_type: e3.customType, data: e3.data, mention_type: e3.mentionType, mentioned_user_ids: i3, sorted_metaarray: null === (r4 = e3.metaArrays) || void 0 === r4 ? void 0 : r4.map(function(e4) {
      return xe2.payloadify(e4);
    }), apple_critical_alert_options: e3.appleCriticalAlertOptions ? ke2.payloadify(e3.appleCriticalAlertOptions) : null, target_langs: e3.translationTargetLanguages, push_option: e3.pushNotificationDeliveryOption })), a3;
  }
  return t(r3, s4), r3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.message = new We2(e3, n4), s4;
  }
  t(n3, t6);
}(Oe);
var sr3 = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this) || this, s4 = e3.channelType, r3 = e3.channelUrl, a3 = e3.scheduledMessageId;
    return n4.method = ie.DELETE, n4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(r3), "/scheduled_messages/").concat(encodeURIComponent(a3)), n4;
  }
  return t(n3, t6), n3;
}(Ce);
var rr3 = function(t6) {
  function n3(e3) {
    var n4 = t6.call(this) || this, s4 = e3.channelType, r3 = e3.channelUrl, a3 = e3.scheduledMessageId;
    return n4.method = ie.POST, n4.path = "".concat(ye(s4), "/").concat(encodeURIComponent(r3), "/scheduled_messages/").concat(encodeURIComponent(a3), "/send_now"), n4;
  }
  return t(n3, t6), n3;
}(Ce);
var ar3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.channelUrl, r3 = e3.pushTriggerOption, a3 = t6.call(this) || this;
    return a3.method = ie.PUT, a3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/push_preference/").concat(encodeURIComponent(s4)), a3.params = { push_trigger_option: r3 }, a3;
  }
  return t(n3, t6), n3;
}(Ce);
var ir3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.pushTriggerOption = n4.push_trigger_option, s4.enabled = n4.enable, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var or3 = function(t6) {
  function n3(e3) {
    var n4 = e3.userId, s4 = e3.channelUrl, r3 = t6.call(this) || this;
    return r3.method = ie.GET, r3.path = "".concat(oe, "/").concat(encodeURIComponent(n4), "/push_preference/").concat(encodeURIComponent(s4)), r3;
  }
  return t(n3, t6), n3;
}(Ce);
var ur3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this;
    return s4.pushTriggerOption = n4.push_trigger_option, s4.enabled = n4.enable, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var cr3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelType, s4 = e3.channelUrl, r3 = e3.messageId, a3 = t6.call(this) || this;
    return a3.method = ie.POST, a3.path = "".concat(ye(n4), "/").concat(encodeURIComponent(s4), "/messages/").concat(r3, "/pin"), a3;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var lr3 = function(t6) {
  function n3(e3) {
    var n4 = e3.channelType, s4 = e3.channelUrl, r3 = e3.messageId, a3 = t6.call(this) || this;
    return a3.method = ie.DELETE, a3.path = "".concat(ye(n4), "/").concat(encodeURIComponent(s4), "/messages/").concat(r3, "/pin"), a3;
  }
  return t(n3, t6), n3;
}(Ce);
!function(t6) {
  function n3(e3, n4) {
    return t6.call(this, e3, n4) || this;
  }
  t(n3, t6);
}(Oe);
var hr3;
var dr3;
var _r3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3) || this;
    return s4.message = null, s4.message = $e2(e3, n4.message), s4;
  }
  return t(n3, t6), n3;
}(Ar);
var pr3 = function(n3) {
  function s4(e3) {
    var s5 = this, r3 = e3.channelType, a3 = e3.channelUrl, i3 = e3.limit, o3 = e3.token, u3 = e3.includeReactions, c3 = e3.includeMetaArray, l3 = e3.includeParentMessageInfo, h3 = e3.includeThreadInfo, d3 = e3.includePollDetails;
    return (s5 = n3.call(this) || this).method = ie.GET, s5.path = "".concat(ye(r3), "/").concat(encodeURIComponent(a3), "/pinned_messages"), s5.params = te({ limit: i3, token: o3, include_reactions: u3, with_sorted_meta_array: c3, include_thread_info: h3, include_parent_message_info: l3, include_poll_details: d3 }), s5;
  }
  return t(s4, n3), s4;
}(Ce);
var fr3 = function(t6) {
  function n3(e3, n4) {
    var s4 = t6.call(this, e3, n4) || this, r3 = n4.pinned_messages, a3 = n4.has_more, i3 = n4.next;
    return s4.pinnedMessages = r3.map(function(t7) {
      return new _r3(e3, t7);
    }), s4.hasMore = a3, s4.token = i3, s4;
  }
  return t(n3, t6), n3;
}(Oe);
var vr3 = function(t6) {
  function n3(e3, n4, s4, r3) {
    var a3 = t6.call(this, e3, n4, s4, r3) || this;
    return a3.includeMetaArray = r3.includeMetaArray, a3.includeReactions = r3.includeReactions, a3.includeParentMessageInfo = r3.includeParentMessageInfo, a3.includeThreadInfo = r3.includeThreadInfo, a3.includePollDetails = r3.includePollDetails, a3;
  }
  return t(n3, t6), n3.prototype._validate = function() {
    return t6.prototype._validate.call(this) && w("boolean", this.includeMetaArray, true) && w("boolean", this.includeReactions, true) && w("boolean", this.includeParentMessageInfo, true) && w("boolean", this.includeThreadInfo, true) && w("boolean", this.includePollDetails, true);
  }, n3.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e3, t7, n4, r3, a3, i3, o3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e3 = So.of(this._iid).requestQueue, t7 = new pr3(n(n({}, this), { token: this._token })), [4, e3.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n4 = u3.sent(), r3 = n4.as(fr3), a3 = r3.pinnedMessages, i3 = r3.hasMore, o3 = r3.token, this._token = o3, this._hasNext = !!i3, this._isLoading = false, [2, a3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, n3;
}(Go);
var mr3 = function(t6) {
  function n3(e3, n4) {
    var s4, r3, a3 = this;
    return (a3 = t6.call(this, e3) || this).channelUrl = null !== (s4 = n4.channel_url) && void 0 !== s4 ? s4 : "", a3.channelType = null !== (r3 = n4.channel_type) && void 0 !== r3 ? r3 : F.GROUP, a3.member = new Fr(a3._iid, n4.user), a3.deliveryAt = n4.ts, a3;
  }
  return t(n3, t6), n3;
}(Ar);
!function(e3) {
  e3.ALL = "all", e3.UNREAD_MESSAGE_COUNT_ONLY = "unread_message_count_only", e3.UNREAD_MENTION_COUNT_ONLY = "unread_mention_count_only", e3.OFF = "off";
}(hr3 || (hr3 = {})), function(e3) {
  e3.UNHIDDEN = "unhidden", e3.HIDDEN_ALLOW_AUTO_UNHIDE = "hidden_allow_auto_unhide", e3.HIDDEN_PREVENT_AUTO_UNHIDE = "hidden_prevent_auto_unhide";
}(dr3 || (dr3 = {}));
var gr3 = function(u3) {
  function c3(e3, t6) {
    var n3, c4, l3, h3, p5, f4, v5, m4, E3, C3, y3, M2, b4, N3, U3, S4, A4, T4, I4, w3, D3 = this;
    return (D3 = u3.call(this, e3, t6) || this)._unreadMemberStateMap = /* @__PURE__ */ new Map(), D3._undeliveredMemberStateMap = /* @__PURE__ */ new Map(), D3._typingStatus = /* @__PURE__ */ new Map(), D3._lastMemberCountUpdated = 0, D3._typingStarted = 0, D3._typingEnded = 0, D3.isDistinct = false, D3.isSuper = false, D3.isBroadcast = false, D3.isExclusive = false, D3.isPublic = false, D3.isDiscoverable = true, D3.isChatNotification = false, D3.isAccessCodeRequired = false, D3.isPushEnabled = false, D3.unreadMessageCount = 0, D3.unreadMentionCount = 0, D3.members = [], D3.memberCount = 0, D3.joinedMemberCount = 0, D3.hiddenState = dr3.UNHIDDEN, D3.lastMessage = null, D3.messageOffsetTimestamp = 0, D3.messageSurvivalSeconds = -1, D3.myMemberState = kt3.NONE, D3.myRole = z.NONE, D3.myMutedState = V.UNMUTED, D3.myLastRead = 0, D3.myCountPreference = hr3.ALL, D3.myPushTriggerOption = _.DEFAULT, D3.inviter = null, D3.invitedAt = 0, D3.joinedAt = 0, D3.pinnedMessageIds = [], D3.lastPinnedMessage = null, D3._pinnedMessagesUpdatedAt = 0, D3._myMutedRemainingTime = -1, D3.channelType = F.GROUP, D3.isDistinct = null !== (c4 = t6.is_distinct) && void 0 !== c4 && c4, D3.isSuper = null !== (l3 = t6.is_super) && void 0 !== l3 && l3, D3.isBroadcast = null !== (h3 = t6.is_broadcast) && void 0 !== h3 && h3, D3.isExclusive = null !== (p5 = t6.is_exclusive) && void 0 !== p5 && p5, D3.isPublic = null !== (f4 = t6.is_public) && void 0 !== f4 && f4, D3.isDiscoverable = null !== (v5 = t6.is_discoverable) && void 0 !== v5 ? v5 : D3.isPublic, D3.isChatNotification = null !== (m4 = t6.is_chat_notification) && void 0 !== m4 && m4, D3.isAccessCodeRequired = null !== (E3 = t6.is_access_code_required) && void 0 !== E3 && E3, D3.isPushEnabled = null !== (C3 = t6.is_push_enabled) && void 0 !== C3 && C3, Array.isArray(t6.members) && (n3 = D3.members).push.apply(n3, c([], a(t6.members.map(function(e4) {
      return new qt3(D3._iid, e4);
    })), false)), D3.memberCount = null !== (y3 = t6.member_count) && void 0 !== y3 ? y3 : 0, D3.joinedMemberCount = null !== (M2 = t6.joined_member_count) && void 0 !== M2 ? M2 : 0, D3.hiddenState = N(dr3, t6.hidden_state) ? t6.hidden_state : dr3.UNHIDDEN, D3.messageOffsetTimestamp = null !== (b4 = t6.ts_message_offset) && void 0 !== b4 ? b4 : 0, D3.messageSurvivalSeconds = null !== (N3 = t6.message_survival_seconds) && void 0 !== N3 ? N3 : -1, D3.lastMessage = t6.last_message ? $e2(D3._iid, n({ channel_type: D3.channelType }, t6.last_message)) : null, t6.read_receipt && Object.keys(t6.read_receipt).forEach(function(e4) {
      w("number", t6.read_receipt[e4]) && D3._updateUnreadMemberState(e4, t6.read_receipt[e4]);
    }), t6.delivery_receipt && Object.keys(t6.delivery_receipt).forEach(function(e4) {
      w("number", t6.delivery_receipt[e4]) && D3._updateUndeliveredMemberState(e4, t6.delivery_receipt[e4]);
    }), D3.myMemberState = N(kt3, t6.member_state) ? t6.member_state : kt3.NONE, D3.myRole = N(z, t6.my_role) ? t6.my_role : z.NONE, N(V, t6.is_muted) ? D3.myMutedState = t6.is_muted : w("boolean", t6.is_muted) ? D3.myMutedState = t6.is_muted ? V.MUTED : V.UNMUTED : D3.myMutedState = V.UNMUTED, D3.myCountPreference = N(hr3, t6.count_preference) ? t6.count_preference : hr3.ALL, D3.myPushTriggerOption = N(_, t6.push_trigger_option) ? t6.push_trigger_option : _.ALL, D3.myLastRead = null !== (U3 = t6.user_last_read) && void 0 !== U3 ? U3 : 0, D3.inviter = t6.inviter ? new Fr(D3._iid, t6.inviter) : null, D3.invitedAt = null !== (S4 = t6.invited_at) && void 0 !== S4 ? S4 : 0, D3.joinedAt = null !== (A4 = t6.joined_ts) && void 0 !== A4 ? A4 : 0, D3._updateUnreadCount(null !== (T4 = t6.unread_message_count) && void 0 !== T4 ? T4 : 0, null !== (I4 = t6.unread_mention_count) && void 0 !== I4 ? I4 : 0), D3.pinnedMessageIds = null !== (w3 = t6.pinned_message_ids) && void 0 !== w3 ? w3 : [], D3.lastPinnedMessage = t6.latest_pinned_message ? $e2(D3._iid, n({ channel_type: D3.channelType }, t6.latest_pinned_message)) : null, D3;
  }
  return t(c3, u3), Object.defineProperty(c3.prototype, "isHidden", { get: function() {
    return this.hiddenState !== dr3.UNHIDDEN;
  }, enumerable: false, configurable: true }), Object.defineProperty(c3.prototype, "isTyping", { get: function() {
    return this._typingStatus.size > 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(c3.prototype, "cachedUnreadMemberState", { get: function() {
    var e3, t6, n3 = {};
    try {
      for (var s4 = s(this._unreadMemberStateMap), r3 = s4.next(); !r3.done; r3 = s4.next()) {
        var a3 = a(r3.value, 2), i3 = a3[0], o3 = a3[1];
        n3[i3] = o3;
      }
    } catch (t7) {
      e3 = { error: t7 };
    } finally {
      try {
        r3 && !r3.done && (t6 = s4.return) && t6.call(s4);
      } finally {
        if (e3)
          throw e3.error;
      }
    }
    return n3;
  }, enumerable: false, configurable: true }), Object.defineProperty(c3.prototype, "cachedUndeliveredMemberState", { get: function() {
    var e3, t6, n3 = {};
    try {
      for (var s4 = s(this._undeliveredMemberStateMap), r3 = s4.next(); !r3.done; r3 = s4.next()) {
        var a3 = a(r3.value, 2), i3 = a3[0], o3 = a3[1];
        n3[i3] = o3;
      }
    } catch (t7) {
      e3 = { error: t7 };
    } finally {
      try {
        r3 && !r3.done && (t6 = s4.return) && t6.call(s4);
      } finally {
        if (e3)
          throw e3.error;
      }
    }
    return n3;
  }, enumerable: false, configurable: true }), c3.payloadify = function(e3) {
    return te(ne(n(n({}, u3.payloadify.call(this, e3)), { is_access_code_required: e3.isAccessCodeRequired, is_distinct: e3.isDistinct, is_super: e3.isSuper, is_broadcast: e3.isBroadcast, is_exclusive: e3.isExclusive, is_public: e3.isPublic, is_discoverable: e3.isDiscoverable, is_muted: e3.myMutedState, is_push_enabled: e3.isPushEnabled, unread_message_count: e3.unreadMessageCount, unread_mention_count: e3.unreadMentionCount, push_trigger_option: e3.myPushTriggerOption, count_preference: e3.myCountPreference, hidden_state: e3.hiddenState, member_count: e3.memberCount, joined_member_count: e3.joinedMemberCount, member_state: e3.myMemberState, my_role: e3.myRole, user_last_read: e3.myLastRead, ts_message_offset: e3.messageOffsetTimestamp, message_survival_seconds: e3.messageSurvivalSeconds, read_receipt: e3.cachedUnreadMemberState, delivery_receipt: e3.cachedUndeliveredMemberState, members: e3.members.map(function(e4) {
      return qt3.payloadify(e4);
    }), last_message: e3.lastMessage ? Ze2(e3.lastMessage) : null, inviter: e3.inviter ? Fr.payloadify(e3.inviter) : null, invited_at: e3.invitedAt, joined_ts: e3.joinedAt, pinned_message_ids: e3.pinnedMessageIds, latest_pinned_message: e3.lastPinnedMessage ? Ze2(e3.lastPinnedMessage) : null })));
  }, c3.prototype._shouldUpdateLastMessageWith = function(e3) {
    return !(e3 instanceof Be2 && e3.parentMessageId > 0 && !e3.replyToChannel) && (!this.lastMessage || this.lastMessage.createdAt < e3.createdAt || this.lastMessage.createdAt === e3.createdAt && this.lastMessage.messageId === e3.messageId && this.lastMessage.updatedAt < e3.updatedAt);
  }, c3.prototype._tryUpdateLastMessageAndCallEvents = function(e3, t6) {
    var n3 = So.of(this._iid).dispatcher, s4 = us3.of(this._iid);
    e3._shouldUpdateLastMessageWith(t6) && (e3.lastMessage = t6), s4.handlers.map(function(t7) {
      t7.onChannelChanged && t7.onChannelChanged(e3);
    }), n3.dispatch(new on3({ channels: [e3], source: Co.EVENT_MESSAGE_SENT }));
  }, c3.prototype._updateUnreadCount = function(e3, t6) {
    if ("number" == typeof e3 && e3 >= 0)
      if (this.myCountPreference === hr3.ALL || this.myCountPreference === hr3.UNREAD_MESSAGE_COUNT_ONLY)
        if (this.isExclusive || this.isSuper || this.isBroadcast) {
          var n3 = So.of(this._iid).maxSuperGroupChannelUnreadCount;
          this.unreadMessageCount = n3 && e3 >= n3 ? n3 : e3;
        } else
          this.unreadMessageCount = e3;
      else
        this.unreadMessageCount = 0;
    else
      this.unreadMessageCount = 0;
    "number" == typeof t6 && t6 >= 0 && (this.myCountPreference === hr3.ALL || this.myCountPreference === hr3.UNREAD_MENTION_COUNT_ONLY) ? this.unreadMentionCount = t6 : this.unreadMentionCount = 0;
  }, c3.prototype._updateUnreadMemberState = function(e3, t6) {
    var n3 = this._unreadMemberStateMap.get(e3);
    return (!n3 || n3 < t6) && (this._unreadMemberStateMap.set(e3, t6), So.of(this._iid).sdkState.userId === e3 && (this.myLastRead = t6), true);
  }, c3.prototype._updateUndeliveredMemberState = function(e3, t6) {
    var n3 = this._undeliveredMemberStateMap.get(e3);
    return (!n3 || n3 < t6) && (this._undeliveredMemberStateMap.set(e3, t6), true);
  }, c3.prototype._updateTypingStatus = function(e3, t6) {
    void 0 === t6 && (t6 = (/* @__PURE__ */ new Date()).getTime()), t6 > 0 ? this._typingStatus.set(e3.userId, { user: e3, ts: t6 }) : this._typingStatus.delete(e3.userId);
  }, c3.prototype._clearTypingStatus = function() {
    this._typingStatus.clear(), this._typingStarted = 0, this._typingEnded = 0;
  }, c3.prototype._setLatestMemberCount = function(e3, t6, n3) {
    var s4 = false;
    return n3 >= this._lastMemberCountUpdated && (this._lastMemberCountUpdated = n3, s4 = e3 !== this.memberCount || t6 !== this.joinedMemberCount, this.memberCount = e3, this.joinedMemberCount = t6), s4;
  }, c3.prototype.isReadMessage = function(e3) {
    var t6 = So.of(this._iid).sdkState, n3 = this._unreadMemberStateMap.get(t6.userId);
    return !!n3 && n3 >= e3.createdAt;
  }, c3.prototype.serialize = function() {
    var e3 = this;
    return xr(this, function(t6) {
      t6.cachedUnreadMemberState = e3.cachedUnreadMemberState, t6.cachedUndeliveredMemberState = e3.cachedUndeliveredMemberState;
    });
  }, c3.prototype.createMessageCollection = function(e3) {
    return void 0 === e3 && (e3 = {}), new xs(this._iid, n(n({}, e3), { channel: this }));
  }, c3.prototype.createMemberListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new Vs(this._iid, this.url, e3);
  }, c3.prototype.createPinnedMessageListQuery = function(e3) {
    return void 0 === e3 && (e3 = {}), new vr3(this._iid, this.url, this.channelType, e3);
  }, c3.prototype.addMember = function(e3, t6) {
    if (void 0 === t6 && (t6 = 0), !this.isExclusive && !this.isSuper && !this.isBroadcast) {
      var n3 = this.members.findIndex(function(t7) {
        return t7.userId === e3.userId;
      });
      if (n3 > -1) {
        var s4 = this.members[n3];
        s4.state === kt3.JOINED && (e3.state = s4.state), this.members.splice(n3, 1), this.memberCount--;
      }
      this.members.push(e3), this.memberCount++, this._updateUnreadMemberState(e3.userId, t6), this._updateUndeliveredMemberState(e3.userId, t6);
    }
  }, c3.prototype.removeMember = function(e3) {
    if (!this.isExclusive && !this.isSuper && !this.isBroadcast) {
      var t6 = e3 instanceof qt3 ? e3.userId : e3, n3 = this.members.findIndex(function(e4) {
        return e4.userId === t6;
      });
      if (n3 > -1)
        return this.members.splice(n3, 1), this.memberCount--, true;
    }
    return false;
  }, c3.prototype.getUnreadMemberCount = function(e3) {
    var t6, n3;
    if (e3 instanceof Be2 && !this.isExclusive && !this.isSuper && !this.isBroadcast) {
      var s4 = So.of(this._iid).sdkState, r3 = e3.createdAt, a3 = 0;
      try {
        for (var i3 = s(this.members), o3 = i3.next(); !o3.done; o3 = i3.next()) {
          var u4 = o3.value;
          if (s4.userId !== u4.userId && u4.state === kt3.JOINED && e3.sender.userId !== u4.userId)
            (this.cachedUnreadMemberState[u4.userId] || 0) < r3 && a3++;
        }
      } catch (e4) {
        t6 = { error: e4 };
      } finally {
        try {
          o3 && !o3.done && (n3 = i3.return) && n3.call(i3);
        } finally {
          if (t6)
            throw t6.error;
        }
      }
      return a3;
    }
    return 0;
  }, c3.prototype.getUndeliveredMemberCount = function(e3) {
    var t6, n3;
    if (e3 instanceof Be2 && !this.isExclusive && !this.isSuper && !this.isBroadcast) {
      var s4 = So.of(this._iid).sdkState, r3 = e3.createdAt, a3 = 0;
      try {
        for (var i3 = s(this.members), o3 = i3.next(); !o3.done; o3 = i3.next()) {
          var u4 = o3.value;
          if (s4.userId !== u4.userId && u4.state === kt3.JOINED && e3.sender.userId !== u4.userId)
            (this.cachedUndeliveredMemberState[u4.userId] || 0) < r3 && a3++;
        }
      } catch (e4) {
        t6 = { error: e4 };
      } finally {
        try {
          o3 && !o3.done && (n3 = i3.return) && n3.call(i3);
        } finally {
          if (t6)
            throw t6.error;
        }
      }
      return a3;
    }
    return 0;
  }, c3.prototype.getReadMembers = function(e3, t6) {
    var n3 = this;
    void 0 === t6 && (t6 = false);
    var s4 = So.of(this._iid).sdkState;
    if (!s4.userId || this.isExclusive || this.isSuper || this.isBroadcast)
      return [];
    var r3 = e3 instanceof Be2 ? e3.sender : null, a3 = [];
    return this.members.forEach(function(i3) {
      if (t6 || i3.userId !== s4.userId && i3.userId !== (null == r3 ? void 0 : r3.userId)) {
        var o3 = n3._unreadMemberStateMap.get(i3.userId);
        o3 && o3 >= e3.createdAt && a3.push(i3);
      }
    }), a3;
  }, c3.prototype.getUnreadMembers = function(e3, t6) {
    var n3 = this;
    void 0 === t6 && (t6 = false);
    var s4 = So.of(this._iid).sdkState;
    if (!s4.userId || this.isExclusive || this.isSuper || this.isBroadcast)
      return [];
    var r3 = e3 instanceof Be2 ? e3.sender : null, a3 = [];
    return this.members.forEach(function(i3) {
      if (t6 || i3.userId !== s4.userId && i3.userId !== (null == r3 ? void 0 : r3.userId)) {
        var o3 = n3._unreadMemberStateMap.get(i3.userId);
        o3 && o3 < e3.createdAt && a3.push(i3);
      }
    }), a3;
  }, c3.prototype.getReadStatus = function(e3) {
    var t6 = this;
    void 0 === e3 && (e3 = false);
    var n3 = So.of(this._iid).sdkState;
    if (!n3.userId || this.isExclusive || this.isSuper || this.isBroadcast)
      return null;
    var s4 = {};
    return this.members.forEach(function(r3) {
      if (e3 || r3.userId !== n3.userId) {
        var a3 = t6._unreadMemberStateMap.get(r3.userId);
        s4[r3.userId] = new zt3(t6._iid, { channel_url: t6.url, channel_type: t6.channelType, user: qt3.payloadify(r3), ts: null != a3 ? a3 : 0 });
      }
    }), s4;
  }, c3.prototype.getDeliveryStatus = function(e3) {
    var t6 = this;
    void 0 === e3 && (e3 = true);
    var n3 = So.of(this._iid).sdkState;
    if (!n3.userId || this.isExclusive || this.isSuper || this.isBroadcast)
      return null;
    var s4 = {};
    return this.members.forEach(function(r3) {
      if (e3 || r3.userId !== n3.userId) {
        var a3 = t6._undeliveredMemberStateMap.get(r3.userId);
        s4[r3.userId] = new mr3(t6._iid, { channel_url: t6.url, channel_type: t6.channelType, user: qt3.payloadify(r3), ts: null != a3 ? a3 : 0 });
      }
    }), s4;
  }, c3.prototype.getTypingUsers = function() {
    var e3 = [];
    return this._typingStatus.forEach(function(t6) {
      var n3 = t6.user;
      e3.push(n3);
    }), e3;
  }, c3.prototype.invalidateTypingStatus = function() {
    var e3 = this, t6 = So.of(this._iid).typingIndicatorInvalidateTime, n3 = Date.now(), s4 = false;
    return this._typingStatus.forEach(function(r3, a3) {
      var i3 = r3.ts;
      n3 - i3 >= t6 && (e3._typingStatus.delete(a3), s4 = true);
    }), s4;
  }, c3.prototype.refresh = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        return [2, this._refresh()];
      });
    });
  }, c3.prototype._refresh = function(e3) {
    return void 0 === e3 && (e3 = false), r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return t6 = So.of(this._iid), n3 = t6.requestQueue, s4 = t6.dispatcher, r3 = new dn3({ channelUrl: this.url }), [4, n3.send(r3)];
          case 1:
            return a3 = o3.sent(), i3 = a3.as(_n3).channel, this._update(i3), e3 || s4.dispatch(new on3({ channels: [i3], source: Co.REFRESH_CHANNEL })), [2, this];
        }
      });
    });
  }, c3.prototype.freeze = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return [4, u3.prototype.freeze.call(this)];
          case 1:
            return e3.sent(), So.of(this._iid).dispatcher.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_FROZEN, isWebSocketEventComing: true })), [2];
        }
      });
    });
  }, c3.prototype.unfreeze = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e3) {
        switch (e3.label) {
          case 0:
            return [4, u3.prototype.unfreeze.call(this)];
          case 1:
            return e3.sent(), So.of(this._iid).dispatcher.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_UNFROZEN, isWebSocketEventComing: true })), [2];
        }
      });
    });
  }, c3.prototype.updateChannel = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, a3, i3, o3, u4;
      return o(this, function(c4) {
        switch (c4.label) {
          case 0:
            return t6 = n(n({}, Os), e3), Pr(function(e4) {
              return w("string", e4.coverUrl, true) && (k(e4.coverImage) || w("string", e4.coverImage, true)) && w("boolean", e4.isDistinct, true) && w("boolean", e4.isPublic, true) && w("boolean", e4.isDiscoverable, true) && w("string", e4.accessCode, true) && w("string", e4.name, true) && w("string", e4.data, true) && w("string", e4.customType, true) && S("string", e4.operatorUserIds, true) && w("number", e4.messageSurvivalSeconds, true);
            }(t6)).throw(g.invalidParameters), n3 = So.of(this._iid), r3 = n3.dispatcher, a3 = n3.requestQueue, i3 = new zs(n({ channelUrl: this.url }, t6)), [4, a3.send(i3)];
          case 1:
            return o3 = c4.sent(), u4 = o3.as(Ws).channel, this._update(u4), r3.dispatch(new on3({ channels: [u4], source: Co.EVENT_CHANNEL_UPDATED, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.invite = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        return Pr(e3.every(function(e4) {
          return e4 instanceof Fr;
        })).throw(g.invalidParameters), [2, this.inviteWithUserIds(e3.map(function(e4) {
          return e4.userId;
        }))];
      });
    });
  }, c3.prototype.inviteWithUserIds = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return Pr(S("string", e3)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.dispatcher, s4 = t6.requestQueue, r3 = new Fn3({ channelUrl: this.url, userIds: e3 }), [4, s4.send(r3)];
          case 1:
            return a3 = o3.sent(), i3 = a3.as(xn3).channel, this._update(i3), n3.dispatch(new on3({ channels: [i3], source: Co.EVENT_CHANNEL_INVITED, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.join = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3, o3;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return Pr(w("string", e3, true)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.dispatcher, s4 = t6.sdkState, r3 = t6.requestQueue, a3 = new Dn3({ channelUrl: this.url, userId: s4.userId, accessCode: e3 }), [4, r3.send(a3)];
          case 1:
            return i3 = u4.sent(), (o3 = i3.as(Ln3).channel).myMemberState = this.myMemberState = kt3.JOINED, this._update(o3), n3.dispatch(new on3({ channels: [o3], source: Co.EVENT_CHANNEL_JOINED, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.leave = function(e3) {
    return void 0 === e3 && (e3 = false), r(this, void 0, void 0, function() {
      var t6, n3, s4, r3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return t6 = So.of(this._iid), n3 = t6.sdkState, s4 = t6.requestQueue, r3 = new kn3({ channelUrl: this.url, userId: n3.userId, shouldRemoveOperatorStatus: e3 }), [4, s4.send(r3)];
          case 1:
            return a3.sent(), this.myMemberState = kt3.NONE, [2];
        }
      });
    });
  }, c3.prototype.acceptInvitation = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3, o3;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return Pr(w("string", e3, true)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.dispatcher, s4 = t6.sdkState, r3 = t6.requestQueue, a3 = new Bs({ channelUrl: this.url, userId: s4.userId, accessCode: e3 }), [4, r3.send(a3)];
          case 1:
            return i3 = u4.sent(), (o3 = i3.as(qs).channel).myMemberState = this.myMemberState = kt3.JOINED, this._update(o3), n3.dispatch(new on3({ channels: [o3], source: Co.EVENT_CHANNEL_ACCEPTED_INVITE, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.declineInvitation = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.sdkState, n3 = e3.requestQueue, s4 = new Hn3({ channelUrl: this.url, userId: t6.userId }), [4, n3.send(s4)];
          case 1:
            return r3.sent(), this.myMemberState = kt3.NONE, [2, this];
        }
      });
    });
  }, c3.prototype.sendUserMessage = function(e3) {
    var t6 = this, n3 = new St2(), s4 = So.of(this._iid).dispatcher, r3 = S2.of(this._iid);
    return u3.prototype.sendUserMessage.call(this, e3).onPending(function(e4) {
      r3.completeCurrentAndProcessNextAutoResend(e4), n3._trigger(e4);
    }).onFailed(function(e4, t7) {
      t7 && r3.completeCurrentAndProcessNextAutoResend(t7), n3._triggerFailed(e4, t7);
    }).onSucceeded(function(e4) {
      t6.hiddenState === dr3.HIDDEN_ALLOW_AUTO_UNHIDE && (t6.hiddenState = dr3.UNHIDDEN), r3.completeCurrentAndProcessNextAutoResend(e4), t6._shouldUpdateLastMessageWith(e4) && (t6.lastMessage = e4), us3.of(t6._iid).handlers.map(function(e5) {
        e5.onChannelChanged && e5.onChannelChanged(t6);
      }), s4.dispatch(new on3({ channels: [t6], source: Co.EVENT_MESSAGE_SENT })), n3._trigger(e4);
    }), n3;
  }, c3.prototype.updateUserMessage = function(e3, t6) {
    return r(this, void 0, void 0, function() {
      var n3, s4, r3, a3, i3 = this;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return n3 = So.of(this._iid).dispatcher, [4, u3.prototype.updateUserMessage.call(this, e3, t6)];
          case 1:
            return s4 = o3.sent(), r3 = false, !s4.silent && this._shouldUpdateLastMessageWith(s4) && (this.lastMessage = s4, r3 = true), a3 = false, this.lastPinnedMessage && this.lastPinnedMessage.messageId === s4.messageId && (this.lastPinnedMessage = s4, r3 = true, a3 = true), r3 && (us3.of(this._iid).handlers.map(function(e4) {
              e4.onChannelChanged && e4.onChannelChanged(i3);
            }), n3.dispatch(new on3({ channels: [this], source: a3 ? Co.EVENT_PINNED_MESSAGE_UPDATED : Co.EVENT_MESSAGE_UPDATED }))), a3 && us3.of(this._iid).handlers.map(function(e4) {
              e4.onPinnedMessageUpdated && e4.onPinnedMessageUpdated(i3);
            }), n3.dispatch(new Uo({ messages: [s4], source: Co.EVENT_MESSAGE_UPDATED })), [2, s4];
        }
      });
    });
  }, c3.prototype._autoResendUserMessage = function(e3) {
    var t6 = this, n3 = new St2(), s4 = So.of(this._iid).dispatcher, r3 = S2.of(this._iid);
    return u3.prototype._autoResendUserMessage.call(this, e3).onPending(function(e4) {
      r3.completeCurrentAndProcessNextAutoResend(e4), n3._trigger(e4);
    }).onFailed(function(e4, t7) {
      r3.completeCurrentAndProcessNextAutoResend(t7), n3._triggerFailed(e4, t7);
    }).onSucceeded(function(e4) {
      var a3 = us3.of(t6._iid);
      r3.completeCurrentAndProcessNextAutoResend(e4), t6._shouldUpdateLastMessageWith(e4) && (t6.lastMessage = e4), a3.handlers.map(function(e5) {
        e5.onChannelChanged && e5.onChannelChanged(t6);
      }), s4.dispatch(new on3({ channels: [t6], source: Co.EVENT_MESSAGE_SENT })), n3._trigger(e4);
    }), n3;
  }, c3.prototype.sendFileMessage = function(e3) {
    var t6 = this, n3 = new St2(), s4 = So.of(this._iid).dispatcher, r3 = S2.of(this._iid);
    return u3.prototype.sendFileMessage.call(this, e3).onPending(function(e4) {
      r3.completeCurrentAndProcessNextAutoResend(e4), n3._trigger(e4);
    }).onFailed(function(e4, t7) {
      t7 && r3.completeCurrentAndProcessNextAutoResend(t7), n3._triggerFailed(e4, t7);
    }).onSucceeded(function(e4) {
      var a3 = us3.of(t6._iid);
      r3.completeCurrentAndProcessNextAutoResend(e4), t6._shouldUpdateLastMessageWith(e4) && (t6.lastMessage = e4), a3.handlers.map(function(e5) {
        e5.onChannelChanged && e5.onChannelChanged(t6);
      }), s4.dispatch(new on3({ channels: [t6], source: Co.EVENT_MESSAGE_SENT })), n3._trigger(e4);
    }), n3;
  }, c3.prototype.sendMultipleFilesMessage = function(e3) {
    var t6 = this, n3 = new xr2(), s4 = So.of(this._iid).dispatcher;
    return u3.prototype.sendMultipleFilesMessage.call(this, e3).onPending(function(e4) {
      n3._trigger(e4);
    }).onFailed(function(e4, t7) {
      n3._triggerFailed(e4, t7);
    }).onSucceeded(function(e4) {
      var r3 = us3.of(t6._iid);
      t6._shouldUpdateLastMessageWith(e4) && (t6.lastMessage = e4), r3.handlers.map(function(e5) {
        e5.onChannelChanged && e5.onChannelChanged(t6);
      }), s4.dispatch(new on3({ channels: [t6], source: Co.EVENT_MESSAGE_SENT })), n3._trigger(e4);
    }).onFileUploaded(function(e4, t7, s5, r3) {
      n3._triggerOnFileUploaded(e4, t7, s5, r3);
    }), n3;
  }, c3.prototype.updateFileMessage = function(e3, t6) {
    return r(this, void 0, void 0, function() {
      var n3, s4, r3, a3, i3 = this;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return n3 = So.of(this._iid).dispatcher, [4, u3.prototype.updateFileMessage.call(this, e3, t6)];
          case 1:
            return s4 = o3.sent(), r3 = false, !s4.silent && this._shouldUpdateLastMessageWith(s4) && (this.lastMessage = s4, r3 = true), a3 = false, this.lastPinnedMessage && this.lastPinnedMessage.messageId === s4.messageId && (this.lastPinnedMessage = s4, r3 = true, a3 = true), r3 && (us3.of(this._iid).handlers.map(function(e4) {
              e4.onChannelChanged && e4.onChannelChanged(i3);
            }), n3.dispatch(new on3({ channels: [this], source: a3 ? Co.EVENT_PINNED_MESSAGE_UPDATED : Co.EVENT_MESSAGE_UPDATED }))), a3 && us3.of(this._iid).handlers.map(function(e4) {
              e4.onPinnedMessageUpdated && e4.onPinnedMessageUpdated(i3);
            }), n3.dispatch(new Uo({ messages: [s4], source: Co.EVENT_MESSAGE_UPDATED })), [2, s4];
        }
      });
    });
  }, c3.prototype._autoResendFileMessage = function(e3) {
    var t6 = this, n3 = new St2(), s4 = So.of(this._iid).dispatcher, r3 = S2.of(this._iid);
    return u3.prototype._autoResendFileMessage.call(this, e3).onPending(function(e4) {
      r3.completeCurrentAndProcessNextAutoResend(e4), n3._trigger(e4);
    }).onFailed(function(e4, t7) {
      r3.completeCurrentAndProcessNextAutoResend(t7), n3._triggerFailed(e4, t7);
    }).onSucceeded(function(e4) {
      var a3 = us3.of(t6._iid);
      r3.completeCurrentAndProcessNextAutoResend(e4), t6._shouldUpdateLastMessageWith(e4) && (t6.lastMessage = e4), a3.handlers.map(function(e5) {
        e5.onChannelChanged && e5.onChannelChanged(t6);
      }), s4.dispatch(new on3({ channels: [t6], source: Co.EVENT_MESSAGE_SENT })), n3._trigger(e4);
    }), n3;
  }, c3.prototype.deleteMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return [4, u3.prototype.deleteMessage.call(this, e3)];
          case 1:
            return t6.sent(), 0 === e3.messageId && e3 instanceof Be2 && So.of(this._iid).dispatcher.dispatch(new Mo({ reqId: e3.reqId, source: Co.EVENT_MESSAGE_DELETED })), [2];
        }
      });
    });
  }, c3.prototype.hide = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, r3, a3, i3, o3, u4, c4;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return t6 = n(n({}, Vn3), e3), Pr(function(e4) {
              return w("boolean", e4.hidePreviousMessages, true) && w("boolean", e4.allowAutoUnhide, true);
            }(t6)).throw(g.invalidParameters), n3 = So.of(this._iid), r3 = n3.dispatcher, a3 = n3.sdkState, i3 = n3.requestQueue, o3 = new Bn3(n({ channelUrl: this.url, userId: a3.userId }, t6)), [4, i3.send(o3)];
          case 1:
            return u4 = d3.sent(), c4 = u4.as(qn3).messageOffsetTimestamp, this.hiddenState = t6.allowAutoUnhide ? dr3.HIDDEN_ALLOW_AUTO_UNHIDE : dr3.HIDDEN_PREVENT_AUTO_UNHIDE, t6.hidePreviousMessages && this._updateUnreadCount(0, 0), c4 && (this.messageOffsetTimestamp = c4), r3.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_HIDDEN, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.unhide = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.dispatcher, n3 = e3.requestQueue, s4 = new Qs({ channelUrl: this.url }), [4, n3.send(s4)];
          case 1:
            return r3.sent(), this.hiddenState = dr3.UNHIDDEN, t6.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_UNHIDDEN, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.delete = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return e3 = So.of(this._iid).requestQueue, t6 = new js({ channelUrl: this.url }), [4, e3.send(t6)];
          case 1:
            return n3.sent(), [2];
        }
      });
    });
  }, c3.prototype.markAsRead = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3, a3, i3, o3 = this;
      return o(this, function(u4) {
        switch (u4.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.sdkState, n3 = e3.dispatcher, s4 = e3.requestQueue, r3 = new Xn3({ channelUrl: this.url }), [4, s4.send(r3)];
          case 1:
            return a3 = u4.sent(), i3 = a3.as(ts3).readStatus, this._updateUnreadMemberState(t6.userId, i3.readAt), (this.unreadMessageCount > 0 || this.unreadMentionCount > 0) && (this._updateUnreadCount(0, 0), us3.of(this._iid).handlers.map(function(e4) {
              e4.onChannelChanged && e4.onChannelChanged(o3);
            })), n3.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_READ })), [2];
        }
      });
    });
  }, c3.prototype.markAsDelivered = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.sdkState, n3 = e3.requestQueue, s4 = new ss3({ channelUrl: this.url, userId: t6.userId }), [4, n3.send(s4)];
          case 1:
            return r3.sent(), [2];
        }
      });
    });
  }, c3.prototype.startTyping = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.requestQueue, n3 = e3.typingIndicatorThrottle, (s4 = (/* @__PURE__ */ new Date()).getTime()) - this._typingStarted >= n3 ? (this._typingStarted = s4, this._typingEnded = 0, r3 = new Wn3({ channelUrl: this.url, time: this._typingStarted }), [4, t6.send(r3)]) : [3, 2];
          case 1:
            a3.sent(), a3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, c3.prototype.endTyping = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.requestQueue, n3 = e3.typingIndicatorThrottle, (s4 = (/* @__PURE__ */ new Date()).getTime()) - this._typingEnded >= n3 ? (this._typingStarted = 0, this._typingEnded = s4, r3 = new Qn3({ channelUrl: this.url, time: this._typingStarted }), [4, t6.send(r3)]) : [3, 2];
          case 1:
            a3.sent(), a3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, c3.prototype.createScheduledUserMessage = function(e3) {
    e3 = n(n({}, ns2), e3), Pr(rs2(e3)).throw(g.invalidParameters);
    var t6 = new St2();
    return this._createScheduledUserMessage(e3, t6), t6;
  }, c3.prototype.updateScheduledUserMessage = function(e3, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, a3, i3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return n3 = n(n({}, $s), t6), Pr(function(e4) {
              return Gt2(e4) && w("number", e4.scheduledAt, true);
            }(n3)).throw(g.invalidParameters), r3 = So.of(this._iid).requestQueue, a3 = new nr3(n({ reqId: this._generateRequestId(), scheduledMessageId: e3, channelType: this.channelType, channelUrl: this.url }, n3)), [4, r3.send(a3)];
          case 1:
            return i3 = o3.sent(), [2, i3.as(nr2).message];
        }
      });
    });
  }, c3.prototype.createScheduledFileMessage = function(e3) {
    var t6 = this;
    e3 = n(n({}, is2), e3), Pr(ss2(e3)).throw(g.invalidParameters);
    var n3 = Date.now(), r3 = this._generateRequestId(), a3 = new St2();
    return Zr(Dr2).then(function() {
      var s4 = t6._createPendingScheduledFileMessage(e3, r3, n3);
      jr(function() {
        return r(t6, void 0, void 0, function() {
          return o(this, function(e4) {
            return [2, a3._trigger(s4)];
          });
        });
      });
    }), k(e3.file) ? this._uploadFileAndUpdateParams(e3).then(function() {
      return t6._createScheduledFileMessage(e3, a3, r3, n3);
    }) : this._createScheduledFileMessage(e3, a3, r3, n3), a3;
  }, c3.prototype.updateScheduledFileMessage = function(e3, t6) {
    return r(this, void 0, void 0, function() {
      var n3, r3, a3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return n3 = n(n({}, Xs), t6), Pr(function(e4) {
              return jt2(e4) && w("number", e4.scheduledAt, true) && (k(e4.file) || w("string", e4.fileUrl)) && w("string", e4.fileName, true) && w("string", e4.mimeType, true) && w("number", e4.fileSize, true) && (null === e4.thumbnailSizes || void 0 === e4.thumbnailSizes || e4.thumbnailSizes.every(function(e5) {
                return w("object", e5) && e5.maxWidth > 0 && e5.maxHeight > 0;
              }));
            }(n3)).throw(g.invalidParameters), k(n3.file) ? [4, this._uploadFileAndUpdateParams(n3)] : [3, 2];
          case 1:
            i3.sent(), i3.label = 2;
          case 2:
            return r3 = new er3(n({ reqId: this._generateRequestId(), scheduledMessageId: e3, channelType: this.channelType, channelUrl: this.url }, n3)), [4, So.of(this._iid).requestQueue.send(r3)];
          case 3:
            return a3 = i3.sent(), [2, a3.as(tr3).message];
        }
      });
    });
  }, c3.prototype.cancelScheduledMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return t6 = new sr3({ scheduledMessageId: e3, channelType: this.channelType, channelUrl: this.url }), [4, So.of(this._iid).requestQueue.send(t6)];
          case 1:
            return n3.sent(), [2];
        }
      });
    });
  }, c3.prototype.sendScheduledMessageNow = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return t6 = new rr3({ scheduledMessageId: e3, channelType: this.channelType, channelUrl: this.url }), [4, So.of(this._iid).requestQueue.send(t6)];
          case 1:
            return n3.sent(), [2];
        }
      });
    });
  }, c3.prototype.getMyPushTriggerOption = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3, a3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.sdkState, n3 = e3.requestQueue, s4 = new or3({ userId: t6.userId, channelUrl: this.url }), [4, n3.send(s4)];
          case 1:
            return r3 = i3.sent(), a3 = r3.as(ur3).pushTriggerOption, this.myPushTriggerOption = a3, [2, a3];
        }
      });
    });
  }, c3.prototype.setMyPushTriggerOption = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, a3, i3, o3, u4;
      return o(this, function(c4) {
        switch (c4.label) {
          case 0:
            return Pr(N(_, e3)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.dispatcher, s4 = t6.sdkState, a3 = t6.requestQueue, i3 = new ar3({ userId: s4.userId, channelUrl: this.url, pushTriggerOption: e3 }), [4, a3.send(i3)];
          case 1:
            return o3 = c4.sent(), u4 = o3.as(ir3).pushTriggerOption, this.myPushTriggerOption = u4, n3.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_UPDATED, isWebSocketEventComing: true })), [2, u4];
        }
      });
    });
  }, c3.prototype.setMyCountPreference = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, a3, i3, o3, u4;
      return o(this, function(c4) {
        switch (c4.label) {
          case 0:
            return Pr(N(hr3, e3)).throw(g.invalidParameters), t6 = So.of(this._iid), n3 = t6.dispatcher, s4 = t6.sdkState, a3 = t6.requestQueue, i3 = new Ys({ channelUrl: this.url, userId: s4.userId, countPreference: e3 }), [4, a3.send(i3)];
          case 1:
            return o3 = c4.sent(), u4 = o3.as(Ks).countPreference, this.myCountPreference = u4, this._updateUnreadCount(this.unreadMessageCount, this.unreadMentionCount), n3.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_UPDATED, isWebSocketEventComing: true })), [2, u4];
        }
      });
    });
  }, c3.prototype.resetMyHistory = function() {
    return r(this, void 0, void 0, function() {
      var e3, t6, n3, s4, r3, a3;
      return o(this, function(i3) {
        switch (i3.label) {
          case 0:
            return e3 = So.of(this._iid), t6 = e3.dispatcher, n3 = e3.requestQueue, s4 = new Js({ channelUrl: this.url }), [4, n3.send(s4)];
          case 1:
            return r3 = i3.sent(), a3 = r3.as(Zs).messageOffsetTimestamp, this.messageOffsetTimestamp = a3, this.lastMessage && this.lastMessage.createdAt < a3 && (this.lastMessage = null), t6.dispatch(new on3({ channels: [this], source: Co.EVENT_CHANNEL_RESET_HISTORY, isWebSocketEventComing: true })), [2, this];
        }
      });
    });
  }, c3.prototype.pinMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("number", e3) && e3 > 0).throw(g.invalidParameters), t6 = So.of(this._iid).requestQueue, n3 = new cr3({ channelType: this.channelType, channelUrl: this.url, messageId: e3 }), [4, t6.send(n3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, c3.prototype.unpinMessage = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3;
      return o(this, function(s4) {
        switch (s4.label) {
          case 0:
            return Pr(w("number", e3) && e3 > 0).throw(g.invalidParameters), t6 = So.of(this._iid).requestQueue, n3 = new lr3({ channelType: this.channelType, channelUrl: this.url, messageId: e3 }), [4, t6.send(n3)];
          case 1:
            return s4.sent(), [2];
        }
      });
    });
  }, c3.prototype._uploadFileAndUpdateParams = function(e3) {
    return r(this, void 0, void 0, function() {
      var t6, n3, s4, r3, a3, i3, o3, u4, c4, l3, h3;
      return o(this, function(d3) {
        switch (d3.label) {
          case 0:
            return k(e3.file) ? (t6 = So.of(this._iid).requestQueue, n3 = new Te2({ file: e3.file, channelUrl: this.url, thumbnailSizes: e3.thumbnailSizes, requestId: this._generateRequestId() }), [4, t6.send(n3)]) : [3, 2];
          case 1:
            s4 = d3.sent(), r3 = s4.as(Se2), a3 = r3.url, i3 = r3.fileSize, o3 = void 0 === i3 ? e3.fileSize : i3, u4 = r3.thumbnailSizes, c4 = void 0 === u4 ? e3.thumbnailSizes : u4, l3 = r3.requireAuth, h3 = void 0 !== l3 && l3, e3.fileUrl = a3, e3.fileSize = o3, e3.thumbnailSizes = c4, e3.requireAuth = h3, d3.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, c3.prototype.resendMessage = function(e3, t6) {
    var n3, s4 = this;
    if (Pr(e3 instanceof Be2 && !e3.scheduledInfo && e3.isResendable).throw(g.invalidParameters), e3.isUserMessage()) {
      var r3 = null !== (n3 = e3.messageParams) && void 0 !== n3 ? n3 : Pt2(e3), a3 = new St2();
      return this._sendUserMessage(r3, Pr2.RESEND, e3.reqId).onPending(function(e4) {
        a3._trigger(e4);
      }).onFailed(function(e4, t7) {
        a3._triggerFailed(e4, t7);
      }).onSucceeded(function(e4) {
        s4._tryUpdateLastMessageAndCallEvents(s4, e4), a3._trigger(e4);
      }), a3;
    }
    if (e3.isFileMessage()) {
      var i3 = this._validateFailedFileMessageHasFile(e3, t6);
      Pr(i3).throw(g.invalidParameters);
      r3 = zt2(e3, t6);
      var o3 = new St2();
      return this._sendFileMessage(r3, Pr2.RESEND, e3.reqId).onPending(function(e4) {
        o3._trigger(e4);
      }).onFailed(function(e4, t7) {
        o3._triggerFailed(e4, t7);
      }).onSucceeded(function(e4) {
        s4._tryUpdateLastMessageAndCallEvents(s4, e4), o3._trigger(e4);
      }), o3;
    }
    if (e3.isMultipleFilesMessage()) {
      r3 = e3.messageParams;
      var u4 = new xr2();
      return this._sendMultipleFilesMessage(r3, Pr2.RESEND, e3.reqId).onPending(function(e4) {
        u4._trigger(e4);
      }).onFailed(function(e4, t7) {
        u4._triggerFailed(e4, t7);
      }).onSucceeded(function(e4) {
        s4._tryUpdateLastMessageAndCallEvents(s4, e4), u4._trigger(e4);
      }).onFileUploaded(function(e4, t7, n4, s5) {
        u4._triggerOnFileUploaded(e4, t7, n4, s5);
      }), u4;
    }
  }, c3.prototype.copyMessage = function(e3, t6) {
    var n3 = this;
    if (Pr(e3 instanceof Fr2 && t6 instanceof Be2 && t6.sendingStatus === W.SUCCEEDED && this.url === t6.channelUrl && !t6.scheduledInfo).throw(g.invalidParameters), t6.isUserMessage()) {
      Pr(!t6.poll).throw(g.notSupportedError);
      var s4 = Ct2(t6), r3 = new St2();
      return e3._sendUserMessage(s4).onPending(function(e4) {
        r3._trigger(e4);
      }).onFailed(function(e4, t7) {
        r3._triggerFailed(e4, t7);
      }).onSucceeded(function(t7) {
        e3.isGroupChannel() && n3._tryUpdateLastMessageAndCallEvents(e3, t7), r3._trigger(t7);
      }), r3;
    }
    if (t6.isFileMessage()) {
      s4 = Ft2(t6);
      var a3 = new St2();
      return e3._sendFileMessage(s4).onPending(function(e4) {
        a3._trigger(e4);
      }).onFailed(function(e4, t7) {
        a3._triggerFailed(e4, t7);
      }).onSucceeded(function(t7) {
        e3.isGroupChannel() && n3._tryUpdateLastMessageAndCallEvents(e3, t7), a3._trigger(t7);
      }), a3;
    }
    if (t6.isMultipleFilesMessage()) {
      if (e3.isGroupChannel()) {
        s4 = Or2(t6);
        var i3 = new xr2();
        return e3._sendMultipleFilesMessage(s4, Pr2.COPY).onPending(function(e4) {
          i3._trigger(e4);
        }).onFailed(function(e4, t7) {
          i3._triggerFailed(e4, t7);
        }).onSucceeded(function(t7) {
          n3._tryUpdateLastMessageAndCallEvents(e3, t7), i3._trigger(t7);
        }).onFileUploaded(function(e4, t7, n4, s5) {
          i3._triggerOnFileUploaded(e4, t7, n4, s5);
        }), i3;
      }
      throw g.channelTypeNotSupportedError;
    }
  }, c3;
}(Fr2);

// node_modules/@sendbird/chat/lib/__bundle-9d17db1f.js
var t2 = function() {
  this.onUserMuted = Ze, this.onUserUnmuted = Ze, this.onUserBanned = Ze, this.onUserUnbanned = Ze, this.onChannelChanged = Ze, this.onChannelDeleted = Ze, this.onChannelFrozen = Ze, this.onChannelUnfrozen = Ze, this.onOperatorUpdated = Ze, this.onChannelMemberCountChanged = Ze, this.onMetaDataCreated = Ze, this.onMetaDataUpdated = Ze, this.onMetaDataDeleted = Ze, this.onMetaCounterCreated = Ze, this.onMetaCounterUpdated = Ze, this.onMetaCounterDeleted = Ze, this.onMessageReceived = Ze, this.onMessageUpdated = Ze, this.onMessageDeleted = Ze, this.onMentionReceived = Ze, this.onReactionUpdated = Ze, this.onThreadInfoUpdated = Ze;
};

// node_modules/@sendbird/chat/groupChannel.js
var Oe3;
var Pe3 = {};
var Ie2 = function() {
  function e3(e4) {
    var t6 = e4._iid, n3 = e4.limit, a3 = void 0 === n3 ? 100 : n3, r3 = this;
    this.ref = 0, this._iid = t6, this._limit = a3;
    var o3, l3 = So.of(this._iid), u3 = l3.sdkState, c3 = l3.dispatcher, d3 = l3.logger, p5 = l3.cacheContext;
    this._metadataKey = (o3 = u3.userId, "sendbird:".concat(o3, "@groupchannel/sync.meta"));
    var m4 = function(e5) {
      return "sendbird:".concat(e5, "@groupchannel/sync");
    }(u3.userId);
    this._sync = new _s2(m4, function() {
      return r(r3, void 0, void 0, function() {
        var e5, t7, n4, a4, r4, i3, s4, o4, l4, c4, f4, m5;
        return o(this, function(h3) {
          switch (h3.label) {
            case 0:
              return e5 = { hasNext: true, nextToken: "" }, [4, this.loadMetadata()];
            case 1:
              if (h3.sent(), d3.debug("channel background sync from", null === (l4 = this._metadata) || void 0 === l4 ? void 0 : l4.token), null === (c4 = this._metadata) || void 0 === c4 ? void 0 : c4.completed)
                return [3, 13];
              h3.label = 2;
            case 2:
              if (h3.trys.push([2, 9, , 12]), (t7 = { includeEmpty: true, order: E2.CHRONOLOGICAL }).order !== E2.LATEST_LAST_MESSAGE)
                return [3, 6];
              h3.label = 3;
            case 3:
              return h3.trys.push([3, 5, , 6]), [4, p5.preference.get(yr(u3.appId))];
            case 4:
              return n4 = h3.sent(), t7.includeChatNotification = Boolean(n4), [3, 6];
            case 5:
              return h3.sent(), t7.includeChatNotification = false, [3, 6];
            case 6:
              return [4, us3.of(this._iid).getMyGroupChannels(null !== (m5 = null === (f4 = this._metadata) || void 0 === f4 ? void 0 : f4.token) && void 0 !== m5 ? m5 : "", t7, this._limit, Co.SYNC_CHANNEL_BACKGROUND)];
            case 7:
              return a4 = h3.sent(), r4 = a4.channels, i3 = a4.token, e5.hasNext = r4.length >= this._limit && !!i3, e5.nextToken = i3, this._metadata && (this._metadata.token = i3, (o4 = this._metadata.range).extends.apply(o4, c([], a(r4.map(function(e6) {
                return e6.createdAt;
              })), false)), this._metadata.completed = !e5.hasNext), d3.debug("channel background sync progress", e5), [4, this.saveMetadata()];
            case 8:
              return h3.sent(), [3, 12];
            case 9:
              return s4 = h3.sent(), d3.debug("channel background sync error", s4), s4 instanceof g && s4.isInvalidTokenError ? [4, this.clearMetaData()] : [3, 11];
            case 10:
              h3.sent(), h3.label = 11;
            case 11:
              throw s4;
            case 12:
              return [3, 14];
            case 13:
              e5.hasNext = false, e5.nextToken = "", h3.label = 14;
            case 14:
              return [2, e5];
          }
        });
      });
    }), this._connectionEventContext = c3.on(function(e5) {
      if (e5 instanceof Er)
        if (e5.stateType === dr.CONNECTED)
          r3.resume();
        else
          r3.pause();
    });
  }
  return e3.of = function(t6) {
    return Pe3[t6] || (Pe3[t6] = new e3({ _iid: t6 })), Pe3[t6].ref++, Pe3[t6];
  }, e3.clear = function(e4) {
    Pe3[e4] && (Pe3[e4].close(), delete Pe3[e4]);
  }, Object.defineProperty(e3.prototype, "range", { get: function() {
    var e4, t6;
    return null !== (t6 = null === (e4 = this._metadata) || void 0 === e4 ? void 0 : e4.range) && void 0 !== t6 ? t6 : new is3({});
  }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "completed", { get: function() {
    var e4;
    return !!(null === (e4 = this._metadata) || void 0 === e4 ? void 0 : e4.completed);
  }, enumerable: false, configurable: true }), e3.prototype.loadMetadata = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            return this._metadata ? [3, 2] : [4, So.of(this._iid).cacheContext.preference.get(this._metadataKey)];
          case 1:
            e4 = t6.sent(), this._metadata = { token: e4 ? e4.token : "", range: new is3(e4 ? e4.range : { top: Number.MAX_SAFE_INTEGER, bottom: 0 }), completed: !!e4 && e4.completed }, t6.label = 2;
          case 2:
            return [2, this._metadata];
        }
      });
    });
  }, e3.prototype.saveMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._metadata ? [4, So.of(this._iid).cacheContext.preference.set(this._metadataKey, this._metadata)] : [3, 2];
          case 1:
            return e4.sent(), [2, true];
          case 2:
            return [2, false];
        }
      });
    });
  }, e3.prototype.clearMetaData = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, So.of(this._iid).cacheContext.preference.remove(this._metadataKey)];
          case 1:
            return e4.sent(), this._metadata = void 0, [2];
        }
      });
    });
  }, e3.prototype.resume = function() {
    var e4, t6, n3 = So.of(this._iid), a3 = n3.logger;
    n3.sessionManager.session.hasSession && (a3.debug("channel background sync resume()"), this._sync.start(null !== (t6 = null === (e4 = this._metadata) || void 0 === e4 ? void 0 : e4.token) && void 0 !== t6 ? t6 : ""));
  }, e3.prototype.pause = function() {
    So.of(this._iid).logger.debug("channel background sync stop()"), this._sync.stop();
  }, e3.prototype.close = function() {
    this.ref--, this.ref <= 0 && (this.ref = 0, this.pause(), this._connectionEventContext.close(), delete Pe3[this._iid]);
  }, e3;
}();
var He3 = {};
var Re3 = function() {
  function e3(e4) {
    var t6 = e4._iid, n3 = this;
    this.ref = 0, this._iid = t6;
    var a3, r3 = So.of(this._iid), o3 = r3.logger, l3 = r3.sdkState, u3 = r3.dispatcher, c3 = r3.cacheContext;
    this._metadataKey = (a3 = l3.userId, "sendbird:".concat(a3, "@groupchannel/changelogs.meta"));
    var d3 = function(e5) {
      return "sendbird:".concat(e5, "@groupchannel/changelogs");
    }(l3.userId);
    this._sync = new _s2(d3, function() {
      return r(n3, void 0, void 0, function() {
        var e5, t7, n4, a4, r4, i3, s4, u4, d4, p5;
        return o(this, function(h3) {
          switch (h3.label) {
            case 0:
              return e5 = { hasNext: true, nextToken: 0 }, [4, this.loadMetadata()];
            case 1:
              h3.sent(), o3.debug("channel changelog sync from", null === (u4 = this._metadata) || void 0 === u4 ? void 0 : u4.token), h3.label = 2;
            case 2:
              h3.trys.push([2, 9, , 12]), t7 = { includeEmpty: true }, h3.label = 3;
            case 3:
              return h3.trys.push([3, 5, , 6]), [4, c3.preference.get(yr(l3.appId))];
            case 4:
              return n4 = h3.sent(), t7.includeChatNotification = Boolean(n4), [3, 6];
            case 5:
              return h3.sent(), t7.includeChatNotification = false, [3, 6];
            case 6:
              return [4, us3.of(this._iid).getMyGroupChannelChangeLogs(null !== (p5 = null === (d4 = this._metadata) || void 0 === d4 ? void 0 : d4.token) && void 0 !== p5 ? p5 : "", t7, Co.SYNC_CHANNEL_CHANGELOGS)];
            case 7:
              return a4 = h3.sent(), r4 = a4.hasMore, i3 = a4.token, e5.hasNext = r4, e5.nextToken = i3, this._metadata && (this._metadata.token = i3), o3.debug("channel changelog sync progress", e5), [4, this.saveMetadata()];
            case 8:
              return h3.sent(), [3, 12];
            case 9:
              return s4 = h3.sent(), o3.debug("channel changelog sync error", s4), s4 instanceof g && s4.isInvalidTokenError ? [4, this.clearMetadata()] : [3, 11];
            case 10:
              h3.sent(), h3.label = 11;
            case 11:
              throw s4;
            case 12:
              return [2, e5];
          }
        });
      });
    }), this._connectionEventContext = u3.on(function(e5) {
      if (e5 instanceof Er)
        if (e5.stateType === dr.CONNECTED)
          n3.resume();
        else
          n3.pause();
    });
  }
  return e3.of = function(t6) {
    return He3[t6] || (He3[t6] = new e3({ _iid: t6 })), He3[t6].ref++, He3[t6];
  }, e3.clear = function(e4) {
    He3[e4] && (He3[e4].close(), delete He3[e4]);
  }, e3.prototype.loadMetadata = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, a3;
      return o(this, function(r3) {
        switch (r3.label) {
          case 0:
            return this._metadata ? [3, 2] : (e4 = So.of(this._iid), t6 = e4.cacheContext, n3 = e4.firstConnectedAt, [4, t6.preference.get(this._metadataKey)]);
          case 1:
            a3 = r3.sent(), this._metadata = { token: a3 ? a3.token : n3 }, r3.label = 2;
          case 2:
            return [2, this._metadata];
        }
      });
    });
  }, e3.prototype.saveMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return this._metadata ? [4, So.of(this._iid).cacheContext.preference.set(this._metadataKey, this._metadata)] : [3, 2];
          case 1:
            return e4.sent(), [2, true];
          case 2:
            return [2, false];
        }
      });
    });
  }, e3.prototype.clearMetadata = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, So.of(this._iid).cacheContext.preference.remove(this._metadataKey)];
          case 1:
            return e4.sent(), this._metadata = void 0, [2];
        }
      });
    });
  }, e3.prototype.resume = function() {
    So.of(this._iid).sessionManager.session.hasSession && this._sync.start(0);
  }, e3.prototype.pause = function() {
    this._sync.stop();
  }, e3.prototype.close = function() {
    this.ref--, this.ref <= 0 && (this.ref = 0, this.pause(), this._connectionEventContext.close(), delete He3[this._iid]);
  }, e3;
}();
var Ve3 = function(e3, t6) {
  return e3.findIndex(function(e4) {
    return e4.isIdentical(t6);
  });
};
var Ke3 = function(e3, t6, n3) {
  if (e3.length > 0) {
    for (var a3 = Ve3(e3, t6), r3 = 0, i3 = e3.length - 1, s4 = Math.floor((r3 + i3) / 2); r3 < i3; ) {
      var o3 = je3(e3[s4], t6, n3);
      if (o3 > 0)
        i3 = s4, s4 = Math.floor((r3 + i3) / 2);
      else {
        if (!(o3 < 0))
          return { place: s4, oldPosition: a3 };
        r3 = s4 + 1, s4 = Math.floor((r3 + i3) / 2);
      }
    }
    return { place: je3(e3[s4], t6, n3) >= 0 ? s4 : s4 + 1, oldPosition: a3 };
  }
  return { place: e3.length, oldPosition: -1 };
};
var je3 = function(e3, t6, n3) {
  switch (n3) {
    case E2.LATEST_LAST_MESSAGE:
      return e3.lastMessage && t6.lastMessage ? t6.lastMessage.createdAt - e3.lastMessage.createdAt : e3.lastMessage ? -1 : t6.lastMessage ? 1 : t6.createdAt - e3.createdAt;
    case E2.CHRONOLOGICAL:
      return t6.createdAt - e3.createdAt;
    case E2.CHANNEL_NAME_ALPHABETICAL:
      var a3 = e3.name.localeCompare(t6.name);
      return 0 === a3 ? e3.createdAt - t6.createdAt : a3;
    default:
      return 0;
  }
};
var Qe3 = function() {
  function e3(e4, t6) {
    var n3 = t6.filter, a3 = t6.order, r3 = t6.limit, o3 = this;
    this.channels = [], this._iid = e4, this._key = "gcc-".concat(Y()), this._isDisposed = false, this._isGetRemoteChannelsSucceeded = true, this.filter = null != n3 ? n3 : new jt3(), this.order = null != a3 ? a3 : E2.LATEST_LAST_MESSAGE, this._hasMore = true, this._token = "", this._limit = null != r3 ? r3 : yr2;
    var l3 = So.of(this._iid), u3 = l3.sdkState, c3 = l3.cacheContext, d3 = l3.dispatcher;
    c3.localCacheEnabled && (this._backgroundSync = Ie2.of(e4), this._backgroundSync.resume()), this._changelogSync = Re3.of(e4), this._changelogSync.resume(), us3.of(this._iid).subscribeChannelEvent(this._key, { onUpdate: function(e5, t7) {
      if (an3(t7)) {
        var n4 = e5.filter(function(e6) {
          return o3.filter.match(e6, u3.userId);
        }), a4 = e5.filter(function(e6) {
          return !o3.filter.match(e6, u3.userId);
        }).map(function(e6) {
          return e6.url;
        });
        n4.length > 0 && o3._addChannelsToView(n4, t7), a4.length > 0 && o3._removeChannelsFromView(a4, t7);
      }
    }, onRemove: function(e5, t7) {
      o3._removeChannelsFromView(e5, t7);
    } }), So.of(this._iid).statLogCollector.put(new vo({ type: Ae.FEATURE_LOCALCACHE, data: { use_local_cache: c3.localCacheEnabled, collection_interface: { group_channel: true } } })), d3.on(function(e5) {
      e5 instanceof Er && (e5.stateType === dr.CONNECTED ? o3._isGetRemoteChannelsSucceeded || r(o3, void 0, void 0, function() {
        return o(this, function(e6) {
          switch (e6.label) {
            case 0:
              return [4, this._revokeLoadMore()];
            case 1:
              return e6.sent(), [2];
          }
        });
      }) : e5.stateType === dr.LOGOUT && o3.dispose());
    });
  }
  return Object.defineProperty(e3.prototype, "hasMore", { get: function() {
    return !this._isDisposed && this._hasMore;
  }, enumerable: false, configurable: true }), e3.prototype.setGroupChannelCollectionHandler = function(e4) {
    this._handler = e4;
  }, e3.prototype._addChannelsToView = function(e4, t6, n3) {
    var a3, r3, s4, o3, l3 = this;
    void 0 === n3 && (n3 = false);
    var u3 = [], c3 = [], d3 = [];
    try {
      for (var p5 = s(e4), f4 = p5.next(); !f4.done; f4 = p5.next()) {
        var m4 = f4.value, v5 = Ve3(this.channels, m4);
        v5 >= 0 && this.channels.splice(v5, 1);
        var _2 = Ke3(this.channels, m4, this.order).place;
        if (v5 < 0)
          _2 === this.channels.length ? !n3 && this._hasMore || (u3.push(m4), this.channels.push(m4)) : (u3.push(m4), this.channels.splice(_2, 0, m4));
        else
          switch (t6) {
            case Co.EVENT_CHANNEL_UPDATED:
            case Co.EVENT_MESSAGE_RECEIVED:
            case Co.SYNC_CHANNEL_CHANGELOGS:
            case Co.EVENT_MESSAGE_SENT:
              _2 !== v5 && this._hasMore && _2 === this.channels.length ? d3.push(m4) : (this.channels.splice(_2, 0, m4), c3.push(m4));
              break;
            default:
              this.channels.splice(_2, 0, m4), c3.push(m4);
          }
      }
    } catch (e5) {
      a3 = { error: e5 };
    } finally {
      try {
        f4 && !f4.done && (r3 = p5.return) && r3.call(p5);
      } finally {
        if (a3)
          throw a3.error;
      }
    }
    if (d3.length > 0)
      try {
        for (var g4 = s(d3), y3 = g4.next(); !y3.done; y3 = g4.next()) {
          m4 = y3.value;
          var C3 = Ve3(this.channels, m4);
          -1 !== C3 && this.channels.splice(C3, 1);
        }
      } catch (e5) {
        s4 = { error: e5 };
      } finally {
        try {
          y3 && !y3.done && (o3 = g4.return) && o3.call(g4);
        } finally {
          if (s4)
            throw s4.error;
        }
      }
    an3(t6) && jr(function() {
      return r(l3, void 0, void 0, function() {
        var e5, n4, a4, r4;
        return o(this, function(i3) {
          return e5 = new Us(t6), u3.length > 0 && (null === (n4 = this._handler) || void 0 === n4 ? void 0 : n4.onChannelsAdded) && this._handler.onChannelsAdded(e5, u3), c3.length > 0 && (null === (a4 = this._handler) || void 0 === a4 ? void 0 : a4.onChannelsUpdated) && this._handler.onChannelsUpdated(e5, c3), d3.length > 0 && (null === (r4 = this._handler) || void 0 === r4 ? void 0 : r4.onChannelsDeleted) && this._handler.onChannelsDeleted(e5, d3.map(function(e6) {
            return e6.url;
          })), [2];
        });
      });
    });
  }, e3.prototype._removeChannelsFromView = function(e4, t6) {
    var n3, a3, r3 = this, s4 = [], o3 = function(e5) {
      var t7 = l3.channels.findIndex(function(t8) {
        return t8.url === e5;
      });
      t7 >= 0 && (s4.push(l3.channels[t7].url), l3.channels.splice(t7, 1));
    }, l3 = this;
    try {
      for (var u3 = s(e4), c3 = u3.next(); !c3.done; c3 = u3.next()) {
        o3(c3.value);
      }
    } catch (e5) {
      n3 = { error: e5 };
    } finally {
      try {
        c3 && !c3.done && (a3 = u3.return) && a3.call(u3);
      } finally {
        if (n3)
          throw n3.error;
      }
    }
    return an3(t6) && s4.length > 0 && jr(function() {
      return r(r3, void 0, void 0, function() {
        var e5, n4;
        return o(this, function(a4) {
          return e5 = new Us(t6), (null === (n4 = this._handler) || void 0 === n4 ? void 0 : n4.onChannelsDeleted) && this._handler.onChannelsDeleted(e5, s4), [2];
        });
      });
    }), s4;
  }, e3.prototype._getLocalChannels = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6;
      return o(this, function(n3) {
        switch (n3.label) {
          case 0:
            return e4 = us3.of(this._iid), t6 = this.channels.length > 0 ? function(e5, t7) {
              var n4, a3, r3, i3;
              switch (t7) {
                case E2.LATEST_LAST_MESSAGE:
                  return null !== (a3 = null === (n4 = e5.lastMessage) || void 0 === n4 ? void 0 : n4.createdAt) && void 0 !== a3 ? a3 : e5.createdAt;
                case E2.CHRONOLOGICAL:
                  return e5.createdAt;
                case E2.CHANNEL_NAME_ALPHABETICAL:
                  return e5.name;
                default:
                  return null !== (i3 = null === (r3 = e5.lastMessage) || void 0 === r3 ? void 0 : r3.createdAt) && void 0 !== i3 ? i3 : e5.createdAt;
              }
            }(this.channels[this.channels.length - 1], this.order) : null, [4, e4.getChannelsFromCache(t6, this.filter, this.order, this._limit, t6 ? this.channels[this.channels.length - 1].url : void 0)];
          case 1:
            return [2, n3.sent()];
        }
      });
    });
  }, e3.prototype._getRemoteChannels = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return [4, us3.of(this._iid).getMyGroupChannels(this._token, ne(n(n({}, this.filter), { order: this.order })), this._limit)];
          case 1:
            return e4 = a3.sent(), t6 = e4.channels, n3 = e4.token, this._token = n3, this._hasMore = !!n3, [2, t6];
        }
      });
    });
  }, e3.prototype._revokeLoadMore = function() {
    return r(this, void 0, void 0, function() {
      var e4;
      return o(this, function(t6) {
        switch (t6.label) {
          case 0:
            if (this._isDisposed)
              return [2];
            t6.label = 1;
          case 1:
            return t6.trys.push([1, 3, , 4]), [4, this._getRemoteChannels()];
          case 2:
            return e4 = t6.sent(), this._isGetRemoteChannelsSucceeded = true, this._addChannelsToView(e4, Co.REQUEST_CHANNEL, true), [3, 4];
          case 3:
            return t6.sent(), this._isGetRemoteChannelsSucceeded = false, [3, 4];
          case 4:
            return [2];
        }
      });
    });
  }, e3.prototype.loadMore = function() {
    return r(this, void 0, void 0, function() {
      var e4, t6, n3, a3, r3 = this;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            if (this._isDisposed)
              throw new g({ code: u.COLLECTION_DISPOSED, message: "Collection has been disposed." });
            return this._hasMore ? (e4 = So.of(this._iid), t6 = e4.cacheContext, n3 = e4.connectionManager, a3 = [], !t6.localCacheEnabled || n3.isConnected && !this._backgroundSync.completed ? [3, 2] : [4, Kr(function() {
              return r(r3, void 0, void 0, function() {
                return o(this, function(e5) {
                  switch (e5.label) {
                    case 0:
                      return [4, this._getLocalChannels()];
                    case 1:
                      return a3 = e5.sent(), [2];
                  }
                });
              });
            })]) : [3, 6];
          case 1:
            return o3.sent(), this._hasMore = a3.length >= this._limit, [3, 5];
          case 2:
            return o3.trys.push([2, 4, , 5]), [4, this._getRemoteChannels()];
          case 3:
            return a3 = o3.sent(), this._isGetRemoteChannelsSucceeded = true, [3, 5];
          case 4:
            return o3.sent(), this._isGetRemoteChannelsSucceeded = false, [3, 5];
          case 5:
            return this._addChannelsToView(a3, Co.REQUEST_CHANNEL, true), [2, a3];
          case 6:
            return [2, []];
        }
      });
    });
  }, e3.prototype.dispose = function() {
    var e4, t6;
    this._isDisposed || (this._isDisposed = true, this.channels.length > 0 && this.channels.splice(0, this.channels.length), null === (e4 = this._backgroundSync) || void 0 === e4 || e4.close(), null === (t6 = this._changelogSync) || void 0 === t6 || t6.close(), us3.of(this._iid).unsubscribeChannelEvent(this._key));
  }, e3;
}();
var We3 = function(e3) {
  function t6(t7) {
    var n3 = this, a3 = t7.token, r3 = t7.limit, i3 = t7.order, s4 = t7.includeEmpty, o3 = t7.membershipFilter, l3 = t7.channelNameContainsFilter, u3 = t7.channelUrlsFilter, c3 = t7.customTypesFilter, h3 = t7.customTypeStartsWithFilter, d3 = t7.superChannelFilter, p5 = t7.metadataOrderKeyFilter, f4 = t7.metadataKey, m4 = t7.metadataValues, v5 = t7.metadataValueStartsWith, _2 = t7.includeFrozen, g4 = t7.includeMetaData;
    return (n3 = e3.call(this) || this).method = ie.GET, n3.path = ae, n3.params = te(ne({ token: a3, limit: r3, order: i3, show_member: true, show_read_receipt: true, show_delivery_receipt: true, show_empty: s4, public_mode: Pt3.PUBLIC, public_membership_mode: o3, name_contains: l3, channel_urls: u3, custom_types: c3, custom_type_startswith: h3, super_mode: d3, metadata_order_key: p5, metadata_key: f4, metadata_values: m4, metadata_value_startswith: v5, show_frozen: _2, show_metadata: g4 })), n3;
  }
  return t(t6, e3), t6;
}(Ce);
var ze3 = function(e3) {
  function t6(t7, n3) {
    var a3 = e3.call(this, t7, n3) || this;
    a3.channels = [];
    var r3 = n3.next, i3 = n3.channels, s4 = n3.ts;
    return a3.token = r3, i3 && i3.length > 0 && (a3.channels = i3.map(function(e4) {
      return e4.ts = s4, new gr3(t7, e4);
    })), a3.ts = "number" == typeof s4 ? s4 : 0, a3;
  }
  return t(t6, e3), t6;
}(Oe);
!function(e3) {
  e3.ALL = "all", e3.JOINED = "joined";
}(Oe3 || (Oe3 = {}));
var Be3 = function(e3) {
  function t6(t7, n3) {
    var a3, r3, i3, s4, o3, l3, u3, c3, h3, d3, p5, f4, m4, v5, _2 = this;
    return (_2 = e3.call(this, t7, n3) || this).includeEmpty = false, _2.includeFrozen = true, _2.includeMetaData = true, _2.channelUrlsFilter = null, _2.customTypesFilter = null, _2.customTypeStartsWithFilter = null, _2.channelNameContainsFilter = null, _2.membershipFilter = Oe3.ALL, _2.superChannelFilter = xt3.ALL, _2.metadataKey = null, _2.metadataValues = null, _2.metadataOrderKeyFilter = null, _2.metadataValueStartsWith = null, _2.order = p2.CHRONOLOGICAL, _2.includeEmpty = null !== (a3 = n3.includeEmpty) && void 0 !== a3 && a3, _2.includeFrozen = null === (r3 = n3.includeFrozen) || void 0 === r3 || r3, _2.includeMetaData = null === (i3 = n3.includeMetaData) || void 0 === i3 || i3, _2.channelUrlsFilter = null !== (s4 = n3.channelUrlsFilter) && void 0 !== s4 ? s4 : null, _2.customTypesFilter = null !== (o3 = n3.customTypesFilter) && void 0 !== o3 ? o3 : null, _2.customTypeStartsWithFilter = null !== (l3 = n3.customTypeStartsWithFilter) && void 0 !== l3 ? l3 : null, _2.channelNameContainsFilter = null !== (u3 = n3.channelNameContainsFilter) && void 0 !== u3 ? u3 : null, _2.membershipFilter = null !== (c3 = n3.membershipFilter) && void 0 !== c3 ? c3 : Oe3.ALL, _2.superChannelFilter = null !== (h3 = n3.superChannelFilter) && void 0 !== h3 ? h3 : xt3.ALL, _2.metadataKey = null !== (d3 = n3.metadataKey) && void 0 !== d3 ? d3 : null, _2.metadataValues = null !== (p5 = n3.metadataValues) && void 0 !== p5 ? p5 : null, _2.metadataOrderKeyFilter = null !== (f4 = n3.metadataOrderKeyFilter) && void 0 !== f4 ? f4 : null, _2.metadataValueStartsWith = null !== (m4 = n3.metadataValueStartsWith) && void 0 !== m4 ? m4 : null, _2.order = null !== (v5 = n3.order) && void 0 !== v5 ? v5 : p2.CHRONOLOGICAL, _2;
  }
  return t(t6, e3), t6.prototype._validate = function() {
    return e3.prototype._validate.call(this) && w("boolean", this.includeEmpty) && w("boolean", this.includeFrozen) && w("boolean", this.includeMetaData) && w("string", this.channelNameContainsFilter, true) && S("string", this.channelUrlsFilter, true) && S("string", this.customTypesFilter, true) && w("string", this.customTypeStartsWithFilter, true) && N(Oe3, this.membershipFilter) && N(xt3, this.superChannelFilter) && N(p2, this.order) && w("string", this.metadataOrderKeyFilter, true) && w("string", this.metadataKey, true) && S("string", this.metadataValues, true) && w("string", this.metadataValueStartsWith, true);
  }, t6.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e4, t7, n3, a3, r3, i3, o3, l3;
      return o(this, function(u3) {
        switch (u3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : (e4 = [], this._hasNext ? (this._isLoading = true, t7 = So.of(this._iid), n3 = t7.requestQueue, t7.dispatcher, a3 = new We3(ne(n(n({}, this), { token: this._token }))), [4, n3.send(a3)]) : [3, 2]) : [3, 5];
          case 1:
            return r3 = u3.sent(), i3 = r3.as(ze3), o3 = i3.channels, l3 = i3.token, this._token = l3, this._hasNext = !!l3, this._isLoading = false, [2, o3];
          case 2:
            return [2, e4];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, t6;
}(Ho);
var qe3 = function(e3) {
  function t6(t7) {
    void 0 === t7 && (t7 = {});
    var n3 = e3.call(this) || this;
    return Object.keys(t7).forEach(function(e4) {
      n3.hasOwnProperty(e4) && (n3[e4] = t7[e4]);
    }), n3;
  }
  return t(t6, e3), t6;
}(function(e3) {
  function t6() {
    var t7 = null !== e3 && e3.apply(this, arguments) || this;
    return t7.onUserJoined = Ze, t7.onUserLeft = Ze, t7.onUserReceivedInvitation = Ze, t7.onUserDeclinedInvitation = Ze, t7.onChannelHidden = Ze, t7.onUnreadMemberStatusUpdated = Ze, t7.onUndeliveredMemberStatusUpdated = Ze, t7.onTypingStatusUpdated = Ze, t7.onPollUpdated = Ze, t7.onPollVoted = Ze, t7.onPollDeleted = Ze, t7.onPinnedMessageUpdated = Ze, t7;
  }
  return t(t6, e3), t6;
}(t2));
var Ye3 = function(e3) {
  function t6(t7) {
    var n3 = this, a3 = t7.token, r3 = t7.limit, i3 = t7.order, s4 = t7.reverse, o3 = t7.channelUrl, l3 = t7.messageTypeFilter, u3 = t7.scheduledStatus;
    return (n3 = e3.call(this) || this).method = ie.GET, n3.path = "".concat(Ee), n3.params = te(ne({ token: a3, limit: r3, reverse: s4, channel_url: o3, order: i3, message_type: l3, status: u3 })), n3;
  }
  return t(t6, e3), t6;
}(Ce);
var Je3 = function(e3) {
  function t6(t7, n3) {
    var a3 = e3.call(this, t7, n3) || this;
    a3.scheduledMessages = [];
    var r3 = n3.next, i3 = n3.scheduled_messages;
    return a3.token = r3, a3.scheduledMessages = i3.map(function(e4) {
      return $e2(t7, e4);
    }), a3;
  }
  return t(t6, e3), t6;
}(Oe);
var Xe3 = function(e3) {
  function t6(t7, n3) {
    var a3, r3, i3, s4, o3, l3 = this;
    return (l3 = e3.call(this, t7, n3) || this).channelUrl = null, l3.order = null, l3.reverse = false, l3.scheduledStatus = null, l3.messageTypeFilter = G.ALL, l3.channelUrl = null !== (a3 = n3.channelUrl) && void 0 !== a3 ? a3 : null, l3.order = null !== (r3 = n3.order) && void 0 !== r3 ? r3 : null, l3.reverse = null !== (i3 = n3.reverse) && void 0 !== i3 && i3, l3.scheduledStatus = null !== (s4 = n3.scheduledStatus) && void 0 !== s4 ? s4 : null, l3.messageTypeFilter = null !== (o3 = n3.messageTypeFilter) && void 0 !== o3 ? o3 : G.ALL, l3;
  }
  return t(t6, e3), t6.prototype._validate = function() {
    return e3.prototype._validate.call(this) && w("string", this.channelUrl, true) && (N(R2, this.order) || null === this.order) && w("boolean", this.reverse) && (S(Ae2, this.scheduledStatus) || null === this.scheduledStatus) && N(G, this.messageTypeFilter);
  }, t6.prototype.next = function() {
    return r(this, void 0, void 0, function() {
      var e4, t7, n3, a3, r3, i3;
      return o(this, function(o3) {
        switch (o3.label) {
          case 0:
            return this._validate() ? this._isLoading ? [3, 3] : this._hasNext ? (this._isLoading = true, e4 = So.of(this._iid).requestQueue, t7 = new Ye3(ne(n(n({}, this), { token: this._token }))), [4, e4.send(t7)]) : [3, 2] : [3, 5];
          case 1:
            return n3 = o3.sent(), a3 = n3.as(Je3), r3 = a3.scheduledMessages, i3 = a3.token, this._token = i3, this._hasNext = !!i3, this._isLoading = false, [2, r3];
          case 2:
            return [2, []];
          case 3:
            throw g.queryInProgress;
          case 4:
            return [3, 6];
          case 5:
            throw g.invalidParameters;
          case 6:
            return [2];
        }
      });
    });
  }, t6;
}(Ho);
var $e3 = function(e3) {
  function t6() {
    var t7 = null !== e3 && e3.apply(this, arguments) || this;
    return t7.name = "groupChannel", t7;
  }
  return t(t6, e3), t6.prototype.init = function(t7, n3) {
    var a3 = n3.sdkState, r3 = n3.dispatcher, i3 = n3.sessionManager, s4 = n3.requestQueue, o3 = n3.logger, l3 = n3.onlineDetector, u3 = n3.cacheContext;
    e3.prototype.init.call(this, t7, { sdkState: a3, dispatcher: r3, sessionManager: i3, requestQueue: s4, logger: o3, onlineDetector: l3, cacheContext: u3 }), this._manager = new us3(t7, { sdkState: a3, cacheContext: u3, dispatcher: r3, sessionManager: i3, requestQueue: s4, logger: o3 });
  }, t6.prototype.createGroupChannelCollection = function(e4) {
    return void 0 === e4 && (e4 = {}), new Qe3(this._iid, e4);
  }, t6.prototype.createMyGroupChannelListQuery = function(e4) {
    return void 0 === e4 && (e4 = {}), new Jn3(this._iid, e4);
  }, t6.prototype.createPublicGroupChannelListQuery = function(e4) {
    return void 0 === e4 && (e4 = {}), new Be3(this._iid, e4);
  }, t6.prototype.createScheduledMessageListQuery = function(e4) {
    return void 0 === e4 && (e4 = {}), new Xe3(this._iid, e4);
  }, t6.prototype.addGroupChannelHandler = function(e4, t7) {
    Pr(w("string", e4) && t7 instanceof qe3).throw(g.invalidParameters), this._manager.addHandler(e4, t7);
  }, t6.prototype.removeGroupChannelHandler = function(e4) {
    Pr(w("string", e4)).throw(g.invalidParameters), this._manager.removeHandler(e4);
  }, t6.prototype.removeAllGroupChannelHandlers = function() {
    this._manager.clearHandler();
  }, t6.prototype.buildGroupChannelFromSerializedData = function(e4) {
    return this._manager.buildGroupChannelFromSerializedData(e4);
  }, t6.prototype.buildGroupChannelListQueryFromSerializedData = function(e4) {
    return this._manager.buildGroupChannelListQueryFromSerializedData(e4);
  }, t6.prototype.buildMemberFromSerializedData = function(e4) {
    return this._manager.buildMemberFromSerializedData(e4);
  }, t6.prototype.getChannel = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return Pr(w("string", e4)).throw(g.invalidParameters), [2, this._manager.getChannel(e4)];
      });
    });
  }, t6.prototype.getChannelWithoutCache = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return Pr(w("string", e4)).throw(g.invalidParameters), [2, this._manager.getChannelWithoutCache(e4)];
      });
    });
  }, t6.prototype.getMyGroupChannelChangeLogsByToken = function(e4, t7) {
    return void 0 === t7 && (t7 = {}), r(this, void 0, void 0, function() {
      var n3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return n3 = n(n({}, Jt3), t7), Pr(w("string", e4) && Zt3(n3)).throw(g.invalidParameters), [4, this._manager.getMyGroupChannelChangeLogs(e4, n3)];
          case 1:
            return [2, a3.sent()];
        }
      });
    });
  }, t6.prototype.getMyGroupChannelChangeLogsByTimestamp = function(e4, t7) {
    return void 0 === t7 && (t7 = {}), r(this, void 0, void 0, function() {
      var n3;
      return o(this, function(a3) {
        switch (a3.label) {
          case 0:
            return n3 = n(n({}, Jt3), t7), Pr(w("number", e4) && Zt3(n3)).throw(g.invalidParameters), [4, this._manager.getMyGroupChannelChangeLogs(e4, n3)];
          case 1:
            return [2, a3.sent()];
        }
      });
    });
  }, t6.prototype.getGroupChannelCount = function(e4) {
    return r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n3) {
        return t7 = n(n({}, Xt3), e4), Pr($t3(t7)).throw(g.invalidParameters), [2, this._manager.getGroupChannelCount(t7)];
      });
    });
  }, t6.prototype.getUnreadItemCount = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this._manager.getUnreadItemCount(e4)];
          case 1:
            return [2, t7.sent()];
        }
      });
    });
  }, t6.prototype.getTotalUnreadChannelCount = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        switch (e4.label) {
          case 0:
            return [4, this._manager.getTotalUnreadChannelCount()];
          case 1:
            return [2, e4.sent()];
        }
      });
    });
  }, t6.prototype.getTotalUnreadMessageCount = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this._manager.getTotalUnreadMessageCount(e4)];
          case 1:
            return [2, t7.sent()];
        }
      });
    });
  }, t6.prototype.getTotalScheduledMessageCount = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return [4, this._manager.getTotalScheduledMessageCount(e4)];
          case 1:
            return [2, t7.sent()];
        }
      });
    });
  }, t6.prototype.getSubscribedTotalUnreadMessageCount = function() {
    return this._manager.getSubscribedTotalUnreadMessageCount();
  }, t6.prototype.getSubscribedCustomTypeTotalUnreadMessageCount = function() {
    return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount();
  }, t6.prototype.getSubscribedCustomTypeUnreadMessageCount = function(e4) {
    return this._manager.getSubscribedCustomTypeUnreadMessageCount(e4);
  }, t6.prototype.createChannel = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n3) {
        return t7 = n(n({}, Yt3), e4), Pr(Kt3(t7)).throw(g.invalidParameters), [2, this._manager.createChannel(t7)];
      });
    });
  }, t6.prototype.createDistinctChannelIfNotExist = function(e4) {
    return void 0 === e4 && (e4 = {}), r(this, void 0, void 0, function() {
      var t7;
      return o(this, function(n3) {
        return t7 = n(n({}, Yt3), e4), Pr(Kt3(t7)).throw(g.invalidParameters), t7 && (t7.isDistinct = true), [2, this.createChannel(t7)];
      });
    });
  }, t6.prototype.createChannelWithUserIds = function(e4, t7, n3, a3, r3, s4) {
    return void 0 === t7 && (t7 = false), void 0 === r3 && (r3 = ""), void 0 === s4 && (s4 = ""), r(this, void 0, void 0, function() {
      var i3;
      return o(this, function(o3) {
        return i3 = n(n({}, Yt3), { invitedUserIds: e4, isDistinct: t7, name: n3, data: r3, customType: s4 }), "string" == typeof a3 ? i3.coverUrl = a3 : i3.coverImage = a3, [2, this.createChannel(i3)];
      });
    });
  }, t6.prototype.markAsReadAll = function() {
    return r(this, void 0, void 0, function() {
      return o(this, function(e4) {
        return this._manager.markAsReadAll(), [2];
      });
    });
  }, t6.prototype.markAsReadWithChannelUrls = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        return Pr(S("string", e4)).throw(g.invalidParameters), this._manager.markAsReadWithChannelUrls(e4), [2];
      });
    });
  }, t6.prototype.markAsDelivered = function(e4) {
    return r(this, void 0, void 0, function() {
      return o(this, function(t7) {
        switch (t7.label) {
          case 0:
            return Pr(w("string", e4)).throw(g.invalidParameters), [4, this.getChannel(e4)];
          case 1:
            return [4, t7.sent().markAsDelivered()];
          case 2:
            return t7.sent(), [2];
        }
      });
    });
  }, t6;
}(Ao);

// node_modules/@sendbird/uikit-react/uuid-c15b8b3b.js
var uuidv4 = function() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c3) {
    var r3 = Math.random() * 16 | 0;
    var v5 = c3 === "x" ? r3 : r3 & 3 | 8;
    return v5.toString(16);
  });
};

// node_modules/@sendbird/uikit-react/utils-6c50a6d1.js
var noop = function() {
};
var isAboutSame = function(a3, b4, px) {
  return Math.abs(a3 - b4) <= px;
};

// node_modules/@sendbird/uikit-react/withSendbird.js
var import_react = __toESM(require_react(), 1);
var SendbirdSdkContext = import_react.default.createContext(null);

// node_modules/@sendbird/uikit-react/useSendbirdStateContext.js
var import_react2 = __toESM(require_react(), 1);
var NO_CONTEXT_ERROR = "No sendbird state value available. Make sure you are rendering `<SendbirdProvider>` at the top of your app.";
function useSendbirdStateContext() {
  var context = (0, import_react2.useContext)(SendbirdSdkContext);
  if (!context)
    throw new Error(NO_CONTEXT_ERROR);
  return context;
}

// node_modules/@sendbird/uikit-react/index-09847c0f.js
var n2 = Symbol("@ts-pattern/matcher");
var t3 = "@ts-pattern/anonymous-select-key";
var e2 = function(n3) {
  return Boolean(n3 && "object" == typeof n3);
};
var r2 = function(t6) {
  return t6 && !!t6[n2];
};
var u2 = function t4(u3, i3, c3) {
  if (e2(u3)) {
    if (r2(u3)) {
      var o3 = u3[n2]().match(i3), a3 = o3.matched, f4 = o3.selections;
      return a3 && f4 && Object.keys(f4).forEach(function(n3) {
        return c3(n3, f4[n3]);
      }), a3;
    }
    if (!e2(i3))
      return false;
    if (Array.isArray(u3))
      return !!Array.isArray(i3) && u3.length === i3.length && u3.every(function(n3, e3) {
        return t4(n3, i3[e3], c3);
      });
    if (u3 instanceof Map)
      return i3 instanceof Map && Array.from(u3.keys()).every(function(n3) {
        return t4(u3.get(n3), i3.get(n3), c3);
      });
    if (u3 instanceof Set) {
      if (!(i3 instanceof Set))
        return false;
      if (0 === u3.size)
        return 0 === i3.size;
      if (1 === u3.size) {
        var s4 = Array.from(u3.values())[0];
        return r2(s4) ? Array.from(i3.values()).every(function(n3) {
          return t4(s4, n3, c3);
        }) : i3.has(s4);
      }
      return Array.from(u3.values()).every(function(n3) {
        return i3.has(n3);
      });
    }
    return Object.keys(u3).every(function(e3) {
      var o4, a4 = u3[e3];
      return (e3 in i3 || r2(o4 = a4) && "optional" === o4[n2]().matcherType) && t4(a4, i3[e3], c3);
    });
  }
  return Object.is(i3, u3);
};
var i2 = function t5(u3) {
  var i3, o3, a3;
  return e2(u3) ? r2(u3) ? null != (i3 = null == (o3 = (a3 = u3[n2]()).getSelectionKeys) ? void 0 : o3.call(a3)) ? i3 : [] : Array.isArray(u3) ? c2(u3, t5) : c2(Object.values(u3), t5) : [];
};
var c2 = function(n3, t6) {
  return n3.reduce(function(n4, e3) {
    return n4.concat(t6(e3));
  }, []);
};
function o2(t6) {
  var e3;
  return (e3 = {})[n2] = function() {
    return { match: function(n3) {
      var e4 = {}, r3 = function(n4, t7) {
        e4[n4] = t7;
      };
      return void 0 === n3 ? (i2(t6).forEach(function(n4) {
        return r3(n4, void 0);
      }), { matched: true, selections: e4 }) : { matched: u2(t6, n3, r3), selections: e4 };
    }, getSelectionKeys: function() {
      return i2(t6);
    }, matcherType: "optional" };
  }, e3;
}
function a2(t6) {
  var e3;
  return (e3 = {})[n2] = function() {
    return { match: function(n3) {
      if (!Array.isArray(n3))
        return { matched: false };
      var e4 = {};
      if (0 === n3.length)
        return i2(t6).forEach(function(n4) {
          e4[n4] = [];
        }), { matched: true, selections: e4 };
      var r3 = function(n4, t7) {
        e4[n4] = (e4[n4] || []).concat([t7]);
      };
      return { matched: n3.every(function(n4) {
        return u2(t6, n4, r3);
      }), selections: e4 };
    }, getSelectionKeys: function() {
      return i2(t6);
    } };
  }, e3;
}
function f3() {
  var t6, e3 = [].slice.call(arguments);
  return (t6 = {})[n2] = function() {
    return { match: function(n3) {
      var t7 = {}, r3 = function(n4, e4) {
        t7[n4] = e4;
      };
      return { matched: e3.every(function(t8) {
        return u2(t8, n3, r3);
      }), selections: t7 };
    }, getSelectionKeys: function() {
      return c2(e3, i2);
    }, matcherType: "and" };
  }, t6;
}
function s3() {
  var t6, e3 = [].slice.call(arguments);
  return (t6 = {})[n2] = function() {
    return { match: function(n3) {
      var t7 = {}, r3 = function(n4, e4) {
        t7[n4] = e4;
      };
      return c2(e3, i2).forEach(function(n4) {
        return r3(n4, void 0);
      }), { matched: e3.some(function(t8) {
        return u2(t8, n3, r3);
      }), selections: t7 };
    }, getSelectionKeys: function() {
      return c2(e3, i2);
    }, matcherType: "or" };
  }, t6;
}
function l2(t6) {
  var e3;
  return (e3 = {})[n2] = function() {
    return { match: function(n3) {
      return { matched: !u2(t6, n3, function() {
      }) };
    }, getSelectionKeys: function() {
      return [];
    }, matcherType: "not" };
  }, e3;
}
function h2(t6) {
  var e3;
  return (e3 = {})[n2] = function() {
    return { match: function(n3) {
      return { matched: Boolean(t6(n3)) };
    } };
  }, e3;
}
function v4() {
  var e3, r3 = [].slice.call(arguments), c3 = "string" == typeof r3[0] ? r3[0] : void 0, o3 = 2 === r3.length ? r3[1] : "string" == typeof r3[0] ? void 0 : r3[0];
  return (e3 = {})[n2] = function() {
    return { match: function(n3) {
      var e4, r4 = ((e4 = {})[null != c3 ? c3 : t3] = n3, e4);
      return { matched: void 0 === o3 || u2(o3, n3, function(n4, t6) {
        r4[n4] = t6;
      }), selections: r4 };
    }, getSelectionKeys: function() {
      return [null != c3 ? c3 : t3].concat(void 0 === o3 ? [] : i2(o3));
    } };
  }, e3;
}
var y2 = h2(function(n3) {
  return true;
});
var m3 = y2;
var d2 = h2(function(n3) {
  return "string" == typeof n3;
});
var g3 = h2(function(n3) {
  return "number" == typeof n3;
});
var p4 = h2(function(n3) {
  return "boolean" == typeof n3;
});
var b3 = h2(function(n3) {
  return "bigint" == typeof n3;
});
var w2 = h2(function(n3) {
  return "symbol" == typeof n3;
});
var A3 = h2(function(n3) {
  return null == n3;
});
var S3 = { __proto__: null, optional: o2, array: a2, intersection: f3, union: s3, not: l2, when: h2, select: v4, any: y2, _: m3, string: d2, number: g3, boolean: p4, bigint: b3, symbol: w2, nullish: A3, instanceOf: function(n3) {
  return h2(function(n4) {
    return function(t6) {
      return t6 instanceof n4;
    };
  }(n3));
}, typed: function() {
  return { array: a2, optional: o2, intersection: f3, union: s3, not: l2, select: v4, when: h2 };
} };
function K2(n3) {
  return new O2(n3, []);
}
var O2 = function() {
  function n3(n4, t6) {
    this.value = void 0, this.cases = void 0, this.value = n4, this.cases = t6;
  }
  var e3 = n3.prototype;
  return e3.with = function() {
    var e4 = [].slice.call(arguments), r3 = e4[e4.length - 1], i3 = [e4[0]], c3 = [];
    return 3 === e4.length && "function" == typeof e4[1] ? (i3.push(e4[0]), c3.push(e4[1])) : e4.length > 2 && i3.push.apply(i3, e4.slice(1, e4.length - 1)), new n3(this.value, this.cases.concat([{ match: function(n4) {
      var e5 = {}, r4 = Boolean(i3.some(function(t6) {
        return u2(t6, n4, function(n5, t7) {
          e5[n5] = t7;
        });
      }) && c3.every(function(t6) {
        return t6(n4);
      }));
      return { matched: r4, value: r4 && Object.keys(e5).length ? t3 in e5 ? e5[t3] : e5 : n4 };
    }, handler: r3 }]));
  }, e3.when = function(t6, e4) {
    return new n3(this.value, this.cases.concat([{ match: function(n4) {
      return { matched: Boolean(t6(n4)), value: n4 };
    }, handler: e4 }]));
  }, e3.otherwise = function(t6) {
    return new n3(this.value, this.cases.concat([{ match: function(n4) {
      return { matched: true, value: n4 };
    }, handler: t6 }])).run();
  }, e3.exhaustive = function() {
    return this.run();
  }, e3.run = function() {
    for (var n4 = this.value, t6 = void 0, e4 = 0; e4 < this.cases.length; e4++) {
      var r3 = this.cases[e4], u3 = r3.match(this.value);
      if (u3.matched) {
        n4 = u3.value, t6 = r3.handler;
        break;
      }
    }
    if (!t6) {
      var i3;
      try {
        i3 = JSON.stringify(this.value);
      } catch (n5) {
        i3 = this.value;
      }
      throw new Error("Pattern matching error: no pattern matches value " + i3);
    }
    return t6(n4, this.value);
  }, n3;
}();

// node_modules/@sendbird/uikit-react/utils/message/getOutgoingMessageState.js
var OutgoingMessageStates;
(function(OutgoingMessageStates2) {
  OutgoingMessageStates2["NONE"] = "NONE";
  OutgoingMessageStates2["PENDING"] = "PENDING";
  OutgoingMessageStates2["SENT"] = "SENT";
  OutgoingMessageStates2["FAILED"] = "FAILED";
  OutgoingMessageStates2["DELIVERED"] = "DELIVERED";
  OutgoingMessageStates2["READ"] = "READ";
})(OutgoingMessageStates || (OutgoingMessageStates = {}));
var getOutgoingMessageState = function(channel, message) {
  var _a, _b, _c, _d, _e2;
  if (message.sendingStatus === "pending") {
    return OutgoingMessageStates.PENDING;
  }
  if (message.sendingStatus === "failed") {
    return OutgoingMessageStates.FAILED;
  }
  if ((_a = channel === null || channel === void 0 ? void 0 : channel.isGroupChannel) === null || _a === void 0 ? void 0 : _a.call(channel)) {
    if (((_c = (_b = channel).getUnreadMemberCount) === null || _c === void 0 ? void 0 : _c.call(_b, message)) === 0) {
      return OutgoingMessageStates.READ;
    } else if (((_e2 = (_d = channel).getUndeliveredMemberCount) === null || _e2 === void 0 ? void 0 : _e2.call(_d, message)) === 0) {
      return OutgoingMessageStates.DELIVERED;
    }
  }
  if (message.sendingStatus === "succeeded") {
    return OutgoingMessageStates.SENT;
  }
  return OutgoingMessageStates.NONE;
};

// node_modules/@sendbird/uikit-react/index-776554c0.js
var SUPPORTED_MIMES = {
  IMAGE: [
    "image/jpeg",
    "image/jpg",
    "image/png",
    "image/gif",
    "image/svg+xml",
    "image/webp"
    // not supported in IE
  ],
  VIDEO: [
    "video/mpeg",
    "video/ogg",
    "video/webm",
    "video/mp4",
    "video/quicktime"
    // .mov
  ],
  AUDIO: ["audio/aac", "audio/midi", "audio/x-midi", "audio/mpeg", "audio/ogg", "audio/opus", "audio/wav", "audio/webm", "audio/3gpp", "audio/3gpp2", "audio/mp3"],
  DOCUMENT: ["text/plain", "text/css", "text/csv", "text/html", "text/calendar", "text/javascript", "text/xml"],
  APPLICATION: ["application/x-abiword", "application/x-freearc", "application/vnd.amazon.ebook", "application/octet-stream", "application/x-bzip", "application/x-bzip2", "application/x-cdf", "application/x-csh", "application/msword", "application/vnd.openxmlformats-officedocument.wordprocessingml.document", "application/vnd.ms-fontobject", "application/epub+zip", "application/gzip", "application/java-archive", "application/json", "application/ld+json", "application/vnd.apple.installer+xml", "application/vnd.oasis.opendocument.presentation", "application/vnd.oasis.opendocument.spreadsheet", "application/vnd.oasis.opendocument.text", "application/ogg", "application/pdf", "application/x-httpd-php", "application/vnd.ms-powerpoint", "application/vnd.openxmlformats-officedocument.presentationml.presentation", "application/vnd.rar", "application/rtf", "application/x-sh", "application/x-tar", "application/vnd.visio", "application/xhtml+xml", "application/vnd.ms-excel", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "application/xml", "application/vnd.mozilla.xul+xml", "application/zip", "application/x-7z-compressed"]
};
var getMimeTypesUIKitAccepts = function(acceptableMimeTypes) {
  var IMAGE = SUPPORTED_MIMES.IMAGE, VIDEO = SUPPORTED_MIMES.VIDEO, AUDIO = SUPPORTED_MIMES.AUDIO;
  if (Array.isArray(acceptableMimeTypes) && acceptableMimeTypes.length > 0) {
    return acceptableMimeTypes.reduce(function(accumulator, acceptableMimeType) {
      return accumulator.concat(K2(acceptableMimeType).with("image", function() {
        return IMAGE;
      }).with("video", function() {
        return VIDEO;
      }).with("audio", function() {
        return AUDIO;
      }).otherwise(function() {
        return [];
      }));
    }, []).join();
  }
  return Object.values(SUPPORTED_MIMES).reduce(function(accumulator, mimeTypes) {
    return accumulator.concat(mimeTypes);
  }, []).join();
};
var UIKitMessageTypes = {
  ADMIN: "ADMIN",
  TEXT: "TEXT",
  FILE: "FILE",
  MULTIPLE_FILES: "MULTIPLE_FILES",
  THUMBNAIL: "THUMBNAIL",
  OG: "OG",
  UNKNOWN: "UNKNOWN"
};
var UIKitFileTypes = {
  IMAGE: "IMAGE",
  AUDIO: "AUDIO",
  VIDEO: "VIDEO",
  GIF: "GIF",
  VOICE: "VOICE",
  OTHERS: "OTHERS"
};
var isTextuallyNull = function(text) {
  if (text === "" || text === null) {
    return true;
  }
  return false;
};
var isImage = function(type) {
  return SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0;
};
var isVideo = function(type) {
  return SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0;
};
var isGif = function(type) {
  return type === "image/gif";
};
var isSupportedFileView = function(type) {
  return isImage(type) || isVideo(type);
};
var isAudio = function(type) {
  return SUPPORTED_MIMES.AUDIO.indexOf(type) >= 0;
};
var getUIKitFileTypes = function() {
  return __assign({}, UIKitFileTypes);
};
var getUIKitFileType = function(type) {
  if (isGif(type))
    return UIKitFileTypes.GIF;
  if (isImage(type))
    return UIKitFileTypes.IMAGE;
  if (isVideo(type))
    return UIKitFileTypes.VIDEO;
  if (isAudio(type))
    return UIKitFileTypes.AUDIO;
  return UIKitFileTypes.OTHERS;
};
var isSentMessage = function(message) {
  return message.sendingStatus === "succeeded";
};
var isReadMessage = function(channel, message) {
  return getOutgoingMessageState(channel, message) === OutgoingMessageStates.READ;
};
var isFailedMessage = function(message) {
  return (message === null || message === void 0 ? void 0 : message.sendingStatus) === "failed";
};
var isPendingMessage = function(message) {
  return (message === null || message === void 0 ? void 0 : message.sendingStatus) === "pending";
};
var isSentStatus = function(state) {
  return state === OutgoingMessageStates.SENT || state === OutgoingMessageStates.DELIVERED || state === OutgoingMessageStates.READ;
};
var isAdminMessage = function(message) {
  return message && (message["isAdminMessage"] && typeof message.isAdminMessage === "function" ? message.isAdminMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === "admin");
};
var isUserMessage = function(message) {
  return message && (message["isUserMessage"] && typeof message.isUserMessage === "function" ? message.isUserMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === "user");
};
var isFileMessage = function(message) {
  return message && (message["isFileMessage"] && typeof message.isFileMessage === "function" ? message.isFileMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === "file");
};
var isMultipleFilesMessage = function(message) {
  return message && (message["isMultipleFilesMessage"] && typeof message.isMultipleFilesMessage === "function" ? message.isMultipleFilesMessage() : message.messageType === "file" && Object.prototype.hasOwnProperty.call(message, "fileInfoList"));
};
var isThreadMessage = function(message) {
  return !!message.parentMessageId && !!message.parentMessage;
};
var isOGMessage = function(message) {
  var _a, _b, _c, _d;
  return !!(message && isUserMessage(message) && (message === null || message === void 0 ? void 0 : message.ogMetaData) && (((_a = message.ogMetaData) === null || _a === void 0 ? void 0 : _a.url) || ((_b = message.ogMetaData) === null || _b === void 0 ? void 0 : _b.title) || ((_c = message.ogMetaData) === null || _c === void 0 ? void 0 : _c.description) || ((_d = message.ogMetaData) === null || _d === void 0 ? void 0 : _d.defaultImage)));
};
var isTextMessage = function(message) {
  return isUserMessage(message);
};
var isThumbnailMessage = function(message) {
  return message && isFileMessage(message) && isSupportedFileView(message.type);
};
var isImageMessage = function(message) {
  return message && isThumbnailMessage(message) && isImage(message.type);
};
var isImageFileInfo = function(fileInfo) {
  return fileInfo && (isImage(fileInfo.mimeType) || isGif(fileInfo.mimeType));
};
var isVideoMessage = function(message) {
  return message && isThumbnailMessage(message) && isVideo(message.type);
};
var isGifMessage = function(message) {
  return message && isThumbnailMessage(message) && isGif(message.type);
};
var isAudioMessage = function(message) {
  return message && isFileMessage(message) && isAudio(message.type);
};
var isAudioMessageMimeType = function(type) {
  return /^audio\//.test(type);
};
var isVoiceMessageMimeType = function(type) {
  return /^voice\//.test(type);
};
var isVoiceMessage = function(message) {
  var _a, _b, _c, _d;
  if (!(message && isFileMessage(message)) || !message.type) {
    return false;
  }
  var _e2 = message.type.split(";"), mimeType = _e2[0], typeParameter = _e2[1];
  if (!isAudioMessageMimeType(mimeType)) {
    return false;
  }
  if (typeParameter) {
    var _f = typeParameter.split("="), key = _f[0], value = _f[1];
    return key === "sbu_type" && value === "voice";
  }
  return isVoiceMessageMimeType((_d = (_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.metaArrays) === null || _a === void 0 ? void 0 : _a.find(function(metaArray) {
    return metaArray.key === "KEY_INTERNAL_MESSAGE_TYPE";
  })) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c[0]) !== null && _d !== void 0 ? _d : "");
};
var isEditedMessage = function(message) {
  return isUserMessage(message) && (message === null || message === void 0 ? void 0 : message.updatedAt) > 0;
};
var getUIKitMessageTypes = function() {
  return __assign({}, UIKitMessageTypes);
};
var getUIKitMessageType = function(message) {
  if (isAdminMessage(message))
    return UIKitMessageTypes.ADMIN;
  if (isUserMessage(message)) {
    return isOGMessage(message) ? UIKitMessageTypes.OG : UIKitMessageTypes.TEXT;
  }
  if (isMultipleFilesMessage(message)) {
    return UIKitMessageTypes.MULTIPLE_FILES;
  }
  if (isFileMessage(message)) {
    if (isThumbnailMessage(message)) {
      return UIKitMessageTypes.THUMBNAIL;
    }
    if (isVoiceMessage(message)) {
      return UIKitFileTypes.VOICE;
    }
    return UIKitMessageTypes.FILE;
  }
  return UIKitMessageTypes.UNKNOWN;
};
var reducer = function(accumulator, currentValue) {
  if (Array.isArray(currentValue)) {
    return __spreadArray(__spreadArray([], accumulator, true), currentValue, true);
  } else {
    accumulator.push(currentValue);
    return accumulator;
  }
};
var getClassName = function(classNames) {
  return Array.isArray(classNames) ? classNames.reduce(reducer, []).join(" ") : classNames;
};
var isReactedBy = function(userId, reaction) {
  return reaction.userIds.some(function(reactorUserId) {
    return reactorUserId === userId;
  });
};
var getEmojiTooltipString = function(reaction, userId, memberNicknamesMap, stringSet) {
  var you = "";
  if (isReactedBy(userId, reaction)) {
    you = reaction.userIds.length === 1 ? stringSet.TOOLTIP__YOU : stringSet.TOOLTIP__AND_YOU;
  }
  return "".concat(reaction.userIds.filter(function(reactorUserId) {
    return reactorUserId !== userId;
  }).map(function(reactorUserId) {
    return memberNicknamesMap.get(reactorUserId) || stringSet.TOOLTIP__UNKNOWN_USER;
  }).join(", ")).concat(you);
};
var URL_REG = /^((http|https):\/\/)?([a-z\d]+\.)+[a-z]{2,6}(\:[0-9]{1,5})?(\/[-a-zA-Z\d%_.~+&=]*)*(\?[;&a-zA-Z\d%_.~+=-]*)?(\#[-a-zA-Z\d_]*)?$/;
var isUrl = function(text) {
  return URL_REG.test(text);
};
var truncateString = function(fullStr, strLen) {
  if (!strLen)
    strLen = 40;
  if (fullStr === null || fullStr === void 0)
    return "";
  if (fullStr.length <= strLen)
    return fullStr;
  var separator = "...";
  var sepLen = separator.length;
  var charsToShow = strLen - sepLen;
  var frontChars = Math.ceil(charsToShow / 2);
  var backChars = Math.floor(charsToShow / 2);
  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);
};
var copyToClipboard = function(text) {
  if (window.clipboardData && window.clipboardData.setData) {
    return window.clipboardData.setData("Text", text);
  }
  if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
    var textarea = document.createElement("textarea");
    textarea.textContent = text;
    textarea.style.position = "fixed";
    document.body.appendChild(textarea);
    textarea.select();
    try {
      return document.execCommand("copy");
    } catch (ex) {
      return false;
    } finally {
      document.body.removeChild(textarea);
    }
  }
  return false;
};
var getEmojiListAll = function(emojiContainer) {
  var _a;
  return (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories) === null || _a === void 0 ? void 0 : _a.map(function(emojiCategory) {
    return emojiCategory.emojis;
  }).reduce(function(prevArr, currArr) {
    return prevArr.concat(currArr);
  }, []);
};
var getEmojiMapAll = function(emojiContainer) {
  var _a;
  var emojiMap = /* @__PURE__ */ new Map();
  (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories) === null || _a === void 0 ? void 0 : _a.forEach(function(category) {
    var _a2;
    (_a2 = category === null || category === void 0 ? void 0 : category.emojis) === null || _a2 === void 0 ? void 0 : _a2.forEach(function(emoji) {
      if (emoji && emoji.key) {
        emojiMap.set(emoji.key, emoji);
      }
    });
  });
  return emojiMap;
};
var findEmojiUrl = function(targetKey) {
  return function(_a) {
    var key = _a.key;
    return key === targetKey;
  };
};
var getEmojiUrl = function(emojiContainer, emojiKey) {
  var _a, _b;
  var isFindingKey = findEmojiUrl(emojiKey !== null && emojiKey !== void 0 ? emojiKey : "");
  return ((_b = (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories.find(function(category) {
    return category.emojis.some(isFindingKey);
  })) === null || _a === void 0 ? void 0 : _a.emojis.find(isFindingKey)) === null || _b === void 0 ? void 0 : _b.url) || "";
};
var getUserName = function(user) {
  return (user === null || user === void 0 ? void 0 : user.friendName) || (user === null || user === void 0 ? void 0 : user.nickname) || (user === null || user === void 0 ? void 0 : user.userId);
};
var getSenderName = function(message) {
  return (message === null || message === void 0 ? void 0 : message.sender) && getUserName(message === null || message === void 0 ? void 0 : message.sender);
};
var hasSameMembers = function(a3, b4) {
  if (a3 === b4) {
    return true;
  }
  if (a3 == null || b4 == null) {
    return false;
  }
  if (a3.length !== b4.length) {
    return false;
  }
  var sortedA = __spreadArray([], a3, true).sort();
  var sortedB = __spreadArray([], b4, true).sort();
  for (var i3 = 0; i3 < sortedA.length; ++i3) {
    if (sortedA[i3] !== sortedB[i3]) {
      return false;
    }
  }
  return true;
};
var isFriend = function(user) {
  if (!user)
    return false;
  return !!(user.friendDiscoveryKey || user.friendName);
};
var filterMessageListParams = function(params, message) {
  var _a, _b, _c, _d;
  var _e2 = params.customTypesFilter, customTypesFilter = _e2 === void 0 ? [] : _e2;
  if ((params === null || params === void 0 ? void 0 : params.messageTypeFilter) && params.messageTypeFilter !== message.messageType) {
    return false;
  }
  if ((customTypesFilter === null || customTypesFilter === void 0 ? void 0 : customTypesFilter.length) > 0) {
    var customTypes = customTypesFilter.filter(function(item) {
      return item !== "*";
    });
    if (customTypes.length > 0 && !customTypes.includes(message.customType)) {
      return false;
    }
  }
  if ((params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) && ((_a = params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) === null || _a === void 0 ? void 0 : _a.length) > 0) {
    if (((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message)) || ((_c = message === null || message === void 0 ? void 0 : message.isFileMessage) === null || _c === void 0 ? void 0 : _c.call(message))) {
      var messageSender = message.sender || message["_sender"];
      if (!((_d = params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) === null || _d === void 0 ? void 0 : _d.includes(messageSender === null || messageSender === void 0 ? void 0 : messageSender.userId))) {
        return false;
      }
    } else {
      return false;
    }
  }
  if (!(params === null || params === void 0 ? void 0 : params.includeParentMessageInfo) && ((message === null || message === void 0 ? void 0 : message.parentMessageId) || (message === null || message === void 0 ? void 0 : message.parentMessage))) {
    return false;
  }
  return true;
};
var filterChannelListParams = function(params, channel, currentUserId) {
  var _a, _b, _c, _d, _e2, _f, _g2;
  var includeEmpty = params.includeEmpty, includeFrozen = params.includeFrozen, searchFilter = params.searchFilter, userIdsFilter = params.userIdsFilter, customTypesFilter = params.customTypesFilter, channelUrlsFilter = params.channelUrlsFilter, customTypeStartsWithFilter = params.customTypeStartsWithFilter, channelNameContainsFilter = params.channelNameContainsFilter, nicknameContainsFilter = params.nicknameContainsFilter, myMemberStateFilter = params.myMemberStateFilter, hiddenChannelFilter = params.hiddenChannelFilter, unreadChannelFilter = params.unreadChannelFilter, publicChannelFilter = params.publicChannelFilter, superChannelFilter = params.superChannelFilter, _h = params.metadataKey, metadataKey = _h === void 0 ? "" : _h, _j = params.metadataValues, metadataValues = _j === void 0 ? ["a", "b"] : _j, metadataValueStartsWith = params.metadataValueStartsWith;
  if (!includeEmpty && (channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null) {
    return false;
  }
  if ((searchFilter === null || searchFilter === void 0 ? void 0 : searchFilter.query) && ((_b = (_a = searchFilter === null || searchFilter === void 0 ? void 0 : searchFilter.fields) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0) {
    var searchQuery_1 = searchFilter.query;
    var searchFields = searchFilter.fields;
    if (searchQuery_1 && searchFields && searchFields.length > 0) {
      if (!searchFields.some(function(searchField) {
        var _a2, _b2;
        switch (searchField) {
          case "channel_name": {
            return (_a2 = channel === null || channel === void 0 ? void 0 : channel.name) === null || _a2 === void 0 ? void 0 : _a2.toLowerCase().includes(searchQuery_1.toLowerCase());
          }
          case "member_nickname": {
            return (_b2 = channel === null || channel === void 0 ? void 0 : channel.members) === null || _b2 === void 0 ? void 0 : _b2.some(function(member) {
              return member.nickname.toLowerCase().includes(searchQuery_1.toLowerCase());
            });
          }
          default: {
            return true;
          }
        }
      })) {
        return false;
      }
    }
  }
  if (((_c = userIdsFilter === null || userIdsFilter === void 0 ? void 0 : userIdsFilter.userIds) === null || _c === void 0 ? void 0 : _c.length) > 0) {
    var includeMode = userIdsFilter.includeMode, queryType = userIdsFilter.queryType;
    var userIds = userIdsFilter.userIds;
    var memberIds_1 = (_d = channel === null || channel === void 0 ? void 0 : channel.members) === null || _d === void 0 ? void 0 : _d.map(function(member) {
      return member.userId;
    });
    if (!includeMode) {
      if (!userIds.includes(currentUserId)) {
        userIds.push(currentUserId);
      }
      if (((_e2 = channel === null || channel === void 0 ? void 0 : channel.members) === null || _e2 === void 0 ? void 0 : _e2.length) > userIds.length) {
        return false;
      }
      if (!hasSameMembers(userIds, memberIds_1)) {
        return false;
      }
    } else if (userIds.length > 0) {
      switch (queryType) {
        case "AND": {
          if (userIds.some(function(userId) {
            return !memberIds_1.includes(userId);
          })) {
            return false;
          }
          break;
        }
        case "OR": {
          if (userIds.every(function(userId) {
            return !memberIds_1.includes(userId);
          })) {
            return false;
          }
          break;
        }
      }
    }
  }
  if (includeEmpty === false && (channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null) {
    return false;
  }
  if (includeFrozen === false && (channel === null || channel === void 0 ? void 0 : channel.isFrozen) === true) {
    return false;
  }
  if (customTypesFilter && !customTypesFilter.includes(channel === null || channel === void 0 ? void 0 : channel.customType)) {
    return false;
  }
  if (customTypeStartsWithFilter && !new RegExp("^".concat(customTypeStartsWithFilter)).test(channel === null || channel === void 0 ? void 0 : channel.customType)) {
    return false;
  }
  if (channelNameContainsFilter && !((_f = channel === null || channel === void 0 ? void 0 : channel.name) === null || _f === void 0 ? void 0 : _f.toLowerCase().includes(channelNameContainsFilter.toLowerCase()))) {
    return false;
  }
  if (nicknameContainsFilter) {
    var lowerCasedSubString_1 = nicknameContainsFilter.toLowerCase();
    if ((_g2 = channel === null || channel === void 0 ? void 0 : channel.members) === null || _g2 === void 0 ? void 0 : _g2.every(function(member) {
      return !member.nickname.toLowerCase().includes(lowerCasedSubString_1);
    })) {
      return false;
    }
  }
  if (channelUrlsFilter && !channelUrlsFilter.includes(channel === null || channel === void 0 ? void 0 : channel.url)) {
    return false;
  }
  if (myMemberStateFilter) {
    switch (myMemberStateFilter) {
      case "joined_only":
        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== "joined") {
          return false;
        }
        break;
      case "invited_only":
        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== "invited") {
          return false;
        }
        break;
      case "invited_by_friend":
        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== "invited" || !isFriend(channel === null || channel === void 0 ? void 0 : channel.inviter)) {
          return false;
        }
        break;
      case "invited_by_non_friend":
        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== "invited" || isFriend(channel === null || channel === void 0 ? void 0 : channel.inviter)) {
          return false;
        }
        break;
    }
  }
  if (hiddenChannelFilter) {
    switch (hiddenChannelFilter) {
      case "unhidden_only":
        if ((channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== "unhidden") {
          return false;
        }
        break;
      case "hidden_only":
        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden)) {
          return false;
        }
        break;
      case "hidden_allow_auto_unhide":
        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== "hidden_allow_auto_unhide") {
          return false;
        }
        break;
      case "hidden_prevent_auto_unhide":
        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== "hidden_prevent_auto_unhide") {
          return false;
        }
        break;
    }
  }
  if (unreadChannelFilter) {
    switch (unreadChannelFilter) {
      case "unread_message":
        if ((channel === null || channel === void 0 ? void 0 : channel.unreadMessageCount) === 0) {
          return false;
        }
        break;
    }
  }
  if (publicChannelFilter) {
    switch (publicChannelFilter) {
      case "public":
        if (!(channel === null || channel === void 0 ? void 0 : channel.isPublic)) {
          return false;
        }
        break;
      case "private":
        if (channel === null || channel === void 0 ? void 0 : channel.isPublic) {
          return false;
        }
        break;
    }
  }
  if (superChannelFilter) {
    switch (superChannelFilter) {
      case "super":
        if (!(channel === null || channel === void 0 ? void 0 : channel.isSuper)) {
          return false;
        }
        break;
      case "nonsuper":
        if (channel === null || channel === void 0 ? void 0 : channel.isSuper) {
          return false;
        }
        break;
    }
  }
  var _k = channel.cachedMetaData, cachedMetaData = _k === void 0 ? {} : _k;
  if (metadataKey && (metadataValues || metadataValueStartsWith)) {
    var metadataValue_1 = cachedMetaData[metadataKey];
    if (!metadataValue_1) {
      return false;
    }
    if (metadataValues && !metadataValues.every(function(value) {
      return metadataValue_1.includes(value);
    })) {
      return false;
    }
    if (metadataValueStartsWith && !metadataValue_1.startsWith(metadataValueStartsWith)) {
      return false;
    }
  }
  return true;
};
var binarySearch = function(list, number) {
  var pivot = Math.floor(list.length / 2);
  if (list[pivot] === number) {
    return pivot;
  }
  var leftList = list.slice(0, pivot);
  var rightList = list.slice(pivot + 1, list.length);
  if (list[pivot] > number) {
    return pivot + 1 + (rightList.length === 0 ? 0 : binarySearch(rightList, number));
  } else {
    return leftList.length === 0 ? pivot : binarySearch(leftList, number);
  }
};
var getChannelsWithUpsertedChannel = function(channels, channel) {
  var _a;
  if (channels.some(function(ch) {
    return ch.url === (channel === null || channel === void 0 ? void 0 : channel.url);
  })) {
    return channels.map(function(ch) {
      return ch.url === (channel === null || channel === void 0 ? void 0 : channel.url) ? channel : ch;
    });
  }
  var targetIndex = binarySearch(channels.map(function(channel2) {
    var _a2;
    return ((_a2 = channel2 === null || channel2 === void 0 ? void 0 : channel2.lastMessage) === null || _a2 === void 0 ? void 0 : _a2.createdAt) || (channel2 === null || channel2 === void 0 ? void 0 : channel2.createdAt);
  }), ((_a = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _a === void 0 ? void 0 : _a.createdAt) || (channel === null || channel === void 0 ? void 0 : channel.createdAt));
  return __spreadArray(__spreadArray(__spreadArray([], channels.slice(0, targetIndex), true), [channel], false), channels.slice(targetIndex, channels.length), true);
};
var StringObjType;
(function(StringObjType2) {
  StringObjType2["normal"] = "normal";
  StringObjType2["mention"] = "mention";
  StringObjType2["url"] = "url";
})(StringObjType || (StringObjType = {}));
var arrayEqual = function(array1, array2) {
  if (Array.isArray(array1) && Array.isArray(array2) && array1.length === array2.length) {
    for (var i3 = 0; i3 < array1.length; i3++) {
      if (array1[i3] !== array2[i3]) {
        return false;
      }
    }
    return true;
  }
  return false;
};
var isSendableMessage = function(message) {
  return Boolean(message) && "sender" in message;
};

// node_modules/@sendbird/uikit-react/stringSet-6422c6b9.js
var getStringSet = function() {
  let lang = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "en";
  const stringSet = {
    en: {
      // Group Channel - Conversation
      MESSAGE_STATUS__YESTERDAY: "Yesterday",
      CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE: "new message(s) since",
      CHANNEL__MESSAGE_LIST__NOTIFICATION__ON: "on",
      // Channel List
      CHANNEL_PREVIEW_MOBILE_LEAVE: "Leave channel",
      // Group Channel - Settings
      CHANNEL_SETTING__HEADER__TITLE: "Channel information",
      CHANNEL_SETTING__PROFILE__EDIT: "Edit",
      CHANNEL_SETTING__MEMBERS__TITLE: "Members",
      CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS: "All members",
      CHANNEL_SETTING__MEMBERS__INVITE_MEMBER: "Invite users",
      CHANNEL_SETTING__MEMBERS__YOU: " (You)",
      CHANNEL_SETTING__MEMBERS__SELECT_TITLE: "Select members",
      CHANNEL_SETTING__MEMBERS__OPERATOR: "Operator",
      CHANNEL_SETTING__LEAVE_CHANNEL__TITLE: "Leave channel",
      CHANNEL_SETTING__OPERATORS__TITLE: "Operators",
      CHANNEL_SETTING__OPERATORS__TITLE_ALL: "All operators",
      CHANNEL_SETTING__OPERATORS__TITLE_ADD: "Add operator",
      CHANNEL_SETTING__OPERATORS__ADD_BUTTON: "Add",
      CHANNEL_SETTING__MUTED_MEMBERS__TITLE: "Muted members",
      CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL: "All muted members",
      CHANNEL_SETTING__NO_UNMUTED: "No muted members yet",
      CHANNEL_SETTING__BANNED_MEMBERS__TITLE: "Banned users",
      CHANNEL_SETTING__FREEZE_CHANNEL: "Freeze Channel",
      CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR: "Register as operator",
      CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR: "Unregister operator",
      CHANNEL_SETTING__MODERATION__MUTE: "Mute",
      CHANNEL_SETTING__MODERATION__UNMUTE: "Unmute",
      CHANNEL_SETTING__MODERATION__BAN: "Ban",
      CHANNEL_SETTING__MODERATION__UNBAN: "Unban",
      CHANNEL_SETTING__MODERATION__EMPTY_BAN: "No banned members yet",
      CHANNEL_SETTING__MODERATION__ALL_BAN: "All banned members",
      // OpenChannel - Conversation
      OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS: "participants",
      OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS: "Select participants",
      // OpenChannelList
      OPEN_CHANNEL_LIST__TITLE: "Channels",
      CREATE_OPEN_CHANNEL_LIST__TITLE: "New channel profile",
      CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_SECTION: "Channel image",
      CREATE_OPEN_CHANNEL_LIST__SUBTITLE__IMG_UPLOAD: "Upload",
      CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_SECTION: "Channel name",
      CREATE_OPEN_CHANNEL_LIST__SUBTITLE__TEXT_PLACE_HOLDER: "Enter channel name",
      CREATE_OPEN_CHANNEL_LIST__SUBMIT: "Create",
      // OpenChannel - Settings
      OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE: "Channel Information",
      OPEN_CHANNEL_SETTINGS__OPERATOR_URL: "URL",
      OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE: "Participants",
      OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL: "Delete channel",
      OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE: "Delete channel?",
      OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT: "Once deleted, this channel can't be restored.",
      OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT: "Delete",
      OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE: "Operators",
      OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD: "Add operator",
      OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL: "All operators",
      OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE: "Muted participants",
      OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL: "All muted participants",
      OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE: "No muted participants yet",
      OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE: "Banned users",
      OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL: "All banned users",
      OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE: "No banned users yet",
      OPEN_CHANNEL_SETTINGS__MEMBERS__YOU: " (You)",
      OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR: "Operator",
      OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE: "Participants",
      OPEN_CHANNEL_SETTINGS__EMPTY_LIST: "No participants yet",
      OPEN_CHANNEL_SETTINGS__SEE_ALL: "See all participants",
      OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE: "All participants",
      OPEN_CHANNEL_SETTINGS__NO_TITLE: "(No title)",
      OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR: "Register as operator",
      OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR: "Unregister operator",
      OPEN_CHANNEL_SETTING__MODERATION__MUTE: "Mute",
      OPEN_CHANNEL_SETTING__MODERATION__UNMUTE: "Unmute",
      OPEN_CHANNEL_SETTING__MODERATION__BAN: "Ban",
      OPEN_CHANNEL_SETTING__MODERATION__UNBAN: "Unban",
      // Channel - Common
      TRYING_TO_CONNECT: "Trying to connect…",
      TYPING_INDICATOR__IS_TYPING: "is typing...",
      TYPING_INDICATOR__AND: "and",
      TYPING_INDICATOR__ARE_TYPING: "are typing...",
      TYPING_INDICATOR__MULTIPLE_TYPING: "Several people are typing...",
      CHANNEL_FROZEN: "Channel frozen",
      PLACE_HOLDER__NO_CHANNEL: "No channels",
      PLACE_HOLDER__WRONG: "Something went wrong",
      PLACE_HOLDER__RETRY_TO_CONNECT: "Retry",
      PLACE_HOLDER__NO_MESSAGES: "No messages",
      TOOLTIP__AND_YOU: ", and you",
      TOOLTIP__YOU: "you",
      TOOLTIP__UNKNOWN_USER: "(no name)",
      UNKNOWN__UNKNOWN_MESSAGE_TYPE: "(Unknown message type)",
      UNKNOWN__CANNOT_READ_MESSAGE: "Cannot read this message.",
      MESSAGE_EDITED: "(edited)",
      // Channel - Modal
      MODAL__DELETE_MESSAGE__TITLE: "Delete this message?",
      MODAL__CHANNEL_INFORMATION__TITLE: "Edit channel information",
      MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE: "Channel image",
      MODAL__CHANNEL_INFORMATION__UPLOAD: "Upload",
      MODAL__CHANNEL_INFORMATION__CHANNEL_NAME: "Channel name",
      MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER: "Enter name",
      MODAL__INVITE_MEMBER__TITLE: "Invite member",
      MODAL__INVITE_MEMBER__SELECTED: "selected",
      MODAL__CHOOSE_CHANNEL_TYPE__TITLE: "New channel",
      MODAL__CHOOSE_CHANNEL_TYPE__GROUP: "Group",
      MODAL__CHOOSE_CHANNEL_TYPE__SUPER_GROUP: "Super group",
      MODAL__CHOOSE_CHANNEL_TYPE__BROADCAST: "Broadcast",
      MODAL__CREATE_CHANNEL__TITLE: "New channel",
      MODAL__CREATE_CHANNEL__GROUP: "Group",
      MODAL__CREATE_CHANNEL__SUPER: "Super group",
      MODAL__CREATE_CHANNEL__BROADCAST: "Broadcast",
      MODAL__CREATE_CHANNEL__SELECTED: "selected",
      MODAL__LEAVE_CHANNEL__TITLE: "Leave this channel?",
      MODAL__LEAVE_CHANNEL__FOOTER: "Leave",
      MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED: "You're muted by the operator.",
      MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN: "Channel is frozen.",
      // User Profile
      USER_PROFILE__MESSAGE: "Message",
      USER_PROFILE__USER_ID: "User ID",
      EDIT_PROFILE__TITLE: "My profile",
      EDIT_PROFILE__IMAGE_LABEL: "Profile image",
      EDIT_PROFILE__IMAGE_UPLOAD: "Upload",
      EDIT_PROFILE__NICKNAME_LABEL: "Nickname",
      EDIT_PROFILE__NICKNAME_PLACEHOLDER: "Enter your nickname",
      EDIT_PROFILE__USERID_LABEL: "User ID",
      EDIT_PROFILE__THEME_LABEL: "Dark theme",
      // Message Input
      MESSAGE_INPUT__PLACE_HOLDER: "Enter message",
      MESSAGE_INPUT__PLACE_HOLDER__DISABLED: "Chat is unavailable in this channel",
      MESSAGE_INPUT__PLACE_HOLDER__MUTED: "Chat is unavailable because you're muted",
      MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT: "You're muted",
      MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER: "Reply to message",
      // Common UI
      BUTTON__CANCEL: "Cancel",
      BUTTON__DELETE: "Delete",
      BUTTON__SAVE: "Save",
      BUTTON__CREATE: "Create",
      BUTTON__INVITE: "Invite",
      BUTTON__OK: "OK",
      BADGE__OVER: "+",
      NO_TITLE: "No title",
      NO_NAME: "(No name)",
      NO_MEMBERS: "(No members)",
      // Context Menu
      MESSAGE_MENU__COPY: "Copy",
      MESSAGE_MENU__REPLY: "Reply",
      MESSAGE_MENU__THREAD: "Reply in thread",
      MESSAGE_MENU__OPEN_IN_CHANNEL: "Open in channel",
      MESSAGE_MENU__EDIT: "Edit",
      MESSAGE_MENU__RESEND: "Resend",
      MESSAGE_MENU__DELETE: "Delete",
      MESSAGE_MENU__SAVE: "Save",
      //  * FIXME: get back legacy, remove after refactoring open channel messages *
      CONTEXT_MENU_DROPDOWN__COPY: "Copy",
      CONTEXT_MENU_DROPDOWN__EDIT: "Edit",
      CONTEXT_MENU_DROPDOWN__RESEND: "Resend",
      CONTEXT_MENU_DROPDOWN__DELETE: "Delete",
      CONTEXT_MENU_DROPDOWN__SAVE: "Save",
      // Feature - Message Search
      SEARCH: "Search",
      SEARCH_IN_CHANNEL: "Search in channel",
      SEARCH_IN: "Search in",
      SEARCHING: "Searching for messages...",
      NO_SEARCHED_MESSAGE: "No results found.",
      // Feature - Message Reply
      QUOTE_MESSAGE_INPUT__REPLY_TO: "Reply to",
      QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE: "Photo",
      QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF: "GIF",
      QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO: "Video",
      QUOTED_MESSAGE__REPLIED_TO: "replied to",
      QUOTED_MESSAGE__CURRENT_USER: "You",
      QUOTED_MESSAGE__UNAVAILABLE: "Message unavailable",
      // Feature - Thread
      THREAD__HEADER_TITLE: "Thread",
      CHANNEL__THREAD_REPLY: "reply",
      CHANNEL__THREAD_REPLIES: "replies",
      CHANNEL__THREAD_OVER_MAX: "99+",
      THREAD__THREAD_REPLY: "reply",
      THREAD__THREAD_REPLIES: "replies",
      THREAD__INPUT__REPLY_TO_THREAD: "Reply to thread",
      THREAD__INPUT__REPLY_IN_THREAD: "Reply in thread",
      // Feature - Mention
      MENTION_NAME__NO_NAME: "(No name)",
      MENTION_COUNT__OVER_LIMIT: "You can mention up to %d times at a time.",
      UI__FILE_VIEWER__UNSUPPORT: "Unsupported message",
      // Feature - Voice Message
      VOICE_RECORDING_PERMISSION_DENIED: `You cannot record the voice since
        voice recording is not permitted in your device system setting`,
      VOICE_MESSAGE: "Voice Message",
      // Channel preview last message file type display strings
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GIF: "GIF",
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_PHOTO: "Photo",
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VIDEO: "Video",
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_AUDIO: "Audio",
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VOICE_MESSAGE: "Voice message",
      CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GENERAL: "File"
    }
  };
  return stringSet[lang];
};

// node_modules/@sendbird/uikit-react/index-e4277f9c.js
var formatDistanceLocale = {
  lessThanXSeconds: {
    one: "less than a second",
    other: "less than {{count}} seconds"
  },
  xSeconds: {
    one: "1 second",
    other: "{{count}} seconds"
  },
  halfAMinute: "half a minute",
  lessThanXMinutes: {
    one: "less than a minute",
    other: "less than {{count}} minutes"
  },
  xMinutes: {
    one: "1 minute",
    other: "{{count}} minutes"
  },
  aboutXHours: {
    one: "about 1 hour",
    other: "about {{count}} hours"
  },
  xHours: {
    one: "1 hour",
    other: "{{count}} hours"
  },
  xDays: {
    one: "1 day",
    other: "{{count}} days"
  },
  aboutXWeeks: {
    one: "about 1 week",
    other: "about {{count}} weeks"
  },
  xWeeks: {
    one: "1 week",
    other: "{{count}} weeks"
  },
  aboutXMonths: {
    one: "about 1 month",
    other: "about {{count}} months"
  },
  xMonths: {
    one: "1 month",
    other: "{{count}} months"
  },
  aboutXYears: {
    one: "about 1 year",
    other: "about {{count}} years"
  },
  xYears: {
    one: "1 year",
    other: "{{count}} years"
  },
  overXYears: {
    one: "over 1 year",
    other: "over {{count}} years"
  },
  almostXYears: {
    one: "almost 1 year",
    other: "almost {{count}} years"
  }
};
var formatDistance = function formatDistance2(token, count, options) {
  var result;
  var tokenValue = formatDistanceLocale[token];
  if (typeof tokenValue === "string") {
    result = tokenValue;
  } else if (count === 1) {
    result = tokenValue.one;
  } else {
    result = tokenValue.other.replace("{{count}}", count.toString());
  }
  if (options !== null && options !== void 0 && options.addSuffix) {
    if (options.comparison && options.comparison > 0) {
      return "in " + result;
    } else {
      return result + " ago";
    }
  }
  return result;
};
function buildFormatLongFn(args) {
  return function() {
    var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    var width = options.width ? String(options.width) : args.defaultWidth;
    var format = args.formats[width] || args.formats[args.defaultWidth];
    return format;
  };
}
var dateFormats = {
  full: "EEEE, MMMM do, y",
  long: "MMMM do, y",
  medium: "MMM d, y",
  short: "MM/dd/yyyy"
};
var timeFormats = {
  full: "h:mm:ss a zzzz",
  long: "h:mm:ss a z",
  medium: "h:mm:ss a",
  short: "h:mm a"
};
var dateTimeFormats = {
  full: "{{date}} 'at' {{time}}",
  long: "{{date}} 'at' {{time}}",
  medium: "{{date}}, {{time}}",
  short: "{{date}}, {{time}}"
};
var formatLong = {
  date: buildFormatLongFn({
    formats: dateFormats,
    defaultWidth: "full"
  }),
  time: buildFormatLongFn({
    formats: timeFormats,
    defaultWidth: "full"
  }),
  dateTime: buildFormatLongFn({
    formats: dateTimeFormats,
    defaultWidth: "full"
  })
};
var formatRelativeLocale = {
  lastWeek: "'last' eeee 'at' p",
  yesterday: "'yesterday at' p",
  today: "'today at' p",
  tomorrow: "'tomorrow at' p",
  nextWeek: "eeee 'at' p",
  other: "P"
};
var formatRelative = function formatRelative2(token, _date, _baseDate, _options) {
  return formatRelativeLocale[token];
};
function buildLocalizeFn(args) {
  return function(dirtyIndex, options) {
    var context = options !== null && options !== void 0 && options.context ? String(options.context) : "standalone";
    var valuesArray;
    if (context === "formatting" && args.formattingValues) {
      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;
      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
    } else {
      var _defaultWidth = args.defaultWidth;
      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;
      valuesArray = args.values[_width] || args.values[_defaultWidth];
    }
    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;
    return valuesArray[index];
  };
}
var eraValues = {
  narrow: ["B", "A"],
  abbreviated: ["BC", "AD"],
  wide: ["Before Christ", "Anno Domini"]
};
var quarterValues = {
  narrow: ["1", "2", "3", "4"],
  abbreviated: ["Q1", "Q2", "Q3", "Q4"],
  wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
};
var monthValues = {
  narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
  abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
  wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
};
var dayValues = {
  narrow: ["S", "M", "T", "W", "T", "F", "S"],
  short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
  abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
};
var dayPeriodValues = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  }
};
var formattingDayPeriodValues = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  }
};
var ordinalNumber = function ordinalNumber2(dirtyNumber, _options) {
  var number = Number(dirtyNumber);
  var rem100 = number % 100;
  if (rem100 > 20 || rem100 < 10) {
    switch (rem100 % 10) {
      case 1:
        return number + "st";
      case 2:
        return number + "nd";
      case 3:
        return number + "rd";
    }
  }
  return number + "th";
};
var localize = {
  ordinalNumber,
  era: buildLocalizeFn({
    values: eraValues,
    defaultWidth: "wide"
  }),
  quarter: buildLocalizeFn({
    values: quarterValues,
    defaultWidth: "wide",
    argumentCallback: function argumentCallback(quarter) {
      return quarter - 1;
    }
  }),
  month: buildLocalizeFn({
    values: monthValues,
    defaultWidth: "wide"
  }),
  day: buildLocalizeFn({
    values: dayValues,
    defaultWidth: "wide"
  }),
  dayPeriod: buildLocalizeFn({
    values: dayPeriodValues,
    defaultWidth: "wide",
    formattingValues: formattingDayPeriodValues,
    defaultFormattingWidth: "wide"
  })
};
function buildMatchFn(args) {
  return function(string) {
    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var width = options.width;
    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
    var matchResult = string.match(matchPattern);
    if (!matchResult) {
      return null;
    }
    var matchedString = matchResult[0];
    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function(pattern) {
      return pattern.test(matchedString);
    }) : findKey(parsePatterns, function(pattern) {
      return pattern.test(matchedString);
    });
    var value;
    value = args.valueCallback ? args.valueCallback(key) : key;
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value,
      rest
    };
  };
}
function findKey(object, predicate) {
  for (var key in object) {
    if (object.hasOwnProperty(key) && predicate(object[key])) {
      return key;
    }
  }
  return void 0;
}
function findIndex(array, predicate) {
  for (var key = 0; key < array.length; key++) {
    if (predicate(array[key])) {
      return key;
    }
  }
  return void 0;
}
function buildMatchPatternFn(args) {
  return function(string) {
    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var matchResult = string.match(args.matchPattern);
    if (!matchResult)
      return null;
    var matchedString = matchResult[0];
    var parseResult = string.match(args.parsePattern);
    if (!parseResult)
      return null;
    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value,
      rest
    };
  };
}
var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
var parseOrdinalNumberPattern = /\d+/i;
var matchEraPatterns = {
  narrow: /^(b|a)/i,
  abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  wide: /^(before christ|before common era|anno domini|common era)/i
};
var parseEraPatterns = {
  any: [/^b/i, /^(a|c)/i]
};
var matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234](th|st|nd|rd)? quarter/i
};
var parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var matchMonthPatterns = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
};
var parseMonthPatterns = {
  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var matchDayPatterns = {
  narrow: /^[smtwf]/i,
  short: /^(su|mo|tu|we|th|fr|sa)/i,
  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
};
var parseDayPatterns = {
  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
};
var matchDayPeriodPatterns = {
  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
  any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
};
var parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mi/i,
    noon: /^no/i,
    morning: /morning/i,
    afternoon: /afternoon/i,
    evening: /evening/i,
    night: /night/i
  }
};
var match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: matchOrdinalNumberPattern,
    parsePattern: parseOrdinalNumberPattern,
    valueCallback: function valueCallback(value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: matchEraPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseEraPatterns,
    defaultParseWidth: "any"
  }),
  quarter: buildMatchFn({
    matchPatterns: matchQuarterPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseQuarterPatterns,
    defaultParseWidth: "any",
    valueCallback: function valueCallback2(index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: matchMonthPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseMonthPatterns,
    defaultParseWidth: "any"
  }),
  day: buildMatchFn({
    matchPatterns: matchDayPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseDayPatterns,
    defaultParseWidth: "any"
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: matchDayPeriodPatterns,
    defaultMatchWidth: "any",
    parsePatterns: parseDayPeriodPatterns,
    defaultParseWidth: "any"
  })
};
var locale = {
  code: "en-US",
  formatDistance,
  formatLong,
  formatRelative,
  localize,
  match,
  options: {
    weekStartsOn: 0,
    firstWeekContainsDate: 1
  }
};
var defaultLocale = locale;

// node_modules/@sendbird/uikit-react/LocalizationContext-287ee149.js
var import_react3 = __toESM(require_react(), 1);
var LocalizationContext = import_react3.default.createContext({
  stringSet: getStringSet("en"),
  dateLocale: defaultLocale
});
var LocalizationProvider = function(props) {
  var children = props.children;
  return import_react3.default.createElement(LocalizationContext.Provider, {
    value: props
  }, children);
};
var useLocalization = function() {
  return import_react3.default.useContext(LocalizationContext);
};

// node_modules/@sendbird/uikit-react/index-92741c7e.js
var import_react4 = __toESM(require_react(), 1);
var import_prop_types = __toESM(require_prop_types(), 1);
var Typography = {
  H_1: "H_1",
  H_2: "H_2",
  SUBTITLE_1: "SUBTITLE_1",
  SUBTITLE_2: "SUBTITLE_2",
  BODY_1: "BODY_1",
  BODY_2: "BODY_2",
  BUTTON_1: "BUTTON_1",
  BUTTON_2: "BUTTON_2",
  CAPTION_1: "CAPTION_1",
  CAPTION_2: "CAPTION_2",
  CAPTION_3: "CAPTION_3"
};
var Colors = {
  ONBACKGROUND_1: "ONBACKGROUND_1",
  ONBACKGROUND_2: "ONBACKGROUND_2",
  ONBACKGROUND_3: "ONBACKGROUND_3",
  ONBACKGROUND_4: "ONBACKGROUND_4",
  ONCONTENT_1: "ONCONTENT_1",
  ONCONTENT_2: "ONCONTENT_2",
  PRIMARY: "PRIMARY",
  ERROR: "ERROR",
  SECONDARY_3: "SECONDARY_3"
};
function changeTypographyToClassName(type) {
  switch (type) {
    case Typography.H_1:
      return "sendbird-label--h-1";
    case Typography.H_2:
      return "sendbird-label--h-2";
    case Typography.SUBTITLE_1:
      return "sendbird-label--subtitle-1";
    case Typography.SUBTITLE_2:
      return "sendbird-label--subtitle-2";
    case Typography.BODY_1:
      return "sendbird-label--body-1";
    case Typography.BODY_2:
      return "sendbird-label--body-2";
    case Typography.BUTTON_1:
      return "sendbird-label--button-1";
    case Typography.BUTTON_2:
      return "sendbird-label--button-2";
    case Typography.CAPTION_1:
      return "sendbird-label--caption-1";
    case Typography.CAPTION_2:
      return "sendbird-label--caption-2";
    case Typography.CAPTION_3:
      return "sendbird-label--caption-3";
    default:
      return "";
  }
}
function changeColorToClassName(color) {
  switch (color) {
    case Colors.ONBACKGROUND_1:
      return "sendbird-label--color-onbackground-1";
    case Colors.ONBACKGROUND_2:
      return "sendbird-label--color-onbackground-2";
    case Colors.ONBACKGROUND_3:
      return "sendbird-label--color-onbackground-3";
    case Colors.ONBACKGROUND_4:
      return "sendbird-label--color-onbackground-4";
    case Colors.ONCONTENT_1:
      return "sendbird-label--color-oncontent-1";
    case Colors.ONCONTENT_2:
      return "sendbird-label--color-oncontent-2";
    case Colors.PRIMARY:
      return "sendbird-label--color-primary";
    case Colors.ERROR:
      return "sendbird-label--color-error";
    case Colors.SECONDARY_3:
      return "sendbird-label--color-secondary-3";
    default:
      return "";
  }
}
function Label(_ref) {
  let {
    className,
    type,
    color,
    children
  } = _ref;
  return (
    // Donot make this into div
    // Mention uses Label. If we use div, it would break the mention detection on Paste
    // https://github.com/sendbird/sendbird-uikit-react/pull/479
    import_react4.default.createElement("span", {
      className: [...Array.isArray(className) ? className : [className], "sendbird-label", type ? changeTypographyToClassName(type) : "", color ? changeColorToClassName(color) : ""].join(" ")
    }, children)
  );
}
Label.propTypes = {
  className: import_prop_types.default.oneOfType([import_prop_types.default.string, import_prop_types.default.arrayOf(import_prop_types.default.string)]),
  type: import_prop_types.default.string,
  color: import_prop_types.default.string,
  children: import_prop_types.default.oneOfType([import_prop_types.default.string, import_prop_types.default.number, import_prop_types.default.element, import_prop_types.default.any])
};
Label.defaultProps = {
  className: [],
  type: "",
  color: "",
  children: null
};
var LabelTypography = Typography;
var LabelColors = Colors;
var LabelStringSet = getStringSet("en");

// node_modules/@sendbird/uikit-react/ui/Icon.js
var React = __toESM(require_react(), 1);
var import_react5 = __toESM(require_react(), 1);
var import_prop_types2 = __toESM(require_prop_types(), 1);
var Types = {
  ADD: "ADD",
  ARROW_LEFT: "ARROW_LEFT",
  ATTACH: "ATTACH",
  AUDIO_ON_LINED: "AUDIO_ON_LINED",
  BAN: "BAN",
  BROADCAST: "BROADCAST",
  CAMERA: "CAMERA",
  CHANNELS: "CHANNELS",
  CHAT: "CHAT",
  CHAT_FILLED: "CHAT_FILLED",
  CHEVRON_DOWN: "CHEVRON_DOWN",
  CHEVRON_RIGHT: "CHEVRON_RIGHT",
  CLOSE: "CLOSE",
  COLLAPSE: "COLLAPSE",
  COPY: "COPY",
  CREATE: "CREATE",
  DELETE: "DELETE",
  DISCONNECTED: "DISCONNECTED",
  DOCUMENT: "DOCUMENT",
  DONE: "DONE",
  DONE_ALL: "DONE_ALL",
  DOWNLOAD: "DOWNLOAD",
  EDIT: "EDIT",
  EMOJI_MORE: "EMOJI_MORE",
  ERROR: "ERROR",
  EXPAND: "EXPAND",
  FILE_AUDIO: "FILE_AUDIO",
  FILE_DOCUMENT: "FILE_DOCUMENT",
  FREEZE: "FREEZE",
  GIF: "GIF",
  INFO: "INFO",
  LEAVE: "LEAVE",
  MEMBERS: "MEMBERS",
  MESSAGE: "MESSAGE",
  MODERATIONS: "MODERATIONS",
  MORE: "MORE",
  MUTE: "MUTE",
  NOTIFICATIONS: "NOTIFICATIONS",
  NOTIFICATIONS_OFF_FILLED: "NOTIFICATIONS_OFF_FILLED",
  OPERATOR: "OPERATOR",
  PHOTO: "PHOTO",
  PLAY: "PLAY",
  PLUS: "PLUS",
  QUESTION: "QUESTION",
  REFRESH: "REFRESH",
  REPLY: "REPLY",
  REMOVE: "REMOVE",
  SEARCH: "SEARCH",
  SEND: "SEND",
  SETTINGS_FILLED: "SETTINGS_FILLED",
  SLIDE_LEFT: "SLIDE_LEFT",
  SPINNER: "SPINNER",
  SUPERGROUP: "SUPERGROUP",
  THREAD: "THREAD",
  THUMBNAIL_NONE: "THUMBNAIL_NONE",
  TOGGLE_OFF: "TOGGLE_OFF",
  TOGGLE_ON: "TOGGLE_ON",
  USER: "USER"
};
var Colors2 = {
  DEFAULT: "DEFAULT",
  PRIMARY: "PRIMARY",
  PRIMARY_2: "PRIMARY_2",
  SECONDARY: "SECONDARY",
  CONTENT: "CONTENT",
  CONTENT_INVERSE: "CONTENT_INVERSE",
  WHITE: "WHITE",
  GRAY: "GRAY",
  THUMBNAIL_ICON: "THUMBNAIL_ICON",
  SENT: "SENT",
  READ: "READ",
  ON_BACKGROUND_1: "ON_BACKGROUND_1",
  ON_BACKGROUND_2: "ON_BACKGROUND_2",
  ON_BACKGROUND_3: "ON_BACKGROUND_3",
  ON_BACKGROUND_4: "ON_BACKGROUND_4",
  BACKGROUND_3: "BACKGROUND_3",
  ERROR: "ERROR"
};
function changeColorToClassName2(color) {
  switch (color) {
    case Colors2.PRIMARY:
      return "sendbird-icon-color--primary";
    case Colors2.PRIMARY_2:
      return "sendbird-icon-color--primary-2";
    case Colors2.SECONDARY:
      return "sendbird-icon-color--secondary";
    case Colors2.CONTENT:
      return "sendbird-icon-color--content";
    case Colors2.CONTENT_INVERSE:
      return "sendbird-icon-color--content-inverse";
    case Colors2.WHITE:
      return "sendbird-icon-color--white";
    case Colors2.GRAY:
      return "sendbird-icon-color--gray";
    case Colors2.THUMBNAIL_ICON:
      return "sendbird-icon-color--thumbnail-icon";
    case Colors2.SENT:
      return "sendbird-icon-color--sent";
    case Colors2.READ:
      return "sendbird-icon-color--read";
    case Colors2.ON_BACKGROUND_1:
      return "sendbird-icon-color--on-background-1";
    case Colors2.ON_BACKGROUND_2:
      return "sendbird-icon-color--on-background-2";
    case Colors2.ON_BACKGROUND_3:
      return "sendbird-icon-color--on-background-3";
    case Colors2.ON_BACKGROUND_4:
      return "sendbird-icon-color--on-background-4";
    case Colors2.BACKGROUND_3:
      return "sendbird-icon-color--background-3";
    case Colors2.ERROR:
      return "sendbird-icon-color--error";
    default:
      return "";
  }
}
function changeTypeToIconClassName(type) {
  switch (type) {
    case Types.ADD:
      return "sendbird-icon-add";
    case Types.ARROW_LEFT:
      return "sendbird-icon-arrow-left";
    case Types.ATTACH:
      return "sendbird-icon-attach";
    case Types.AUDIO_ON_LINED:
      return "sendbird-icon-audio-on-lined";
    case Types.BAN:
      return "sendbird-icon-ban";
    case Types.BROADCAST:
      return "sendbird-icon-broadcast";
    case Types.CAMERA:
      return "sendbird-icon-camera";
    case Types.CHANNELS:
      return "sendbird-icon-channels";
    case Types.CHAT:
      return "sendbird-icon-chat";
    case Types.CHAT_FILLED:
      return "sendbird-icon-chat-filled";
    case Types.CHEVRON_DOWN:
      return "sendbird-icon-chevron-down";
    case Types.CHEVRON_RIGHT:
      return "sendbird-icon-chevron-right";
    case Types.CLOSE:
      return "sendbird-icon-close";
    case Types.COLLAPSE:
      return "sendbird-icon-collapse";
    case Types.COPY:
      return "sendbird-icon-copy";
    case Types.CREATE:
      return "sendbird-icon-create";
    case Types.DELETE:
      return "sendbird-icon-delete";
    case Types.DISCONNECTED:
      return "sendbird-icon-disconnected";
    case Types.DOCUMENT:
      return "sendbird-icon-document";
    case Types.DONE:
      return "sendbird-icon-done";
    case Types.DONE_ALL:
      return "sendbird-icon-done-all";
    case Types.DOWNLOAD:
      return "sendbird-icon-down-load";
    case Types.EDIT:
      return "sendbird-icon-edit";
    case Types.EMOJI_MORE:
      return "sendbird-icon-emoji-more";
    case Types.ERROR:
      return "sendbird-icon-error";
    case Types.EXPAND:
      return "sendbird-icon-expand";
    case Types.FILE_AUDIO:
      return "sendbird-icon-file-audio";
    case Types.FILE_DOCUMENT:
      return "sendbird-icon-file-document";
    case Types.FREEZE:
      return "sendbird-icon-freeze";
    case Types.GIF:
      return "sendbird-icon-gif";
    case Types.INFO:
      return "sendbird-icon-info";
    case Types.LEAVE:
      return "sendbird-icon-leave";
    case Types.MEMBERS:
      return "sendbird-icon-members";
    case Types.MESSAGE:
      return "sendbird-icon-message";
    case Types.MODERATIONS:
      return "sendbird-icon-moderations";
    case Types.MORE:
      return "sendbird-icon-more";
    case Types.MUTE:
      return "sendbird-icon-mute";
    case Types.NOTIFICATIONS:
      return "sendbird-icon-notifications";
    case Types.NOTIFICATIONS_OFF_FILLED:
      return "sendbird-icon-notifications-off-filled";
    case Types.OPERATOR:
      return "sendbird-icon-operator";
    case Types.PHOTO:
      return "sendbird-icon-photo";
    case Types.PLAY:
      return "sendbird-icon-play";
    case Types.PLUS:
      return "sendbird-iconn-plus";
    case Types.QUESTION:
      return "sendbird-icon-question";
    case Types.REFRESH:
      return "sendbird-icon-refresh";
    case Types.REMOVE:
      return "sendbird-icon-remove";
    case Types.REPLY:
      return "sendbird-icon-reply";
    case Types.SEARCH:
      return "sendbird-icon-search";
    case Types.SEND:
      return "sendbird-icon-send";
    case Types.SETTINGS_FILLED:
      return "sendbird-icon-settings-filled";
    case Types.SPINNER:
      return "sendbird-icon-spinner";
    case Types.SUPERGROUP:
      return "sendbird-icon-supergroup";
    case Types.THREAD:
      return "sendbird-icon-thread";
    case Types.THUMBNAIL_NONE:
      return "sendbird-icon-thumbnail-none";
    case Types.TOGGLE_OFF:
      return "sendbird-icon-toggle-off";
    case Types.TOGGLE_ON:
      return "sendbird-icon-toggle-on";
    case Types.USER:
      return "sendbird-icon-user";
    default:
      return "sendbird-icon-unknown";
  }
}
var _path$S;
function _extends$V() {
  _extends$V = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$V.apply(this, arguments);
}
function SvgIconAdd(props) {
  return React.createElement("svg", _extends$V({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$S || (_path$S = React.createElement("path", {
    className: "icon-add_svg__fill",
    d: "M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$R;
function _extends$U() {
  _extends$U = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$U.apply(this, arguments);
}
function SvgIconArrowLeft(props) {
  return React.createElement("svg", _extends$U({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$R || (_path$R = React.createElement("path", {
    className: "icon-arrow-left_svg__fill",
    d: "M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$Q;
function _extends$T() {
  _extends$T = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$T.apply(this, arguments);
}
function SvgIconAttach(props) {
  return React.createElement("svg", _extends$T({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$Q || (_path$Q = React.createElement("path", {
    className: "icon-attach_svg__fill",
    d: "M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _g$2;
var _defs;
function _extends$S() {
  _extends$S = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$S.apply(this, arguments);
}
function SvgIconAudioOnLined(props) {
  return React.createElement("svg", _extends$S({
    viewBox: "0 0 64 64",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), _g$2 || (_g$2 = React.createElement("g", {
    clipPath: "url(#icon-audio-on-lined_svg__clip0_1_7)"
  }, React.createElement("path", {
    className: "icon-audio-on-lined_svg__fill",
    clipRule: "evenodd",
    d: "M32 0C26.11 0 21.333 4.776 21.333 10.667V32c0 5.891 4.776 10.667 10.667 10.667S42.667 37.89 42.667 32V10.667C42.667 4.776 37.89 0 32 0zm-5.333 10.667a5.333 5.333 0 0110.666 0V32a5.333 5.333 0 01-10.666 0V10.667z"
  }), React.createElement("path", {
    className: "icon-audio-on-lined_svg__fill",
    d: "M16 26.667a2.667 2.667 0 10-5.333 0V32c0 10.879 8.143 19.856 18.666 21.168v5.499h-8a2.667 2.667 0 000 5.333h21.334a2.667 2.667 0 100-5.333h-8v-5.499C45.19 51.856 53.333 42.88 53.333 32v-5.333a2.667 2.667 0 10-5.333 0V32c0 8.837-7.163 16-16 16s-16-7.163-16-16v-5.333z"
  }))), _defs || (_defs = React.createElement("defs", null, React.createElement("clipPath", {
    id: "icon-audio-on-lined_svg__clip0_1_7"
  }, React.createElement("path", {
    fill: "#fff",
    d: "M0 0h64v64H0z"
  })))));
}
var _path$P;
function _extends$R() {
  _extends$R = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$R.apply(this, arguments);
}
function SvgIconBan(props) {
  return React.createElement("svg", _extends$R({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$P || (_path$P = React.createElement("path", {
    className: "icon-ban_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$O;
function _extends$Q() {
  _extends$Q = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$Q.apply(this, arguments);
}
function SvgIconBroadcast(props) {
  return React.createElement("svg", _extends$Q({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$O || (_path$O = React.createElement("path", {
    className: "icon-broadcast_svg__fill",
    d: "M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$N;
function _extends$P() {
  _extends$P = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$P.apply(this, arguments);
}
function SvgIconCamera(props) {
  return React.createElement("svg", _extends$P({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$N || (_path$N = React.createElement("path", {
    className: "icon-camera_svg__fill",
    d: "M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$M;
function _extends$O() {
  _extends$O = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$O.apply(this, arguments);
}
function SvgIconChannels(props) {
  return React.createElement("svg", _extends$O({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$M || (_path$M = React.createElement("path", {
    className: "icon-channels_svg__fill",
    d: "M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$L;
function _extends$N() {
  _extends$N = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$N.apply(this, arguments);
}
function SvgIconChat(props) {
  return React.createElement("svg", _extends$N({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$L || (_path$L = React.createElement("path", {
    className: "icon-chat_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$K;
function _extends$M() {
  _extends$M = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$M.apply(this, arguments);
}
function SvgIconChatFilled(props) {
  return React.createElement("svg", _extends$M({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$K || (_path$K = React.createElement("path", {
    className: "icon-chat-filled_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$J;
function _extends$L() {
  _extends$L = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$L.apply(this, arguments);
}
function SvgIconChevronDown(props) {
  return React.createElement("svg", _extends$L({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$J || (_path$J = React.createElement("path", {
    className: "icon-chevron-down_svg__fill",
    d: "M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$I;
function _extends$K() {
  _extends$K = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$K.apply(this, arguments);
}
function SvgIconChevronRight(props) {
  return React.createElement("svg", _extends$K({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$I || (_path$I = React.createElement("path", {
    className: "icon-chevron-right_svg__fill",
    d: "M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$H;
function _extends$J() {
  _extends$J = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$J.apply(this, arguments);
}
function SvgIconClose(props) {
  return React.createElement("svg", _extends$J({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$H || (_path$H = React.createElement("path", {
    className: "icon-close_svg__fill",
    d: "M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$G;
function _extends$I() {
  _extends$I = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$I.apply(this, arguments);
}
function SvgIconCollapse(props) {
  return React.createElement("svg", _extends$I({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$G || (_path$G = React.createElement("path", {
    className: "icon-collapse_svg__fill",
    d: "M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$F;
function _extends$H() {
  _extends$H = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$H.apply(this, arguments);
}
function SvgIconCopy(props) {
  return React.createElement("svg", _extends$H({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$F || (_path$F = React.createElement("path", {
    className: "icon-copy_svg__fill",
    d: "M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$E;
function _extends$G() {
  _extends$G = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$G.apply(this, arguments);
}
function SvgIconCreate(props) {
  return React.createElement("svg", _extends$G({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$E || (_path$E = React.createElement("path", {
    className: "icon-create_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$D;
function _extends$F() {
  _extends$F = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$F.apply(this, arguments);
}
function SvgIconDelete(props) {
  return React.createElement("svg", _extends$F({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$D || (_path$D = React.createElement("path", {
    className: "icon-delete_svg__fill",
    d: "M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$C;
function _extends$E() {
  _extends$E = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$E.apply(this, arguments);
}
function SvgIconDisconnected(props) {
  return React.createElement("svg", _extends$E({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$C || (_path$C = React.createElement("path", {
    className: "icon-disconnected_svg__fill",
    d: "M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$B;
function _extends$D() {
  _extends$D = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$D.apply(this, arguments);
}
function SvgIconDocument(props) {
  return React.createElement("svg", _extends$D({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$B || (_path$B = React.createElement("path", {
    className: "icon-document_svg__fill",
    d: "M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$A;
function _extends$C() {
  _extends$C = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$C.apply(this, arguments);
}
function SvgIconDone(props) {
  return React.createElement("svg", _extends$C({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$A || (_path$A = React.createElement("path", {
    className: "icon-done_svg__fill",
    d: "M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$z;
function _extends$B() {
  _extends$B = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$B.apply(this, arguments);
}
function SvgIconDoneAll(props) {
  return React.createElement("svg", _extends$B({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$z || (_path$z = React.createElement("path", {
    className: "icon-done-all_svg__fill",
    d: "M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$y;
function _extends$A() {
  _extends$A = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$A.apply(this, arguments);
}
function SvgIconDownload(props) {
  return React.createElement("svg", _extends$A({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$y || (_path$y = React.createElement("path", {
    className: "icon-download_svg__fill",
    d: "M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$x;
function _extends$z() {
  _extends$z = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$z.apply(this, arguments);
}
function SvgIconEdit(props) {
  return React.createElement("svg", _extends$z({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 65 65"
  }, props), _path$x || (_path$x = React.createElement("path", {
    className: "icon-edit_svg__fill",
    d: "M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$w;
function _extends$y() {
  _extends$y = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$y.apply(this, arguments);
}
function SvgIconEmojiMore(props) {
  return React.createElement("svg", _extends$y({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$w || (_path$w = React.createElement("path", {
    className: "icon-emoji-more_svg__fill",
    d: "M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$v;
function _extends$x() {
  _extends$x = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$x.apply(this, arguments);
}
function SvgIconError(props) {
  return React.createElement("svg", _extends$x({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$v || (_path$v = React.createElement("path", {
    className: "icon-error_svg__fill",
    d: "M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$u;
function _extends$w() {
  _extends$w = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$w.apply(this, arguments);
}
function SvgIconExpand(props) {
  return React.createElement("svg", _extends$w({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$u || (_path$u = React.createElement("path", {
    className: "icon-expand_svg__fill",
    d: "M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$t;
function _extends$v() {
  _extends$v = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$v.apply(this, arguments);
}
function SvgIconFileAudio(props) {
  return React.createElement("svg", _extends$v({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$t || (_path$t = React.createElement("path", {
    className: "icon-file-audio_svg__fill",
    d: "M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$s;
function _extends$u() {
  _extends$u = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$u.apply(this, arguments);
}
function SvgIconFileDocument(props) {
  return React.createElement("svg", _extends$u({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$s || (_path$s = React.createElement("path", {
    className: "icon-file-document_svg__fill",
    d: "M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$r;
function _extends$t() {
  _extends$t = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$t.apply(this, arguments);
}
function SvgIconFreeze(props) {
  return React.createElement("svg", _extends$t({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$r || (_path$r = React.createElement("path", {
    className: "icon-freeze_svg__fill",
    d: "M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$q;
function _extends$s() {
  _extends$s = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$s.apply(this, arguments);
}
function SvgIconGif(props) {
  return React.createElement("svg", _extends$s({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$q || (_path$q = React.createElement("path", {
    className: "icon-gif_svg__fill",
    d: "M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$p;
function _extends$r() {
  _extends$r = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$r.apply(this, arguments);
}
function SvgIconInfo(props) {
  return React.createElement("svg", _extends$r({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$p || (_path$p = React.createElement("path", {
    className: "icon-info_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$o;
function _extends$q() {
  _extends$q = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$q.apply(this, arguments);
}
function SvgIconLeave(props) {
  return React.createElement("svg", _extends$q({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$o || (_path$o = React.createElement("path", {
    className: "icon-leave_svg__fill",
    d: "M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$n;
function _extends$p() {
  _extends$p = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$p.apply(this, arguments);
}
function SvgIconMembers(props) {
  return React.createElement("svg", _extends$p({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$n || (_path$n = React.createElement("path", {
    className: "icon-members_svg__fill",
    d: "M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$m;
function _extends$o() {
  _extends$o = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$o.apply(this, arguments);
}
function SvgIconMessage(props) {
  return React.createElement("svg", _extends$o({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$m || (_path$m = React.createElement("path", {
    className: "icon-message_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$l;
function _extends$n() {
  _extends$n = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$n.apply(this, arguments);
}
function SvgIconModerations(props) {
  return React.createElement("svg", _extends$n({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$l || (_path$l = React.createElement("path", {
    className: "icon-moderations_svg__fill",
    d: "M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$k;
function _extends$m() {
  _extends$m = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$m.apply(this, arguments);
}
function SvgIconMore(props) {
  return React.createElement("svg", _extends$m({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$k || (_path$k = React.createElement("path", {
    className: "icon-more_svg__fill",
    d: "M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$j;
function _extends$l() {
  _extends$l = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$l.apply(this, arguments);
}
function SvgIconMute(props) {
  return React.createElement("svg", _extends$l({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$j || (_path$j = React.createElement("path", {
    className: "icon-mute_svg__fill",
    d: "M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$i;
function _extends$k() {
  _extends$k = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$k.apply(this, arguments);
}
function SvgIconNotifications(props) {
  return React.createElement("svg", _extends$k({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$i || (_path$i = React.createElement("path", {
    className: "icon-notifications_svg__fill",
    d: "M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$h;
function _extends$j() {
  _extends$j = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$j.apply(this, arguments);
}
function SvgIconNotificationsOffFilled(props) {
  return React.createElement("svg", _extends$j({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$h || (_path$h = React.createElement("path", {
    className: "icon-notifications-off-filled_svg__fill",
    d: "M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$g;
function _extends$i() {
  _extends$i = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$i.apply(this, arguments);
}
function SvgIconOperator(props) {
  return React.createElement("svg", _extends$i({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$g || (_path$g = React.createElement("path", {
    className: "icon-operator_svg__fill",
    d: "M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$f;
function _extends$h() {
  _extends$h = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$h.apply(this, arguments);
}
function SvgIconPhoto(props) {
  return React.createElement("svg", _extends$h({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$f || (_path$f = React.createElement("path", {
    className: "icon-photo_svg__fill",
    d: "M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$e;
function _extends$g() {
  _extends$g = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$g.apply(this, arguments);
}
function SvgIconPlay(props) {
  return React.createElement("svg", _extends$g({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$e || (_path$e = React.createElement("path", {
    className: "icon-play_svg__fill",
    d: "M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$d;
function _extends$f() {
  _extends$f = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$f.apply(this, arguments);
}
function SvgIconPlus(props) {
  return React.createElement("svg", _extends$f({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$d || (_path$d = React.createElement("path", {
    className: "icon-plus_svg__fill",
    d: "M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$c;
function _extends$e() {
  _extends$e = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$e.apply(this, arguments);
}
function SvgIconQuestion(props) {
  return React.createElement("svg", _extends$e({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$c || (_path$c = React.createElement("path", {
    className: "icon-question_svg__fill",
    d: "M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$b;
function _extends$d() {
  _extends$d = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$d.apply(this, arguments);
}
function SvgIconRefresh(props) {
  return React.createElement("svg", _extends$d({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$b || (_path$b = React.createElement("path", {
    className: "icon-refresh_svg__fill",
    d: "M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$a;
function _extends$c() {
  _extends$c = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$c.apply(this, arguments);
}
function SvgIconRemove(props) {
  return React.createElement("svg", _extends$c({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$a || (_path$a = React.createElement("path", {
    className: "icon-remove_svg__fill",
    d: "M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$9;
function _extends$b() {
  _extends$b = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$b.apply(this, arguments);
}
function SvgIconReplyFilled(props) {
  return React.createElement("svg", _extends$b({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 12 12"
  }, props), _path$9 || (_path$9 = React.createElement("path", {
    className: "icon-reply-filled_svg__fill",
    d: "M11.774 10.5c.062 0 .12-.025.164-.07a.22.22 0 00.062-.164c-.07-1.447-.495-2.678-1.268-3.66-.618-.785-1.455-1.409-2.49-1.855a9.331 9.331 0 00-2.406-.655 9.542 9.542 0 00-.862-.078V2.225a.225.225 0 00-.128-.203.23.23 0 00-.24.028L.084 5.692A.221.221 0 000 5.865c0 .068.03.132.082.175l4.523 3.737c.067.056.16.068.24.03a.222.222 0 00.13-.202v-1.95c1.134-.08 2.178.003 3.107.25a6.39 6.39 0 012.087.96c1.018.724 1.398 1.5 1.4 1.507a.23.23 0 00.205.128z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$8;
function _extends$a() {
  _extends$a = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$a.apply(this, arguments);
}
function SvgIconSearch(props) {
  return React.createElement("svg", _extends$a({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$8 || (_path$8 = React.createElement("path", {
    className: "icon-search_svg__fill",
    d: "M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$7;
function _extends$9() {
  _extends$9 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$9.apply(this, arguments);
}
function SvgIconSend(props) {
  return React.createElement("svg", _extends$9({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$7 || (_path$7 = React.createElement("path", {
    className: "icon-send_svg__fill",
    d: "M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$6;
function _extends$8() {
  _extends$8 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$8.apply(this, arguments);
}
function SvgIconSettingsFilled(props) {
  return React.createElement("svg", _extends$8({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$6 || (_path$6 = React.createElement("path", {
    className: "icon-settings-filled_svg__fill",
    d: "M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$5;
function _extends$7() {
  _extends$7 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$7.apply(this, arguments);
}
function SvgIconSlideLeft(props) {
  return React.createElement("svg", _extends$7({
    xmlns: "http://www.w3.org/2000/svg",
    width: 32,
    height: 32,
    fill: "none"
  }, props), _path$5 || (_path$5 = React.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M21.943 24.39a1.333 1.333 0 01-1.886 1.886l-9.333-9.333a1.333 1.333 0 010-1.886l9.333-9.333a1.333 1.333 0 111.886 1.885L13.553 16l8.39 8.391z",
    fill: "#000"
  })));
}
var _path$4;
function _extends$6() {
  _extends$6 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$6.apply(this, arguments);
}
function SvgIconSpinner(props) {
  return React.createElement("svg", _extends$6({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$4 || (_path$4 = React.createElement("path", {
    className: "icon-spinner_svg__fill",
    d: "M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$3;
function _extends$5() {
  _extends$5 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$5.apply(this, arguments);
}
function SvgIconSupergroup(props) {
  return React.createElement("svg", _extends$5({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$3 || (_path$3 = React.createElement("path", {
    className: "icon-supergroup_svg__fill",
    d: "M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _path$2;
var _path2;
function _extends$4() {
  _extends$4 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$4.apply(this, arguments);
}
function SvgIconThread(props) {
  return React.createElement("svg", _extends$4({
    viewBox: "0 0 64 64",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), _path$2 || (_path$2 = React.createElement("path", {
    className: "icon-thread_svg__fill",
    clipRule: "evenodd",
    d: "M38.824 25.895a2.95 2.95 0 014.16-.074L57.1 39.378a2.921 2.921 0 01.002 4.213L42.985 57.177a2.95 2.95 0 01-4.158-.07 2.919 2.919 0 01.07-4.14l11.928-11.48-11.926-11.451a2.919 2.919 0 01-.075-4.14z"
  })), _path2 || (_path2 = React.createElement("path", {
    className: "icon-thread_svg__fill",
    clipRule: "evenodd",
    d: "M8.866 6c1.583 0 2.866 1.216 2.866 2.716V25.5c0 7.672 6.846 14.068 15.475 14.068h22.927c1.583 0 2.866 1.216 2.866 2.716 0 1.5-1.283 2.716-2.866 2.716H27.207C15.604 45 6 36.35 6 25.5V8.716C6 7.216 7.283 6 8.866 6z"
  })));
}
var _path$1;
function _extends$3() {
  _extends$3 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$3.apply(this, arguments);
}
function SvgIconThumbnailNone(props) {
  return React.createElement("svg", _extends$3({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path$1 || (_path$1 = React.createElement("path", {
    className: "icon-thumbnail-none_svg__fill",
    d: "M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
var _g$1;
function _extends$2() {
  _extends$2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$2.apply(this, arguments);
}
function SvgIconToggleoff(props) {
  return React.createElement("svg", _extends$2({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 88 48"
  }, props), _g$1 || (_g$1 = React.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, React.createElement("rect", {
    className: "icon-toggleoff_svg__fill",
    width: 80,
    height: 40,
    x: 4,
    y: 4,
    fill: "#000",
    rx: 20
  }), React.createElement("circle", {
    cx: 24,
    cy: 24,
    r: 12,
    fill: "#FFF"
  }), React.createElement("path", {
    fill: "#FFF",
    d: "M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"
  }), React.createElement("path", {
    className: "icon-toggleoff_svg__fill",
    fill: "#000",
    d: "M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"
  }))));
}
var _g;
function _extends$1() {
  _extends$1 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$1.apply(this, arguments);
}
function SvgIconToggleon(props) {
  return React.createElement("svg", _extends$1({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 88 48"
  }, props), _g || (_g = React.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, React.createElement("rect", {
    className: "icon-toggleon_svg__fill",
    width: 80,
    height: 40,
    x: 4,
    y: 4,
    fill: "#000",
    rx: 20
  }), React.createElement("circle", {
    cx: 64,
    cy: 24,
    r: 12,
    fill: "#FFF"
  }), React.createElement("path", {
    fill: "#FFF",
    d: "M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"
  }), React.createElement("path", {
    className: "icon-toggleon_svg__fill",
    fill: "#000",
    d: "M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"
  }))));
}
var _path;
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function SvgIconUser(props) {
  return React.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 64 64"
  }, props), _path || (_path = React.createElement("path", {
    className: "icon-user_svg__fill",
    d: "M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",
    fill: "#000",
    fillRule: "evenodd"
  })));
}
function changeTypeToIconComponent(type) {
  switch (type) {
    case Types.ADD:
      return import_react5.default.createElement(SvgIconAdd, null);
    case Types.ARROW_LEFT:
      return import_react5.default.createElement(SvgIconArrowLeft, null);
    case Types.ATTACH:
      return import_react5.default.createElement(SvgIconAttach, null);
    case Types.AUDIO_ON_LINED:
      return import_react5.default.createElement(SvgIconAudioOnLined, null);
    case Types.BAN:
      return import_react5.default.createElement(SvgIconBan, null);
    case Types.BROADCAST:
      return import_react5.default.createElement(SvgIconBroadcast, null);
    case Types.CAMERA:
      return import_react5.default.createElement(SvgIconCamera, null);
    case Types.CHANNELS:
      return import_react5.default.createElement(SvgIconChannels, null);
    case Types.CHAT:
      return import_react5.default.createElement(SvgIconChat, null);
    case Types.CHAT_FILLED:
      return import_react5.default.createElement(SvgIconChatFilled, null);
    case Types.CHEVRON_DOWN:
      return import_react5.default.createElement(SvgIconChevronDown, null);
    case Types.CHEVRON_RIGHT:
      return import_react5.default.createElement(SvgIconChevronRight, null);
    case Types.CLOSE:
      return import_react5.default.createElement(SvgIconClose, null);
    case Types.COLLAPSE:
      return import_react5.default.createElement(SvgIconCollapse, null);
    case Types.COPY:
      return import_react5.default.createElement(SvgIconCopy, null);
    case Types.CREATE:
      return import_react5.default.createElement(SvgIconCreate, null);
    case Types.DELETE:
      return import_react5.default.createElement(SvgIconDelete, null);
    case Types.DISCONNECTED:
      return import_react5.default.createElement(SvgIconDisconnected, null);
    case Types.DOCUMENT:
      return import_react5.default.createElement(SvgIconDocument, null);
    case Types.DONE:
      return import_react5.default.createElement(SvgIconDone, null);
    case Types.DONE_ALL:
      return import_react5.default.createElement(SvgIconDoneAll, null);
    case Types.DOWNLOAD:
      return import_react5.default.createElement(SvgIconDownload, null);
    case Types.EDIT:
      return import_react5.default.createElement(SvgIconEdit, null);
    case Types.EMOJI_MORE:
      return import_react5.default.createElement(SvgIconEmojiMore, null);
    case Types.ERROR:
      return import_react5.default.createElement(SvgIconError, null);
    case Types.EXPAND:
      return import_react5.default.createElement(SvgIconExpand, null);
    case Types.FILE_AUDIO:
      return import_react5.default.createElement(SvgIconFileAudio, null);
    case Types.FILE_DOCUMENT:
      return import_react5.default.createElement(SvgIconFileDocument, null);
    case Types.FREEZE:
      return import_react5.default.createElement(SvgIconFreeze, null);
    case Types.GIF:
      return import_react5.default.createElement(SvgIconGif, null);
    case Types.INFO:
      return import_react5.default.createElement(SvgIconInfo, null);
    case Types.LEAVE:
      return import_react5.default.createElement(SvgIconLeave, null);
    case Types.MEMBERS:
      return import_react5.default.createElement(SvgIconMembers, null);
    case Types.MESSAGE:
      return import_react5.default.createElement(SvgIconMessage, null);
    case Types.MODERATIONS:
      return import_react5.default.createElement(SvgIconModerations, null);
    case Types.MORE:
      return import_react5.default.createElement(SvgIconMore, null);
    case Types.MUTE:
      return import_react5.default.createElement(SvgIconMute, null);
    case Types.NOTIFICATIONS:
      return import_react5.default.createElement(SvgIconNotifications, null);
    case Types.NOTIFICATIONS_OFF_FILLED:
      return import_react5.default.createElement(SvgIconNotificationsOffFilled, null);
    case Types.OPERATOR:
      return import_react5.default.createElement(SvgIconOperator, null);
    case Types.PHOTO:
      return import_react5.default.createElement(SvgIconPhoto, null);
    case Types.PLAY:
      return import_react5.default.createElement(SvgIconPlay, null);
    case Types.PLUS:
      return import_react5.default.createElement(SvgIconPlus, null);
    case Types.QUESTION:
      return import_react5.default.createElement(SvgIconQuestion, null);
    case Types.REFRESH:
      return import_react5.default.createElement(SvgIconRefresh, null);
    case Types.REMOVE:
      return import_react5.default.createElement(SvgIconRemove, null);
    case Types.REPLY:
      return import_react5.default.createElement(SvgIconReplyFilled, null);
    case Types.SEARCH:
      return import_react5.default.createElement(SvgIconSearch, null);
    case Types.SEND:
      return import_react5.default.createElement(SvgIconSend, null);
    case Types.SETTINGS_FILLED:
      return import_react5.default.createElement(SvgIconSettingsFilled, null);
    case Types.SLIDE_LEFT:
      return import_react5.default.createElement(SvgIconSlideLeft, null);
    case Types.SPINNER:
      return import_react5.default.createElement(SvgIconSpinner, null);
    case Types.SUPERGROUP:
      return import_react5.default.createElement(SvgIconSupergroup, null);
    case Types.THREAD:
      return import_react5.default.createElement(SvgIconThread, null);
    case Types.THUMBNAIL_NONE:
      return import_react5.default.createElement(SvgIconThumbnailNone, null);
    case Types.TOGGLE_OFF:
      return import_react5.default.createElement(SvgIconToggleoff, null);
    case Types.TOGGLE_ON:
      return import_react5.default.createElement(SvgIconToggleon, null);
    case Types.USER:
      return import_react5.default.createElement(SvgIconUser, null);
    default:
      return "icon";
  }
}
function Icon(_ref) {
  let {
    className,
    type,
    fillColor,
    width,
    height,
    onClick,
    children
  } = _ref;
  const iconStyle = {
    width: typeof width === "string" ? width : `${width}px`,
    minWidth: typeof width === "string" ? width : `${width}px`,
    height: typeof height === "string" ? height : `${height}px`,
    minHeight: typeof height === "string" ? height : `${height}px`
  };
  return import_react5.default.createElement("div", {
    className: [...Array.isArray(className) ? className : [className], "sendbird-icon", changeTypeToIconClassName(type), changeColorToClassName2(fillColor)].join(" "),
    role: "button",
    onClick,
    onKeyDown: onClick,
    tabIndex: "0",
    style: iconStyle
  }, children || changeTypeToIconComponent(type));
}
Icon.propTypes = {
  className: import_prop_types2.default.oneOfType([import_prop_types2.default.string, import_prop_types2.default.arrayOf(import_prop_types2.default.string)]),
  /** Type: Use strings from below list */
  type: import_prop_types2.default.oneOfType([import_prop_types2.default.oneOf(Object.keys(Types)), import_prop_types2.default.string]).isRequired,
  /** Type: Use Colors from below list */
  fillColor: import_prop_types2.default.oneOf(Object.keys(Colors2)),
  width: import_prop_types2.default.oneOfType([import_prop_types2.default.string, import_prop_types2.default.number]),
  height: import_prop_types2.default.oneOfType([import_prop_types2.default.string, import_prop_types2.default.number]),
  onClick: import_prop_types2.default.func,
  children: import_prop_types2.default.element
};
Icon.defaultProps = {
  className: "",
  fillColor: Colors2.DEFAULT,
  width: 26,
  height: 26,
  onClick: () => {
  },
  children: null
};
var IconTypes = Types;
var IconColors = Colors2;

// node_modules/@sendbird/uikit-react/ui/IconButton.js
var import_react6 = __toESM(require_react(), 1);
var IconButton = import_react6.default.forwardRef(function(props, ref) {
  var _a = props.className, className = _a === void 0 ? "" : _a, children = props.children, _b = props.disabled, disabled = _b === void 0 ? false : _b, _c = props.width, width = _c === void 0 ? "56px" : _c, _d = props.height, height = _d === void 0 ? "56px" : _d, _e2 = props.type, type = _e2 === void 0 ? "button" : _e2, _f = props.style, style = _f === void 0 ? {} : _f, _g2 = props.onBlur, onBlur = _g2 === void 0 ? function() {
  } : _g2, _h = props.onClick, onClick = _h === void 0 ? function() {
  } : _h;
  var _j = (0, import_react6.useState)(false), isPressed = _j[0], setIsPressed = _j[1];
  return import_react6.default.createElement("button", {
    className: __spreadArray(__spreadArray([], Array.isArray(className) ? className : [className], true), ["sendbird-iconbutton", isPressed ? "sendbird-iconbutton--pressed" : ""], false).join(" "),
    disabled,
    ref,
    type,
    style: __assign(__assign({}, style), {
      height,
      width
    }),
    onClick: function(e3) {
      if (disabled) {
        return;
      }
      setIsPressed(true);
      onClick === null || onClick === void 0 ? void 0 : onClick(e3);
    },
    onBlur: function(e3) {
      setIsPressed(false);
      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e3);
    }
  }, import_react6.default.createElement("span", {
    className: "sendbird-iconbutton__inner"
  }, children));
});

// node_modules/@sendbird/uikit-react/index-04bd1a59.js
var import_react7 = __toESM(require_react(), 1);
var MODAL_ROOT = "sendbird-modal-root";

// node_modules/@sendbird/uikit-react/MediaQueryContext-114ca049.js
var import_react8 = __toESM(require_react(), 1);
var DEFAULT_MOBILE = false;
var MOBILE_CLASSNAME = "sendbird--mobile-mode";
var MediaQueryContext = import_react8.default.createContext({
  breakpoint: DEFAULT_MOBILE,
  isMobile: false
});
var addClassNameToBody = function() {
  try {
    var body = document.querySelector("body");
    body === null || body === void 0 ? void 0 : body.classList.add(MOBILE_CLASSNAME);
  } catch (_a) {
  }
};
var removeClassNameFromBody = function() {
  try {
    var body = document.querySelector("body");
    body === null || body === void 0 ? void 0 : body.classList.remove(MOBILE_CLASSNAME);
  } catch (_a) {
  }
};
var MediaQueryProvider = function(props) {
  var children = props.children, logger = props.logger;
  var breakpoint = (props === null || props === void 0 ? void 0 : props.breakpoint) || false;
  var _a = (0, import_react8.useState)(false), isMobile = _a[0], setIsMobile = _a[1];
  (0, import_react8.useEffect)(function() {
    var _a2;
    var updateSize = function() {
      var _a3, _b, _c, _d, _e2;
      if (typeof breakpoint === "boolean") {
        setIsMobile(breakpoint);
        if (breakpoint) {
          (_a3 = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a3 === void 0 ? void 0 : _a3.call(logger, "MediaQueryProvider: isMobile: true");
          addClassNameToBody();
        } else {
          (_b = logger === null || logger === void 0 ? void 0 : logger.info) === null || _b === void 0 ? void 0 : _b.call(logger, "MediaQueryProvider: isMobile: false");
          removeClassNameFromBody();
        }
      } else {
        var mq = window.matchMedia("(max-width: ".concat(breakpoint, ")"));
        (_c = logger === null || logger === void 0 ? void 0 : logger.info) === null || _c === void 0 ? void 0 : _c.call(logger, "MediaQueryProvider: Screensize updated to ".concat(breakpoint));
        if (mq.matches) {
          setIsMobile(true);
          addClassNameToBody();
          (_d = logger === null || logger === void 0 ? void 0 : logger.info) === null || _d === void 0 ? void 0 : _d.call(logger, "MediaQueryProvider: isMobile: true");
        } else {
          setIsMobile(false);
          removeClassNameFromBody();
          (_e2 = logger === null || logger === void 0 ? void 0 : logger.info) === null || _e2 === void 0 ? void 0 : _e2.call(logger, "MediaQueryProvider: isMobile: false");
        }
      }
    };
    updateSize();
    window.addEventListener("resize", updateSize);
    (_a2 = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a2 === void 0 ? void 0 : _a2.call(logger, "MediaQueryProvider: addEventListener", {
      updateSize
    });
    return function() {
      var _a3;
      window.removeEventListener("resize", updateSize);
      (_a3 = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a3 === void 0 ? void 0 : _a3.call(logger, "MediaQueryProvider: removeEventListener", {
        updateSize
      });
    };
  }, [breakpoint]);
  return import_react8.default.createElement(MediaQueryContext.Provider, {
    value: {
      breakpoint,
      isMobile
    }
  }, children);
};
var useMediaQueryContext = function() {
  return import_react8.default.useContext(MediaQueryContext);
};

// node_modules/@sendbird/uikit-react/types-9d43ac6e.js
var ButtonTypes;
(function(ButtonTypes2) {
  ButtonTypes2["PRIMARY"] = "PRIMARY";
  ButtonTypes2["SECONDARY"] = "SECONDARY";
  ButtonTypes2["DANGER"] = "DANGER";
  ButtonTypes2["DISABLED"] = "DISABLED";
})(ButtonTypes || (ButtonTypes = {}));
var ButtonSizes;
(function(ButtonSizes2) {
  ButtonSizes2["BIG"] = "BIG";
  ButtonSizes2["SMALL"] = "SMALL";
})(ButtonSizes || (ButtonSizes = {}));

// node_modules/@sendbird/uikit-react/ui/Button.js
var import_react9 = __toESM(require_react(), 1);
var import_prop_types3 = __toESM(require_prop_types(), 1);
function changeTypeToClassName(type) {
  switch (type) {
    case ButtonTypes.PRIMARY:
      return "sendbird-button--primary";
    case ButtonTypes.SECONDARY:
      return "sendbird-button--secondary";
    case ButtonTypes.DANGER:
      return "sendbird-button--danger";
    case ButtonTypes.DISABLED:
      return "sendbird-button--disabled";
    default:
      return null;
  }
}
function changeSizeToClassName(size) {
  switch (size) {
    case ButtonSizes.BIG:
      return "sendbird-button--big";
    case ButtonSizes.SMALL:
      return "sendbird-button--small";
    default:
      return null;
  }
}
function Button(_a) {
  var className = _a.className, _b = _a.type, type = _b === void 0 ? ButtonTypes.PRIMARY : _b, _c = _a.size, size = _c === void 0 ? ButtonSizes.BIG : _c, _d = _a.children, children = _d === void 0 ? "Button" : _d, _e2 = _a.disabled, disabled = _e2 === void 0 ? false : _e2, _f = _a.onClick, onClick = _f === void 0 ? function() {
  } : _f;
  var injectingClassNames = __spreadArray(__spreadArray([], Array.isArray(className) ? className : [className], true), ["sendbird-button", disabled ? "sendbird-button__disabled" : "", changeTypeToClassName(type), changeSizeToClassName(size)], false).join(" ");
  return import_react9.default.createElement("button", {
    className: injectingClassNames,
    type: "button",
    onClick,
    disabled
  }, import_react9.default.createElement(Label, {
    className: "sendbird-button__text",
    type: LabelTypography.BUTTON_1,
    color: LabelColors.ONCONTENT_1
  }, children));
}

// node_modules/@sendbird/uikit-react/ui/Modal.js
var import_react10 = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var import_prop_types4 = __toESM(require_prop_types(), 1);
var ModalHeader = function(_a) {
  var titleText = _a.titleText;
  return import_react10.default.createElement("div", {
    className: "sendbird-modal__header"
  }, import_react10.default.createElement(Label, {
    type: LabelTypography.H_1,
    color: LabelColors.ONBACKGROUND_1
  }, titleText));
};
var ModalBody = function(_a) {
  var children = _a.children;
  return import_react10.default.createElement("div", {
    className: "sendbird-modal__body"
  }, import_react10.default.createElement(Label, {
    type: LabelTypography.SUBTITLE_1,
    color: LabelColors.ONBACKGROUND_2
  }, children));
};
var ModalFooter = function(_a) {
  var submitText = _a.submitText, _b = _a.disabled, disabled = _b === void 0 ? false : _b, _c = _a.hideCancelButton, hideCancelButton = _c === void 0 ? false : _c, _d = _a.type, type = _d === void 0 ? ButtonTypes.DANGER : _d, onSubmit = _a.onSubmit, onCancel = _a.onCancel;
  var stringSet = (0, import_react10.useContext)(LocalizationContext).stringSet;
  return import_react10.default.createElement("div", {
    className: "sendbird-modal__footer"
  }, !hideCancelButton && import_react10.default.createElement(Button, {
    type: ButtonTypes.SECONDARY,
    onClick: onCancel
  }, import_react10.default.createElement(Label, {
    type: LabelTypography.BUTTON_1,
    color: LabelColors.ONBACKGROUND_1
  }, stringSet.BUTTON__CANCEL)), import_react10.default.createElement(Button, {
    type,
    disabled,
    onClick: onSubmit
  }, submitText));
};
function Modal(props) {
  var _a = props.children, children = _a === void 0 ? null : _a, _b = props.className, className = _b === void 0 ? "" : _b, _c = props.isCloseOnClickOutside, isCloseOnClickOutside = _c === void 0 ? false : _c, _d = props.isFullScreenOnMobile, isFullScreenOnMobile = _d === void 0 ? false : _d, titleText = props.titleText, submitText = props.submitText, _e2 = props.disabled, disabled = _e2 === void 0 ? false : _e2, _f = props.hideFooter, hideFooter = _f === void 0 ? false : _f, _g2 = props.type, type = _g2 === void 0 ? ButtonTypes.DANGER : _g2, _h = props.onCancel, onCancel = _h === void 0 ? noop : _h, onClose = props.onClose, _j = props.onSubmit, onSubmit = _j === void 0 ? noop : _j, renderHeader = props.renderHeader;
  var handleClose = onClose !== null && onClose !== void 0 ? onClose : onCancel;
  var isMobile = useMediaQueryContext().isMobile;
  return (0, import_react_dom.createPortal)(import_react10.default.createElement("div", {
    className: "\n      sendbird-modal ".concat(className, "\n      ").concat(isFullScreenOnMobile && isMobile ? "sendbird-modal--full-mobile" : "", "\n    ")
  }, import_react10.default.createElement("div", {
    className: "sendbird-modal__content"
  }, (renderHeader === null || renderHeader === void 0 ? void 0 : renderHeader()) || import_react10.default.createElement(ModalHeader, {
    titleText: titleText !== null && titleText !== void 0 ? titleText : ""
  }), import_react10.default.createElement(ModalBody, null, children), !hideFooter && import_react10.default.createElement(ModalFooter, {
    disabled,
    onCancel: handleClose,
    onSubmit,
    submitText: submitText !== null && submitText !== void 0 ? submitText : "",
    type
  }), import_react10.default.createElement("div", {
    className: "sendbird-modal__close"
  }, import_react10.default.createElement(IconButton, {
    width: "32px",
    height: "32px",
    onClick: handleClose
  }, import_react10.default.createElement(Icon, {
    type: IconTypes.CLOSE,
    fillColor: IconColors.DEFAULT,
    width: "24px",
    height: "24px"
  })))), import_react10.default.createElement("div", {
    className: "\n          sendbird-modal__backdrop\n          ".concat(isCloseOnClickOutside && "sendbird-modal__backdrop--clickoutside", "\n        "),
    onClick: function(e3) {
      e3 === null || e3 === void 0 ? void 0 : e3.stopPropagation();
      if (isCloseOnClickOutside) {
        handleClose();
      }
    }
  })), document.getElementById(MODAL_ROOT));
}

// node_modules/@sendbird/uikit-react/_rollupPluginBabelHelpers-e92eb032.js
function ownKeys(e3, r3) {
  var t6 = Object.keys(e3);
  if (Object.getOwnPropertySymbols) {
    var o3 = Object.getOwnPropertySymbols(e3);
    r3 && (o3 = o3.filter(function(r4) {
      return Object.getOwnPropertyDescriptor(e3, r4).enumerable;
    })), t6.push.apply(t6, o3);
  }
  return t6;
}
function _objectSpread2(e3) {
  for (var r3 = 1; r3 < arguments.length; r3++) {
    var t6 = null != arguments[r3] ? arguments[r3] : {};
    r3 % 2 ? ownKeys(Object(t6), true).forEach(function(r4) {
      _defineProperty(e3, r4, t6[r4]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(t6)) : ownKeys(Object(t6)).forEach(function(r4) {
      Object.defineProperty(e3, r4, Object.getOwnPropertyDescriptor(t6, r4));
    });
  }
  return e3;
}
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _extends2() {
  _extends2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends2.apply(this, arguments);
}
function _toPrimitive(input, hint) {
  if (typeof input !== "object" || input === null)
    return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== void 0) {
    var res = prim.call(input, hint || "default");
    if (typeof res !== "object")
      return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return typeof key === "symbol" ? key : String(key);
}

// node_modules/@sendbird/uikit-react/resolvedReplyType-fb987595.js
function getCaseResolvedReplyType(replyType) {
  return {
    lowerCase: replyType.toLowerCase(),
    upperCase: replyType.toUpperCase()
  };
}
function getCaseResolvedThreadReplySelectType(threadReplySelectType) {
  return {
    lowerCase: threadReplySelectType.toLowerCase(),
    upperCase: threadReplySelectType.toUpperCase()
  };
}

export {
  __extends,
  __assign,
  __awaiter,
  __generator,
  __spreadArray,
  t,
  n,
  r,
  o,
  s,
  a,
  c,
  l,
  d,
  _,
  f,
  p,
  v,
  g,
  w,
  N,
  S,
  k,
  R,
  U,
  M,
  F,
  K,
  W,
  Y,
  J,
  ee,
  te,
  ne,
  ie,
  oe,
  ue,
  le,
  _e,
  fe,
  ve,
  Ce,
  Oe,
  Ie,
  Re,
  De,
  ze,
  Ve,
  He,
  qe,
  Ke,
  Ze,
  lr,
  dr,
  fr,
  Er,
  yr,
  Ar,
  xr,
  Ur,
  Pr,
  Fr,
  zr,
  Vr,
  jr,
  Kr,
  So,
  Ao,
  Co,
  Oo,
  zo,
  Vo,
  Ho,
  Go,
  Jo,
  $o,
  es,
  ts,
  ns,
  is,
  os,
  cs,
  hs,
  xe2 as xe,
  it2 as it,
  Tt2 as Tt,
  pn2 as pn,
  Sn2 as Sn,
  Un2 as Un,
  On2 as On,
  kn2 as kn,
  xn2 as xn,
  Ln2 as Ln,
  Kn2 as Kn,
  Qn2 as Qn,
  Vn2 as Vn,
  Wn2 as Wn,
  vr2 as vr,
  _r2 as _r,
  gr2 as gr,
  Ir2 as Ir,
  Er2,
  Tr2 as Tr,
  Sr2 as Sr,
  Mr2 as Mr,
  Ar2,
  Ur2,
  Cr2 as Cr,
  Fr2,
  qr2 as qr,
  zr2,
  Br2 as Br,
  Qr2 as Qr,
  Hr2 as Hr,
  Jr2 as Jr,
  Gi2 as Gi,
  Hi2 as Hi,
  Wi2 as Wi,
  Yi2 as Yi,
  Ji2 as Ji,
  Xi2 as Xi,
  es2,
  ts2,
  as2 as as,
  os2,
  cs2,
  ds,
  ys,
  Es,
  Ts,
  E2 as E,
  C2 as C,
  L2 as L,
  S2,
  N2,
  v2,
  D2 as D,
  T2 as T,
  A2 as A,
  f2,
  m2 as m,
  v3,
  T3 as T2,
  H2 as H,
  L3 as L2,
  g2,
  U2,
  I3 as I,
  t2,
  qe3 as qe2,
  $e3 as $e,
  uuidv4,
  noop,
  isAboutSame,
  SendbirdSdkContext,
  useSendbirdStateContext,
  S3,
  K2,
  OutgoingMessageStates,
  getOutgoingMessageState,
  getMimeTypesUIKitAccepts,
  UIKitMessageTypes,
  isTextuallyNull,
  isImage,
  isVideo,
  isGif,
  isSupportedFileView,
  isAudio,
  getUIKitFileTypes,
  getUIKitFileType,
  isSentMessage,
  isReadMessage,
  isFailedMessage,
  isPendingMessage,
  isSentStatus,
  isUserMessage,
  isFileMessage,
  isMultipleFilesMessage,
  isThreadMessage,
  isOGMessage,
  isTextMessage,
  isThumbnailMessage,
  isImageMessage,
  isImageFileInfo,
  isVideoMessage,
  isGifMessage,
  isAudioMessage,
  isVoiceMessageMimeType,
  isVoiceMessage,
  isEditedMessage,
  getUIKitMessageTypes,
  getUIKitMessageType,
  getClassName,
  isReactedBy,
  getEmojiTooltipString,
  isUrl,
  truncateString,
  copyToClipboard,
  getEmojiListAll,
  getEmojiMapAll,
  getEmojiUrl,
  getSenderName,
  filterMessageListParams,
  filterChannelListParams,
  getChannelsWithUpsertedChannel,
  arrayEqual,
  isSendableMessage,
  getStringSet,
  defaultLocale,
  LocalizationContext,
  LocalizationProvider,
  useLocalization,
  require_prop_types,
  changeColorToClassName,
  Label,
  LabelTypography,
  LabelColors,
  LabelStringSet,
  Icon,
  IconTypes,
  IconColors,
  IconButton,
  MODAL_ROOT,
  MediaQueryProvider,
  useMediaQueryContext,
  ButtonTypes,
  ButtonSizes,
  Button,
  ModalFooter,
  Modal,
  _objectSpread2,
  _extends2 as _extends,
  getCaseResolvedReplyType,
  getCaseResolvedThreadReplySelectType
};
/*! Bundled license information:

react-is/cjs/react-is.development.js:
  (** @license React v16.13.1
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/
//# sourceMappingURL=chunk-AKEMRQJX.js.map
